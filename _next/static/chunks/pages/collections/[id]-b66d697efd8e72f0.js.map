{"version":3,"file":"static/chunks/pages/collections/[id]-b66d697efd8e72f0.js","mappings":"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","sources":["webpack://_N_E/?b930","webpack://_N_E/./components/pages/collection/filter_bar/icon_button.tsx","webpack://_N_E/./components/pages/collection/filter_bar/text_button.tsx","webpack://_N_E/./components/pages/collection/filter_bar.tsx","webpack://_N_E/./components/common/nicotine-warning.tsx","webpack://_N_E/./components/common/price-display-with-discount.tsx","webpack://_N_E/./components/pages/collection/grid/item.tsx","webpack://_N_E/./components/core/transitions/fade_in.tsx","webpack://_N_E/./components/pages/collection/grid/no-items.tsx","webpack://_N_E/./components/pages/collection/search-bar.tsx","webpack://_N_E/./pages/collections/[id].tsx","webpack://_N_E/./node_modules/@swc/helpers/src/_instanceof.mjs"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/collections/[id]\",\n      function () {\n        return require(\"private-next-pages/collections/[id].tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/collections/[id]\"])\n      });\n    }\n  ","import { prebuildData } from \"../../../../lib/prebuild-data\";\nimport { EventPane } from \"../../../core/event_pane\";\n\nexport type FilterBarIconButtonProps = {\n    name: string;\n    selected?: boolean;\n    onClick?: () => void;\n    paneClassNames?: string[];\n    hint?: string;\n};\n\nexport function FilterBarIconButton({name,selected,onClick = () => {},paneClassNames,hint}:FilterBarIconButtonProps)\n{\n    const { collectionFilterControls: { highlightColor,hoverColor,color } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className={\"wrapper\"+(selected?\" selected\":\"\")}>\n                <div className={\"container\"}>\n                    <div className=\"frame\">\n                        <i className={`icon-collection-filterbar-${name} icon`}  />\n                    </div>\n                    <div className=\"frame selected\">\n                        <i className={`icon-collection-filterbar-${name}-selected icon`}  />\n                    </div>\n                    <EventPane onClick={onClick} paneClassNames={paneClassNames} hint={hint} />\n                </div>\n            </div>\n            <style jsx>{`\n            .container {\n                --height: 68rem;\n                position: relative;\n                width: 100%;\n                height: var(--height);\n            }\n\n            .frame {\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;                \n                text-align: center;\n                visibility: hidden;\n                opacity: 0;\n                --duration: calc(var(--action-switch-transition-duration) * 0.7);\n                --delay: var(--duration);                \n                transition: visibility var(--duration) ease var(--delay), opacity var(--duration) ease var(--delay);\n                z-index: -2;\n            }\n\n            .wrapper:not(.selected) .frame:not(.selected),.wrapper.selected .frame.selected {\n                visibility: visible;\n                opacity: 1;\n                transition: visibility var(--duration), opacity var(--duration);\n                z-index: -1;\n            }\n            \n            .icon {\n                font-size: 32rem;\n                line-height: var(--height);\n                color: ${color};\n            }\n\n            .frame.selected .icon {\n                color: ${highlightColor};\n            }\n\n            .container.hover .frame:not(.selected) .icon {\n                color: ${hoverColor};\n            } \n\n            .container.touchdown {\n                background-color: rgba(0,0,0,0.03);\n            }\n\n            @media screen and (max-width: 1300px) and (max-height: 775px) {\n                .container {\n                    --height: 60rem;\n                }\n\n                .icon {\n                    font-size: 30rem;\n                }\n            }      \n\n            `}</style>\n        </>\n    );\n}","import React from \"react\";\nimport { prebuildData } from \"../../../../lib/prebuild-data\";\nimport { EventPane } from \"../../../core/event_pane\";\n\nexport type FilterBarTextButtonProps = {\n    text: string;\n    selected?: boolean;\n    onClick?: () => void;\n    paneClassNames?: string[];\n    disabled?: boolean;\n};\n\nexport function FilterBarTextButton({text,selected = false,onClick = () => {},paneClassNames,disabled = false}:FilterBarTextButtonProps)\n{\n    const { collectionFilterControls: { backgroundColor,color,highlightColor,hoverColor } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className={\"container\"+(selected?\" selected\":\"\")+(disabled?\" disabled\":\"\")}>\n                {text.split(\"\\n\").map((line,index) => (<React.Fragment key={index}>{line}<br/></React.Fragment>))}\n                {!disabled?<EventPane onClick={onClick} paneClassNames={paneClassNames} />:null}                \n            </div>\n            <style jsx>{`\n            .container {\n                position: relative;\n                text-align: center;\n                color: ${color};\n                font-weight: 700;\n                font-size: 15.5rem;\n                letter-spacing: 0.5rem;\n                padding: 19rem 0rem;\n                --duration: var(--action-switch-transition-duration);\n                transition: color var(--duration);\n            }\n\n            .container.disabled {\n                color: #aaa;\n            }\n\n            .container.selected {\n                color: ${highlightColor};\n            }\n\n            .container.hover:not(.selected) {\n                color: ${hoverColor};\n            }\n\n            .container.touchdown {\n                background-color: rgba(0,0,0,0.03);\n            }\n\n            @media screen and (max-width: 1300px) and (max-height: 775px) {\n                .container {\n                    padding: 15rem 0rem;\n                    font-size: 15rem;\n                }\n            }      \n            `}</style>\n        </>\n    );\n}   ","import { useContext, useEffect, useRef, useState } from \"react\";\nimport { CollectionFilterStateContext, FilterMap, SortOrder } from \"../../../contexts/collection_filter_state\";\nimport { DimensionsStateContext } from \"../../../contexts/dimensions_state\";\nimport { LayoutStateContext } from \"../../../contexts/layout_state\";\nimport { WindowSizeContext } from \"../../../contexts/window_size\";\nimport { useResizeObserver } from \"../../../hooks/use_resize_observer\";\nimport { useSmartState } from \"../../../hooks/use_smart_state\";\nimport { misc } from \"../../../lib/misc\";\nimport { prebuildData } from \"../../../lib/prebuild-data\";\nimport { FilterBarIconButton } from \"./filter_bar/icon_button\";\nimport { FilterBarTextButton } from \"./filter_bar/text_button\";\n\nexport type FilterBarProps = {\n    width: number;\n    open: boolean;\n    bannerHeightReady: boolean;\n    cancelControlsPointerEvents: boolean;\n    showInline: boolean;\n};\n\nexport function FilterBar({width,open,bannerHeightReady,cancelControlsPointerEvents,showInline}: FilterBarProps)\n{\n    open = true;\n\n    const sortOrderCaptions = {\n        \"popular\": \"MOST \\nPOPULAR\",\n        \"reviewed\": \"BEST \\nREVIEWED\",\n        \"newest\": \"NEWEST\",\n        // \"favorites\": \"MY \\nFAVORITES\",\n    };\n    // const filters = [\"apple\",\"cake\",\"candy\",\"ice\",\"more\"];\n    const filters = [\n        {id: \"fruit\",hint: \"Fruit\"},\n        {id: \"dessert\",hint: \"Dessert\"},\n        {id: \"candy\",hint: \"Candy\"},\n        {id: \"cool\",hint: \"Menthol / Agent Cool Recommended\"},\n        {id: \"other\",hint: \"Others\"}\n    ];\n\n    const { sortOrder, filter, isSwitching } = useContext(CollectionFilterStateContext);\n\n    const [filterValue,setFilterValue] = useState<FilterMap>({});\n    const filterValueRef = useRef(filterValue);\n    filterValueRef.current = filterValue;\n\n    const [sortOrderValue,setSortOrderValue] = useState<SortOrder>(\"popular\");\n    const sendFilterTimeoutRef = useRef(0);\n    const sendSortOrderTimeoutRef = useRef(0);\n\n    useEffect(() => \n    {\n        if (sendFilterTimeoutRef.current!==0) clearTimeout(sendFilterTimeoutRef.current);\n        sendFilterTimeoutRef.current = setTimeout(() => \n        {\n            sendFilterTimeoutRef.current = 0;            \n            filter.set(filterValue);\n        },50) as unknown as number;\n        \n    },[filterValue]);\n\n    useEffect(() => \n    {\n        const { current: filterValue } = filterValueRef;\n        if ((Object.keys(filter.value).length===0) && (Object.keys(filterValue).length>0))\n        {\n            setFilterValue({});\n        }\n    },[filter.value]);\n    \n    useEffect(() => \n    {\n        if (sendSortOrderTimeoutRef.current!==0) clearTimeout(sendSortOrderTimeoutRef.current);\n        sendSortOrderTimeoutRef.current = setTimeout(() => \n        {\n            sendSortOrderTimeoutRef.current = 0;            \n            sortOrder.set(sortOrderValue);\n        },50) as unknown as number;\n        \n    },[sortOrderValue]);\n\n    const selectedFilterIdRef = useRef(filterValue);\n    selectedFilterIdRef.current = filterValue;\n    const [controlsTop,setControlsTop] = useState(0);\n    const [_showControls,setShowControls] = useState(false);\n\n    const showControls = _showControls && bannerHeightReady;\n\n    const { page,misc: { filterBarItemClassNameIdentifier },mobileDetect: { isActive: isMobile,widthCutoff: mobileCutoff } } = useContext(LayoutStateContext);\n    const _windowSize = useContext(WindowSizeContext);\n    const permRef = useRef({windowSize: _windowSize});\n    permRef.current.windowSize = _windowSize;    \n\n    const { \n        navbarHeight,\n        bannerHeight,\n        miniNavbarHeight,\n        collectionGridHeight,\n        filterBarControlsHeight,\n        scrollBottomPadding\n    } = useContext(DimensionsStateContext);\n\n    const updateTop = () => \n    {\n        const { windowSize } = permRef.current;\n        const controlsHeight = filterBarControlsHeight.value;\n        const scrollTop = page.scrollTop();\n        const { height: windowHeight } = windowSize;\n        const topSectionHeight = navbarHeight.value+bannerHeight.value;\n        const maxAvailableSpace = windowHeight-miniNavbarHeight.value;\n        const availableSpace = Math.min(windowHeight-topSectionHeight+scrollTop,maxAvailableSpace);\n        scrollBottomPadding.set(Math.max(controlsHeight-collectionGridHeight.value,0));        \n\n        if ((controlsHeight+10)<=availableSpace) {\n            const stickyPosition = ((maxAvailableSpace-controlsHeight)/2)+miniNavbarHeight.value;\n            setControlsTop(stickyPosition);\n        }\n        else {\n            setControlsTop(miniNavbarHeight.value);\n        }\n        \n        setShowControls(true);\n    };\n\n    const hideControls = useSmartState(false);\n\n    useEffect(() => \n    {\n        return page.addScrollEventListener(({}) => updateTop());\n    },[]);\n\n    useEffect(() => \n    {\n        updateTop();\n    },[_windowSize,navbarHeight.value,bannerHeight.value,miniNavbarHeight.value,collectionGridHeight.value,filterBarControlsHeight.value]);\n\n    const paneClassNames = [filterBarItemClassNameIdentifier];\n\n    const handlerFilterIconClicked = (id: string) =>\n    {\n        const updatedSelectedFilterId = {...selectedFilterIdRef.current};\n        if (selectedFilterIdRef.current[id])\n        {\n            delete updatedSelectedFilterId[id];\n        }\n        else\n        {\n            updatedSelectedFilterId[id] = true;\n        }\n        setFilterValue(updatedSelectedFilterId);\n    };\n\n    const refOnResize = useResizeObserver(({height}) =>\n    {\n        filterBarControlsHeight.set(height);\n    });\n\n    useEffect(() => {\n        if (isSwitching.value || page.isScrollLocked) {\n            // const offsetTop = misc.getOffsetRelativeToParent(refOnResize.current,\".filter-bar-back\").top;\n            // setFixedTop(controlsTop);\n        }\n        else {\n            hideControls.value = false;\n        }\n    },[isSwitching.value || page.isScrollLocked]);\n\n    const isBlocked = isSwitching.value || page.isScrollLocked;\n\n    const { collectionFilterControls: { backgroundColor,color } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className={\"container slider\"+(open?\" open\":\"\")} style={{width: `${width}rem`,transform: `translateX(${open?0:-width}rem)`}}>\n            </div>\n            <div ref={refOnResize} className={\"controls slider\"+(open?\" open\":\"\")+(showInline?\" show-inline\":\"\")+\" \"+paneClassNames.join(\" \")+(hideControls.value?\" hide-controls\":\"\")} style={{\n                    width: `${width}rem`,\n                    transform: `translateX(${open?0:-width}rem)`,\n                    ...(isMobile.current?{}:{\n                        top: (controlsTop+(showControls?0:-100000)),\n                    }),                    \n                    pointerEvents: cancelControlsPointerEvents?\"none\":\"all\",\n                }}>\n                <div className=\"top-spacer\"></div>\n                {Object.keys(sortOrderCaptions).map((id: SortOrder) => <FilterBarTextButton key={id} disabled={id===\"favorites\"} paneClassNames={paneClassNames} text={sortOrderCaptions[id]} selected={sortOrderValue===id} onClick={() => setSortOrderValue(id)} /> )}\n                <div className={[\"separator\",paneClassNames].join(\" \")}>\n                    FLAVOR<br/>FILTER\n                </div>\n                {filters.map(({id,hint}) => <FilterBarIconButton key={id} paneClassNames={paneClassNames} name={id} selected={filterValue[id]?true:false} onClick={() => handlerFilterIconClicked(id)} hint={hint} />)}\n                <div className=\"bottom-spacer\"></div>\n            </div>\n            <style jsx>{`\n\n            .slider.open {\n                /* transition: transform 0.5s; */\n            }\n\n            .container {\n                position: fixed;\n                left: 0rem;\n                top: 0rem;\n                height: 100%;\n                background-color: ${backgroundColor};\n                z-index: -1;                \n                display: none;\n            }\n\n            .bottom-spacer {\n                height: 12rem;\n            }\n\n            .top-spacer {\n                height: 7rem;\n            }\n\n            .controls {\n                position: sticky;\n                left: 0rem;\n                z-index: 1;\n                --action-switch-transition-duration: 0.2s;\n                transition: opacity 0.5s;\n            }\n\n            .controls.show-inline {\n                /* position: static; */\n            }\n\n            .controls.hide-controls {\n                opacity: 0;\n                transition-duration: 0s;\n            }\n\n\n            .separator {\n                text-align: center;\n                font-size: 15.5rem;\n                letter-spacing: 0.5rem;\n                color: ${color};\n                font-weight: 700;\n                border-top: 1rem solid ${color};\n                border-bottom: 1rem solid ${color};\n                margin: 10rem 18rem;\n                padding: 12rem 0rem;\n            }\n\n            @media screen and (max-width: 1300px) and (max-height: 775px) {\n                .separator {\n                    font-size: 15rem;\n                }\n            }      \n            @media screen and (max-width: ${mobileCutoff}px) {\n                .controls {\n                    position: static;\n                }\n            }\n            `}</style>\n        </>\n    );\n}","import { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\n\nexport type NicotineWarningProps = {\n};\n\nexport default function NicotineWarning({}:NicotineWarningProps)\n{\n    const cssStateManager = useCssStateManager([\"nicotine-warning\"]);\n\n    const { nicotineWarningBox: { backgroundColor,borderColor,textColor } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"outline\">\n                    <div className=\"warning\">WARNING</div>\n                    <div className=\"text-line\">This product contains nicotine. Nicotine is an addictive chemical</div>\n                </div>\n            </div>\n            <style jsx>{`\n            .nicotine-warning {       \n                background-color: ${backgroundColor};                                         \n                color: ${textColor};\n                text-align: center;\n                margin-top: 20rem;            \n                padding: 0rem 0rem;\n            }\n            .outline {                \n                border: 3rem solid ${borderColor};\n                padding: 10rem;\n            }\n            .warning {\n                font-size: 15rem;\n                font-weight: 600;\n                padding-bottom: 2rem;            \n            }\n            .text-line {\n                font-size: 12rem;\n            }\n            `}</style>\n        </>\n    );\n}","import { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport PriceDisplay from \"./price-display\";\n\nexport type PriceDisplayWithDiscountProps = {\n    size?: number;\n    price: number;\n    discountedPrice: number;\n};\n\nexport default function PriceDisplayWithDiscount({\n    size,\n    price,\n    discountedPrice\n}:PriceDisplayWithDiscountProps)\n{\n    const cssStateManager = useCssStateManager([\"price-display-with-discount\"]);\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                {(price!==discountedPrice)?<>\n                    <span className=\"left-price\">\n                        <PriceDisplay price={price} size={size} strike />\n                    </span>\n                    <PriceDisplay price={discountedPrice} size={size} />\n                </>:<PriceDisplay price={price} size={size} />}                                \n            </div>\n            <style jsx>{`\n            .price-display-with-discount {\n            }\n\n            .left-price {\n                padding-right: 8rem;\n            }\n            `}</style>\n        </>\n    );\n}\n","import { useContext, useState } from \"react\";\nimport { LayoutStateContext } from \"../../../../contexts/layout_state\";\nimport { useCachedValue } from \"../../../../hooks/use_cached_value\";\nimport { useCustomRouter } from \"../../../../hooks/use_custom_router\";\nimport { consumeReviewsHeader } from \"../../../../hooks/use_reviews_header\";\nimport { prebuildData } from \"../../../../lib/prebuild-data\";\nimport NicotineWarning from \"../../../common/nicotine-warning\";\nimport PriceDisplay from \"../../../common/price-display\";\nimport PriceDisplayWithDiscount from \"../../../common/price-display-with-discount\";\nimport { Image } from \"../../../common/scaled-next-image\";\nimport { EventPane } from \"../../../core/event_pane\";\nimport { useCssStateManager } from \"../../../../hooks/use_css_state_manager\";\n\nexport type CollectionsGridItemProps = {\n    caption: string;\n    price: number;\n    discountedPrice: number;\n    imageSrc: string;\n    hoverImageSrc?: string;\n    productId: string;\n    teaseCaption?: string;\n};\n\nexport function CollectionsGridItem({caption,price,discountedPrice,imageSrc,hoverImageSrc,productId,teaseCaption}:CollectionsGridItemProps)\n{\n    const cssStateManager = useCssStateManager([\"collection-grid-item\"]);\n    cssStateManager.useProperty(!!teaseCaption,\"has-tease\");\n    const layout = useContext(LayoutStateContext);\n    const router = useCustomRouter();\n    let { reviewsCount,starRating } = consumeReviewsHeader(productId,layout);\n    const { mobileDetect: { widthCutoff: mobileCutoff } } = layout;\n\n    // const reviewText = (reviewsCount!==-1)?((reviewsCount>0)?`${reviewsCount} customer review${(reviewsCount>1)?\"s\":\"\"}`:\"No customer reviews yet\"):\"---\";\n    const reviewText = (reviewsCount>0)?`(${reviewsCount})`:\"No customer reviews\";\n    starRating = Math.min(Math.max(Math.round(starRating*2)/2,0),5);\n\n    const stars = Array.from(Array(5)).map(() => {\n        if (starRating>=1)\n        {\n            starRating--;\n            return \"star\";\n        }\n        else if (starRating===0.5)\n        {\n            starRating = 0;\n            return \"star-half\";\n        }\n        else\n        {\n            return \"star-empty\";\n        }\n    });\n\n    const { priceDollars,priceCents } = (() => \n    {\n        const priceStr = \"00\"+price;\n        const cutOffIndex = priceStr.length-2;\n        return { priceDollars: parseInt(priceStr.substring(0,cutOffIndex)).toString(),priceCents: priceStr.substring(cutOffIndex) };\n    })();\n\n    const [showImage,setShowImage] = useState(false);\n\n    const productPageRoute = useCachedValue(() => prebuildData.getProductPageRoute(productId),productId);\n\n    const clickHandler = () => {\n        router.push(productPageRoute);\n    };\n\n    const { collectionItem: { priceColor,titleColor,priceHoverColor,titleHoverColor,reviewCountColor,reviewCountHoverColor }, general: { starsColor,starsHoverColor } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className={\"image-square\"+(showImage?\" show\":\"\")}>\n                    <div className=\"inner\">\n                        <div className=\"inner-relative\">\n                            <Image src={imageSrc} layout=\"fill\" onLoadingComplete={() => {\n                                setShowImage(true);\n                            }} />\n                        </div>\n                    </div>\n                    {hoverImageSrc?(\n                        <div className=\"overlay\">\n                            <div className=\"inner\">\n                                <Image src={hoverImageSrc} layout=\"fill\" />\n                            </div>\n                        </div>\n                    ):null}\n                </div>\n                <div className={\"reviews\"+((reviewsCount>0)?\"\":\" none\")}>\n                    <span className=\"back\">\n                        <span className=\"stars\">\n                            {stars.map((type,index) => <i key={index} className={`icon-collection-item-review-${type}`} />)}\n                        </span>\n                        &nbsp;\n                        <span className=\"reviews-text\">{reviewText}</span>\n                    </span>\n                </div>                \n                <div className=\"product-name\">{caption}</div>\n                <div className=\"tease-caption\">{teaseCaption || \"\"}</div>\n                <div className=\"price\">                    \n                    <PriceDisplayWithDiscount price={price} discountedPrice={discountedPrice} size={21} />\n                </div>\n                <div className=\"expand\"></div>\n                <NicotineWarning />\n                <div className=\"bottom-margin\"></div>\n                <div className=\"mobile-overlay fill-parent\"></div>\n                <EventPane onClick={clickHandler} seoLinkUrl={productPageRoute} />\n            </div>\n            <style jsx>{`\n            .collection-grid-item {\n                width: 100%;\n                position: relative;\n                height: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            .expand {\n                flex: 1 1 auto;\n            }\n\n            .image-square {\n                width: 100%;\n                padding: 50%;\n                box-sizing: border-box;\n                position: relative;\n                --duration: 0.7s;\n                visibility: hidden;\n                opacity: 0;\n            }\n\n            .image-square.show {\n                transition: visibility var(--duration),opacity var(--duration);\n                visibility: visible;\n                opacity: 1;\n            }\n\n            .image-square .inner {\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;\n            }\n\n            .image-square .inner-relative {\n                position: relative;\n                width: 100%;\n                height: 100%;\n            }\n\n            .overlay {\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;\n                opacity: 0;\n            }\n\n            .overlay .inner {\n                position: relative;\n                width: 100%;\n                height: 100%;\n            }\n\n            .product-name,.price,.tease-caption {\n                text-align: center;\n                font-weight: 600;\n                font-size: 20rem;\n                margin-top: 8rem;                \n                width: 100%;\n                transition: color 0.2s;\n            }\n\n            .product-name {\n                color: ${titleColor};\n            }\n\n            .price {\n                color: ${priceColor};\n            }\n\n            .collection-grid-item.hover .product-name {\n                color: ${titleHoverColor};\n            }\n\n            .collection-grid-item.hover .price {\n                color: ${priceHoverColor};\n            }\n\n            .has-tease .price {\n                display: none;\n            }\n\n            .tease-caption {\n                display: none;\n            }\n\n            .has-tease .tease-caption {\n                display: block;\n                margin-top: 20rem;                \n                font-weight: 400;\n                font-size: 18rem;\n            }\n\n            .reviews {\n                text-align: center;\n                margin-top: 8rem;\n            }\n\n            .reviews .back {\n                background-color: #FFF;\n                padding: 4rem 10rem;\n                padding-right: 13rem;\n            }\n\n            .stars {\n                color: ${starsColor};\n                letter-spacing: 3rem;\n                font-size: 18rem;\n                transition: color 0.2s;\n            }\n\n            .collection-grid-item.hover .stars {\n                color: ${starsHoverColor};\n            }            \n\n            .reviews.none .stars {\n                display: none;\n            }\n\n            .reviews-text {\n                color: ${reviewCountColor};\n                transition: color 0.2s;\n            }\n\n            .collection-grid-item.hover .reviews-text {\n                color: ${reviewCountHoverColor};\n            }            \n\n            .reviews.none .reviews-text {\n                color: ${titleColor};\n            }\n\n            .bottom-margin {\n                height: 25rem;\n                font-size: 13rem;\n            }\n\n            .collection-grid-item.hover .overlay {\n                opacity: 1;\n                transition: opacity 0.3s ease-in-out;\n            }\n\n            .sup,.sup-dollar {\n                position: relative; top: -0.31em; left: 0.09em; font-size: 70%;\n            }\n\n            .sup-dollar {\n                left: 0rem;\n            }\n\n            .between-stars-review-break {\n                /* display: none; */\n                display: inline;                \n            }\n\n            .mobile-overlay {\n                position: absolute;\n                background-color: rgba(0,0,0,0.045);\n                opacity: 0;\n                transition: opacity var(--duration);\n            }\n\n            @media screen and (max-width: ${mobileCutoff}px) {\n                /*\n                .collection-grid-item.touchdown .mobile-overlay {\n                    opacity: 1;\n                }\n                */\n            }\n\n            `}</style>\n        </>\n    );\n}","import { FC, PropsWithChildren, useEffect, useState } from \"react\";\n\nexport type TransitionFadeInProps = {\n    durationSecs?: number;\n};\n\nexport const TransitionFadeIn: FC<PropsWithChildren<TransitionFadeInProps>> = ({\n    durationSecs = 0.6,\n    children\n}) =>\n{    \n    const [show,setShow] = useState(false)\n    useEffect(() => \n    {\n        setShow(true);\n    },[]);\n\n    return (\n        <>\n            <div className={\"container\"+(show?\" show\":\"\")} style={{\n                transition: `visibility ${durationSecs}s,opacity ${durationSecs}s`\n            }}>{children}</div>\n            <style jsx>{`\n            .container {\n                visibility: hidden;\n                opacity: 0;\n            }\n\n            .container.show {\n                visibility: visible;\n                opacity: 1;\n            }\n            `}</style>\n        </>\n    );\n}","import { useState } from \"react\";\nimport { TransitionFadeIn } from \"../../../core/transitions/fade_in\";\n\nexport type CollectionsGridNoItemsProps = {\n    caption?: string;\n};\n\nexport function CollectionsGridNoItems({caption = \"No products found matching this filter.\"}:CollectionsGridNoItemsProps)\n{    \n    return (\n        <>\n            <TransitionFadeIn>\n                <div className=\"container\">\n                    <div className=\"icon\">\n                        <i className=\"icon-collection-empty\" />\n                    </div>\n                    <div className=\"text\">\n                        {caption}\n                    </div>\n                </div>\n            </TransitionFadeIn>\n            <style jsx>{`\n            .container {\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                color: #424242;\n            }\n\n            .icon {\n                font-size: 150rem;\n                margin-top: 30rem;\n                margin-bottom: 15rem;\n                color: #787878;\n            }\n\n            .text {\n                font-size: 18rem;\n                text-align: center;\n            }\n           `}</style>\n        </>\n    );\n}","import { useContext, useEffect, useRef } from \"react\";\nimport { LayoutStateContext } from \"../../../contexts/layout_state\";\nimport { useCssStateManager } from \"../../../hooks/use_css_state_manager\";\nimport { EventPane } from \"../../core/event_pane\";\n\nexport type CollectionSearchBarProps = {\n    collectionId: string;\n    collectionCaption: string;\n};\n\nexport default function CollectionSearchBar({collectionId,collectionCaption}:CollectionSearchBarProps) {\n    const { searchOpen,openSearch,searchBarCommRef,mobileDetect: { widthCutoff: mobileCutoff,miniWidthCutoff },collectionSearchBarOpen } = useContext(LayoutStateContext);\n\n    const cssStateManager = useCssStateManager([\"collection-search-bar\"]);\n    cssStateManager.useProperty(collectionSearchBarOpen.value,\"open\");\n    cssStateManager.useProperty(searchOpen.value,\"broader-search-open\");    \n    \n    const { current: searchBarComm } = searchBarCommRef;\n\n    const clickHandler = () => {\n        if (!collectionSearchBarOpen.value) {\n            collectionSearchBarOpen.value = true;\n            openSearch(\"collection\",collectionId);\n        }\n    };\n\n    const placeholderRef = useRef<HTMLDivElement>();\n\n    const placeholderTransitionEndHandler = (elem: HTMLDivElement,propertyName: string) => {\n        if ((elem===placeholderRef.current) && (propertyName===\"width\") && (collectionSearchBarOpen.value)) {\n            searchBarComm.notifyMeOnPlaceholderAnimationEnd();\n        }\n    };\n\n    useEffect(() => {\n        if ((!searchOpen.value) && (collectionSearchBarOpen.value)) {\n            collectionSearchBarOpen.value = false;\n        }\n    },[searchOpen.value]);\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div ref={placeholderRef} className=\"placeholder\" onTransitionEnd={(e) => placeholderTransitionEndHandler(e.target as HTMLDivElement,e.propertyName)}>\n                    <div className=\"search-icon\"><i className=\"icon-navbar-search\" /></div>\n                    <div className=\"placeholder-text\">Search in {collectionCaption}</div>\n                    <EventPane onClick={clickHandler} />\n                </div>\n            </div>\n            <style jsx>{`\n            .collection-search-bar {\n                --duration: var(--search-open-duration);\n                position: relative;\n                z-index: 97;\n            }\n\n            .placeholder {\n                width: 280rem;\n                height: 40rem;\n                border: 1rem solid #aaa;\n                border-radius: 6rem;\n                position: absolute;\n                top: 0rem;\n                right: 0rem;\n                transition: width var(--duration);\n                background-color: var(--body-background-color);\n                overflow: hidden;\n            }\n\n            .open .placeholder {\n                width: 520rem;\n            }\n\n            .search-icon {\n                top: 6rem;\n                color: #ccc;\n                font-size: 21rem;\n                position: absolute;\n                left: 10rem;\n            }\n\n            .placeholder-text {\n                color: #aaa;\n                position: absolute;\n                left: 40rem;\n                top: 9rem;\n                font-size: 15rem;            \n                opacity: 1;\n                visibility: visible;\n                transition: opacity var(--duration),visibility var(--duration);\n                width: 300rem;\n            }\n\n            .placeholder-text {\n                white-space: no-wrap;\n            }\n\n            .open .placeholder-text {\n                opacity: 0;\n                visibility: hidden;\n            }\n\n            @media screen and (max-width: ${mobileCutoff}px) {\n                .placeholder {\n                    width: 0rem;                    \n                    border: none;\n                }               \n\n                .open .placeholder {\n                    border: 1rem solid #ddd;\n                    width: 100%;\n                }\n\n                /*\n                .placeholder-text {\n                    display: none;\n                }\n                */\n\n                .open .placeholder-text {\n                    opacity: 1;\n                    visibility: visible;\n                }\n            }\n\n            @media screen and (max-width: ${miniWidthCutoff}px) {\n                .placeholder-text {\n                    font-size: 14rem;\n                    top: 10rem;\n                }\n            }\n\n            \n\n            `}</style>\n        </>\n    );\n}","import Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport { useContext, useEffect, useLayoutEffect, useRef, useState } from \"react\";\nimport Banner, { TBannerLayout } from \"../../components/banner\";\nimport { Grid } from \"../../components/core/grid\";\nimport { FilterBar } from \"../../components/pages/collection/filter_bar\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\nimport { WindowSizeContext } from \"../../contexts/window_size\";\nimport { CollectionsGridItem } from \"../../components/pages/collection/grid/item\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\nimport { useResizeObserver } from \"../../hooks/use_resize_observer\";\nimport { DimensionsStateContext } from \"../../contexts/dimensions_state\";\nimport { CollectionFilterStateContext } from \"../../contexts/collection_filter_state\";\nimport { CollectionsGridNoItems } from \"../../components/pages/collection/grid/no-items\";\nimport { Icon } from \"../../components/core/icon\";\nimport { EventPane } from \"../../components/core/event_pane\";\nimport { routerTransition } from \"../../components/core/router_transition\";\nimport { useDesktopScrollbar } from \"../../hooks/use_desktop_scrollbar\";\nimport CollectionNavBar from \"../../components/pages/collection/collection-nav-bar\";\nimport { libSearch } from \"../../lib/search\";\nimport CollectionSearchBar from \"../../components/pages/collection/search-bar\";\nimport { useCustomRouter } from \"../../hooks/use_custom_router\";\nimport { getInjectableHeaderTags } from \"../../components/layout\";\nimport { useCachedValue } from \"../../hooks/use_cached_value\";\nimport { ReviewsHeaderRaw, consumeAllReviewsHeader } from \"../../hooks/use_reviews_header\";\nimport CenteredSpinner from \"../../components/common/centered-spinner\";\nimport { misc } from \"../../lib/misc\";\nimport { BoughtTogetherClient } from \"../../hooks/use_bought_together_client\";\nimport { ProductMockReviewCollection } from \"../../lib/mock-reviews\";\n\nexport async function getStaticPaths() {\n    prebuildData.loadSnapshot();\n\n    return {\n        paths: Object.keys(prebuildData.getCollectionTable()).filter((handle) => handle!==\"help\").map((id) => ({ params: { id } })),\n        fallback: false\n    };\n}\n  \nexport async function getStaticProps(context) {\n    return {\n        props: {},\n    };\n}\n\nexport default function Collection() {    \n    const reactRouter = useRouter();\n    let { id } = reactRouter.query as {[key: string]: string};\n    id = id.split(\"?\")[0];\n\n    const { page,mobileDetect: { isActive: isMobile } } = useContext(LayoutStateContext);\n\n    const lastIsMobileRef = useRef(isMobile.current);\n\n    useEffect(() => {\n        if (isMobile.current!==lastIsMobileRef.current) {\n            lastIsMobileRef.current = isMobile.current;\n            page.scrollTo({top: 0,behavior: \"smooth\"});\n        }\n    },[isMobile.current]);\n\n    return <CollectionContent key={isMobile.current?1:0} id={id} />;\n}\n\ntype CollectionContentProps = {\n    id: string;\n};\n\nfunction CollectionContent({id}: CollectionContentProps) {\n    const filterBarWidth = 138;\n\n    const [filterBarOpen,setFilterBarOpen] = useState(false);\n    const [bannerHeightReady,setBannerHeightReady] = useState(false);\n    \n    \n    const { screenRatio,page,misc: { filterBarItemClassNameIdentifier },configuredBannerHeight,mobileDetect: { widthCutoff: mobileCutoff,isActive: isMobile },collectionSearchBarOpen,openSearch,scaleRemToPixel } = useContext(LayoutStateContext);        \n    const router = useCustomRouter();\n\n    const windowSize = useContext(WindowSizeContext);\n    const { miniNavbarHeight,filterBarControlsHeight,navbarHeight,bannerHeight,collectionGridHeight,scrollBottomPadding } = useContext(DimensionsStateContext);\n    const gridFrameRef = useRef<HTMLDivElement>(null);\n    const gridVerticalCellSpacing = 20;\n    const gridHorizontalCellSpacing: number | { fraction: number } = {fraction: 0.18};\n    const targetCellWidth = 350;\n    const [gridColumns,setGridColumns] = useState(4);\n    const permGridColumns = useRef(gridColumns);\n    permGridColumns.current = gridColumns;\n    const [gridProcessCounter,setGridProcessCounter] = useState(0);\n    const permGridProcessCounter = useRef(gridProcessCounter);\n    permGridProcessCounter.current = gridProcessCounter;\n\n    const filterBarBackRef = useRef<HTMLDivElement>();\n\n    const { isSwitching,sortOrder,refreshSwitch,filter } = useContext(CollectionFilterStateContext);\n\n    useEffect(() => {\n        \n        const npmrc = new ProductMockReviewCollection(8008148943105);\n\n\n        // const dummyReviews = {\n        //     good:     [\n        //         {\n        //             \"title\": \"Refreshingly Satisfying!\",\n        //             \"body\": \"I've tried quite a few pods from different brands, and this one definitely stands out. The flavor is so crisp and refreshingit's like a breath of fresh air every time I take a puff. It's not too overpowering, which is perfect for my taste. Highly recommend if you're looking for something smooth and satisfying!\"\n        //         },\n        //         {\n        //             \"title\": \"Pure Bliss in Every Puff\",\n        //             \"body\": \"Just when I thought I had found my go-to, this flavor completely changed the game for me. It's rich, but not in an overwhelming way, and it leaves a very pleasant aftertaste that keeps me coming back for more. It's been a hit at every gathering I've brought it to. Definitely a must-try!\"\n        //         },\n        //         {\n        //             \"title\": \"Smooth and Subtle\",\n        //             \"body\": \"I'm genuinely impressed with the quality here. The flavor is subtle yet distinct, offering a smooth experience that I haven't found in other pods. It's been great for my daily use, providing just the right amount of kick without any harshness. A solid choice for anyone looking to enjoy their vaping experience with a touch of class.\"\n        //         },\n        //         {\n        //             \"title\": \"A Flavorful Journey\",\n        //             \"body\": \"Every puff feels like a journey to a world of flavors. It's incredibly well-balanced, with a richness that doesn't overpower the senses. I've been using it daily and still can't get enough. It's rare to find something that delivers both on taste and vapor quality. This one's a winner in my book!\"\n        //         },\n        //         {\n        //             \"title\": \"Exceeds Expectations\",\n        //             \"body\": \"I was skeptical at first, wondering if it could really be as good as everyone says. Well, it is! The flavor is fantasticsmooth, with just the right hint of sweetness. It's like they've captured the essence of satisfaction in a pod. It's my new favorite, and I can't wait to see what else is in store.\"\n        //         },\n        //         {\n        //             \"title\": \"Unmatched Quality\",\n        //             \"body\": \"This has set a new standard for what I look for in vaping pods. The flavor is nuanced, offering a complex profile that I've found to be unmatched by any other brand. It's smooth on the inhale and even better on the exhale. If you're on the fence, let this be your sign to give it a try.\"\n        //         },\n        //         {\n        //             \"title\": \"Perfectly Crafted\",\n        //             \"body\": \"I've finally found the holy grail of vaping pods! The flavor is perfectly crafted, offering a delightful experience with every puff. It's not just about the taste; the aroma is equally enchanting, creating a truly immersive experience. It's my go-to for both relaxation and a quick pick-me-up during the day.\"\n        //         },\n        //         {\n        //             \"title\": \"A Cut Above\",\n        //             \"body\": \"Right from the first puff, I knew this was a cut above the rest. The flavor is incredibly smooth, with a depth that I haven't encountered in other pods. It's like they've bottled the essence of pure enjoyment. It's become an essential part of my vaping routine, and I'm already looking forward to my next order.\"\n        //         },\n        //         {\n        //             \"title\": \"Flavorful Masterpiece\",\n        //             \"body\": \"This pod is a masterpiece of flavor. It strikes the perfect balance between bold and subtle, making every vaping session a delightful escape. The consistency in quality is impressive, ensuring a premium experience each time. It's the perfect companion for anyone looking to elevate their vaping game.\"\n        //         },\n        //         {\n        //             \"title\": \"Simply Irresistible\",\n        //             \"body\": \"The search for the perfect pod ends here. The flavor is simply irresistible, with a richness that envelops the senses without overwhelming them. It's become my favorite way to unwind after a long day. The quality is consistent, and each puff feels like a treat. Truly top-notch in every aspect.\"\n        //         },\n        //         {\n        //             \"title\": \"Elegantly Smooth\",\n        //             \"body\": \"This flavor is elegance in vapor form. It's smooth, sophisticated, and just downright enjoyable. I was pleasantly surprised by how well the subtleties of the flavor came through, providing a unique experience that's hard to find elsewhere. It's been a game-changer for my vaping habits.\"\n        //         },\n        //         {\n        //             \"title\": \"Exceptionally Pleasing\",\n        //             \"body\": \"From the first puff, it's clear that this pod is something special. The flavor is exceptionally pleasing, with a complexity that intrigues the palate. It's the perfect blend of smoothness and flavor intensity, making each vaping session something to look forward to. This is definitely a must-try for connoisseurs and casual users alike.\"\n        //         },\n        //         {\n        //             \"title\": \"Pure Flavor Haven\",\n        //             \"body\": \"Every puff is like stepping into a haven of pure flavor. It's incredibly satisfying without being too intense, striking the perfect balance for those who appreciate nuanced vaping experiences. The quality is undeniable, and it's clear that a lot of thought went into its creation. A standout choice for anyone seeking a refined taste.\"\n        //         },\n        //         {\n        //             \"title\": \"Delightfully Surprising\",\n        //             \"body\": \"I was delightfully surprised by the depth and richness of this flavor. It's not just another pod; it's an experience. The flavor lingers in the best way possible, making each puff more enjoyable than the last. It's become a staple in my collection, and I can't recommend it enough to those looking for something genuinely satisfying.\"\n        //         },\n        //         {\n        //             \"title\": \"A Symphony of Taste\",\n        //             \"body\": \"This pod is a symphony of taste, with each note perfectly in tune. The flavor profile is complex and captivating, offering a vaping experience that's both luxurious and deeply satisfying. It's rare to find something that delivers this level of enjoyment puff after puff. If you're in search of the ultimate vaping pleasure, this is it.\"\n        //         },\n        //         {\n        //             \"title\": \"Unforgettable Experience\",\n        //             \"body\": \"Truly an unforgettable experience with each vape. The flavor is incredibly vibrant, making every puff a memorable moment. It's the perfect mix of smoothness and a hint of excitement, ideal for those who cherish their vaping time. I'm thoroughly impressed by its consistent quality and exceptional taste.\"\n        //         },\n        //         {\n        //             \"title\": \"Smooth Sensation\",\n        //             \"body\": \"This pod offers a smooth sensation that's second to none. The flavor is understated yet profound, providing a satisfying depth that keeps me coming back for more. It's become my reliable companion for both busy days and relaxed evenings. For anyone looking for a seamless and enjoyable vaping experience, this is your best bet.\"\n        //         },\n        //         {\n        //             \"title\": \"Flavor Explosion\",\n        //             \"body\": \"Each puff feels like a flavor explosion, in the best way possible. It's rich and full-bodied without being overpowering, offering a unique blend that hits all the right notes. I've recommended it to all my friends, and it's been a hit across the board. It's not just a pod; it's a journey through taste that I can't get enough of.\"\n        //         },\n        //         {\n        //             \"title\": \"Velvety Smooth Perfection\",\n        //             \"body\": \"Diving into this flavor is like experiencing velvety smooth perfection. Each puff envelops you in a cloud of satisfaction that's hard to come by. It's gentle yet impactful, leaving a lasting impression that makes you look forward to the next session. A true masterpiece in the world of vaping pods.\"\n        //         },\n        //         {\n        //             \"title\": \"Refreshingly Unique\",\n        //             \"body\": \"This flavor stands out as refreshingly unique in a sea of ordinary options. It's bright and lively, offering a zestful experience that energizes the senses. I've found it to be the perfect pick-me-up during the day, and it never fails to lift my spirits. A definite must-try for those in search of something different.\"\n        //         },\n        //         {\n        //             \"title\": \"Blissfully Satisfying\",\n        //             \"body\": \"Here lies the epitome of blissful satisfaction. The flavor is so well-rounded and fulfilling, it's like finding the missing piece to your vaping puzzle. It's smooth, with just the right amount of richness to keep it interesting without being too heavy. An absolute joy to vape, it's become a staple in my daily routine.\"\n        //         }\n        //     ],\n        //     bad: [\n        //         {\n        //             \"title\": \"Room for Improvement\",\n        //             \"body\": \"While the concept of this flavor sounded intriguing, the execution left a bit to be desired. It's not bad per se, but the flavor seems a bit muted and doesn't quite deliver the punch I was hoping for. It does provide a smooth vape, but I was looking forward to a more robust experience. Hopefully, a little tweak can make it shine.\",\n        //         },\n        //         {\n        //             \"title\": \"Not Quite There Yet\",\n        //             \"body\": \"I was excited to try this flavor based on the description, but unfortunately, it didn't quite live up to my expectations. The taste is somewhat there, but it's overshadowed by a lack of intensity and depth. It feels like the flavor fades too quickly, leaving me wanting more. It's not unpleasant, just not as satisfying as I had hoped.\",\n        //         },\n        //         {\n        //             \"title\": \"Missed the Mark\",\n        //             \"body\": \"This pod had potential, but it sadly missed the mark for me. The flavor, while unique, is a bit too subtle and gets lost easily, especially if you're used to more pronounced tastes. Additionally, I experienced some inconsistency in the vapor quality, which was a bit disappointing. It's not a complete deal-breaker, but there's definitely room for improvement.\",\n        //         },\n        //         {\n        //             \"title\": \"Lacks Flavor Depth\",\n        //             \"body\": \"I found this pod to be lacking in the flavor depth that I was anticipating. While the initial taste is pleasant, it quickly becomes bland and doesn't offer the complexity I enjoy in a vape. It's fine for a casual puff, but for those seeking a more engaging flavor experience, it might fall short.\",\n        //         },\n        //         {\n        //             \"title\": \"Could Use More Punch\",\n        //             \"body\": \"The idea behind this flavor is great, but in practice, it could use a bit more punch. The vapor production is decent, yet the flavor intensity doesn't match up. It feels like it's on the verge of being excellent but doesn't fully deliver on the promise. A stronger flavor profile could make a big difference.\",\n        //         },\n        //         {\n        //             \"title\": \"Disappointing Experience\",\n        //             \"body\": \"I had high hopes for this flavor, but unfortunately, it was a disappointing experience. The flavor is too faint and lacks the impact I look for in a good vape. Additionally, I found the pod to sometimes give a burnt taste, which really detracted from the overall enjoyment. It might just be a batch issue, but it's worth noting for potential improvement.\",\n        //         },\n        //         {\n        //             \"title\": \"Underwhelming Flavor\",\n        //             \"body\": \"The anticipation was high for this one, but the result was underwhelming. The flavor is too light and fails to leave a lasting impression. It's like the notes are there, but they don't sing in harmony as I'd hoped. For those accustomed to vibrant and full-bodied flavors, this might come across as a bit of a letdown.\",\n        //         },\n        //         {\n        //             \"title\": \"Just Misses the Mark\",\n        //             \"body\": \"This pod has all the makings of something great, but just misses the mark. The flavor starts off promising but quickly dissipates, leaving you searching for more. It's not unpleasant by any means, just lacks the staying power and depth that would make it a standout. It feels like a missed opportunity for something truly special.\",\n        //         },\n        //         {\n        //             \"title\": \"Needs a Flavor Boost\",\n        //             \"body\": \"While the ease of use and vapor quality are on point, the flavor itself needs a boost. It's too subtle for my liking, almost to the point where I'm not sure what I'm tasting. I appreciate the attempt at a more nuanced flavor profile, but a bit more intensity would go a long way in making this a more memorable experience.\",\n        //         },\n        //         {\n        //             \"title\": \"A Bit Too Subtle\",\n        //             \"body\": \"I was intrigued by the description of this flavor, but after trying it, I found it to be a bit too subtle for my taste. It's almost like the flavor is teasing you, never fully developing into the rich experience I was hoping for. It's not unpleasant, just not as satisfying as I anticipated. A little more flavor boldness could make a big difference.\",\n        //         },\n        //         {\n        //             \"title\": \"Promising, Yet Lacking\",\n        //             \"body\": \"There's a promise of something great with this pod, but it falls just short of hitting the mark. The flavor profile is interesting, yet it doesn't seem to fully realize its potential, leaving me wanting more. The vapor is smooth, which is a plus, but the lack of a strong, lasting taste is a definite drawback.\",\n        //         },\n        //         {\n        //             \"title\": \"Inconsistent and Mild\",\n        //             \"body\": \"My experience with this pod was a mixed bag. At times, the flavor seemed to come through nicely, but more often than not, it was inconsistent and too mild to truly enjoy. It feels like the balance isn't quite right, with the flavor intensity fluctuating from one puff to the next. It's a shame because the concept sounds appealing, but the execution needs work.\",\n        //         },\n        //         {\n        //             \"title\": \"Fades Too Quickly\",\n        //             \"body\": \"The initial flavor hit is nice, but it fades too quickly for my liking. I was expecting a more enduring taste that lingers, providing a fuller vaping experience. Instead, the flavor seems to vanish almost as soon as it arrives, leaving me a bit disappointed. A more lasting impression would greatly enhance the experience.\",\n        //         },\n        //         {\n        //             \"title\": \"Expectations Not Met\",\n        //             \"body\": \"Based on the description, I had high expectations for this unique flavor blend. Unfortunately, the reality didn't quite meet those expectations. The flavor is there, but it's far too muted, almost as if it's holding back. I was hoping for a bold, engaging experience but found myself searching for the taste.\",\n        //         },\n        //         {\n        //             \"title\": \"Lacking in Depth\",\n        //             \"body\": \"This pod's flavor is lacking in depth and complexity. While it's not unpleasant, it's also not particularly memorable. I was hoping for layers of flavor that would unfold with each puff, but instead, it felt one-dimensional. For those seeking a rich and nuanced vaping experience, this might not hit the mark.\",\n        //         },\n        //         {\n        //             \"title\": \"Mild Disappointment\",\n        //             \"body\": \"I was looking forward to trying this flavor, but it ended up being a mild disappointment. The taste is too faint, almost as if diluted, and doesn't provide the satisfying experience I was craving. While it might suit someone looking for an extremely subtle flavor, it certainly left me wanting more.\",\n        //         },\n        //         {\n        //             \"title\": \"Not Quite Satisfying\",\n        //             \"body\": \"The flavor profile of this pod hinted at something exciting, but the end result wasn't quite satisfying. It lacks the boldness and richness I've come to expect from premium pods. The taste is too gentle and fades away too quickly, making it difficult to fully appreciate the nuances that were promised.\",\n        //         },\n        //         {\n        //             \"title\": \"Misses the Flavor Mark\",\n        //             \"body\": \"This pod misses the mark when it comes to delivering a compelling flavor experience. There's an initial hint of what could be an interesting taste, but it quickly becomes lost, failing to deliver any meaningful depth. It's a shame, as the potential for something great seems to be there, but it doesn't quite reach it.\",\n        //         },\n        //         {\n        //             \"title\": \"Hardly Noticeable Flavor\",\n        //             \"body\": \"I was eager to try this new flavor, hoping for a vibrant vaping experience. Unfortunately, the flavor is hardly noticeable, almost as if it's an afterthought. It's frustrating because the quality of the vapor is decent, but without a strong taste, it's just not fulfilling. It feels like a missed opportunity to deliver something truly enjoyable.\",\n        //         },\n        //         {\n        //             \"title\": \"Needs More Character\",\n        //             \"body\": \"This pod's flavor feels like it's on the verge of being good, but it just doesn't have enough character. It's too bland and lacks the punch needed to make it stand out. There's a hint of what could have been a great taste, but it never fully develops into anything memorable. It needs a significant boost to live up to its potential.\",\n        //         },\n        //         {\n        //             \"title\": \"Underperforms on Flavor\",\n        //             \"body\": \"Expecting a robust and engaging flavor based on its description, I was left underwhelmed. The pod underperforms, providing only a whisper of flavor that's too easy to miss. The smoothness of the vapor is its only saving grace, but when you're looking for an immersive taste experience, this just doesn't cut it. A reevaluation of the flavor intensity could help bridge the gap between expectation and reality.\",\n        //         },\n        //     ]\n        // };\n            \n        // console.log(\"dummyReviews\",dummyReviews);\n        // const productTable = prebuildData.getProductTable();\n        // const header: ReviewsHeaderRaw = { products: {} };\n        // Object.keys(productTable).forEach((productId) => {\n        //     const totalReviews = Math.floor(Math.random()*200)+435;\n        //     const totalRating = (3.9+Math.random())*totalReviews;\n        //     header.products[productId] = {\n        //         totalRating,\n        //         totalReviews\n        //     };\n        // });\n        // console.log(\"header\",header);\n        // const productTable = prebuildData.getProductTable();\n        // const productIds = Object.keys(productTable);\n        // const result: BoughtTogetherClient = {\n        //     table: {},\n        //     popular: [],\n        // };\n\n        // const getRandomProductId = (excluding: {[id: string]: boolean}) => {\n        //     while(true) {\n        //         const candidate = productIds[Math.floor(Math.random()*productIds.length)];\n        //         if (!excluding[candidate]) return candidate;\n        //     }            \n        // };\n\n        // Object.keys(productTable).forEach((productId) => {\n        //     result.table[productId] = [];\n        //     const excluding: {[id: string]: boolean} = {};\n        //     excluding[productId] = true;\n        //     for(let i=0;i<10;i++) {\n        //         const id = getRandomProductId(excluding);\n        //         const weight = Math.floor(Math.random()*10)+1;\n        //         result.table[productId].push({\n        //             id,\n        //             weight\n        //         });\n        //         excluding[id] = true;\n        //     }\n        // });\n        // const excluding: {[id: string]: boolean} = {};\n        // for(let i=0;i<10;i++) {\n        //     const id = getRandomProductId(excluding);\n        //     result.popular.push(id);\n        //     excluding[id] = true;\n        // }\n\n        // console.log(\"result\",result);\n\n        // console.log(\"dummyReviews\",dummyReviews);\n\n        return router.beforePushSubscribe((cb) => {\n            page.scrollToTopWithCallback(cb);\n            return true;\n        });\n    },[]);\n\n    useEffect(() => {\n        if (gridFrameRef.current) {            \n            const newGridColumns = (() => \n            {\n                if ((typeof gridHorizontalCellSpacing===\"object\") && (typeof gridHorizontalCellSpacing.fraction===\"number\"))\n                {\n                    const f = gridHorizontalCellSpacing.fraction;\n                    const t = targetCellWidth;\n                    const c = gridFrameRef.current.clientWidth;\n                    return Math.max(1,Math.round((c/t+f)/(1+f)));\n                }\n                else if (typeof gridHorizontalCellSpacing===\"number\")\n                {\n                    return Math.max(1,Math.round((gridFrameRef.current.clientWidth+gridHorizontalCellSpacing)/(targetCellWidth+gridHorizontalCellSpacing)));\n                }\n                else\n                {\n                    return 3;\n                }\n            })();\n            if (newGridColumns!==permGridColumns.current)\n            {\n                setGridColumns(newGridColumns);\n                setTimeout(() => \n                {\n                    setGridProcessCounter(permGridProcessCounter.current+1);\n                },0);\n            }            \n        }                        \n    },[`${windowSize.width},${windowSize.height}`,gridFrameRef.current]);\n\n    const [centerControlsInSlider,setCenterControlsInSlider] = useState(windowSize.height>=filterBarControlsHeight.value);\n    const [sliderOpen,setSliderOpen] = useState(false);    \n\n    useEffect(() => \n    {\n        setCenterControlsInSlider(windowSize.height>=filterBarControlsHeight.value);\n    },[`${windowSize.width},${windowSize.height}`,filterBarControlsHeight.value]);\n\n    const timerHandlerRef = useRef(0);    \n    const [cancelControlsPointerEvents,setCancelControlsPointerEvents] = useState(false);\n\n    useEffect(() => \n    {\n        (window as any).libSearch = libSearch;\n        const { current: filterBarBackElem } = filterBarBackRef;\n        if (filterBarBackElem)\n        {\n            const handler = (event: WheelEvent) => \n            {\n                if ((event.target instanceof HTMLElement) && (((event.target as HTMLElement).classList.contains(filterBarItemClassNameIdentifier)) || (event.target as HTMLElement).classList.contains(\"filter-bar-back\")))\n                {\n                    setCancelControlsPointerEvents(true);\n                    clearTimeout(timerHandlerRef.current);\n                    timerHandlerRef.current = setTimeout(() => \n                    {\n                        setCancelControlsPointerEvents(false);\n                    },100) as unknown as number;\n                }                                \n            };\n            document.addEventListener(\"wheel\",handler);\n            return () => document.removeEventListener(\"wheel\",handler);\n        }\n    },[]);\n    \n    const [showFilterBarInline,setShowFilterBarInline] = useState(false);\n\n    useEffect(() => {\n        const handlerBeforeRouterScrollUp = () => \n        {\n            setShowFilterBarInline(true);\n        };\n        const handlerAfterRouterScrollUp = () => \n        {\n            setShowFilterBarInline(false);\n        };\n\n        page.on(\"before-router-scroll-up\",handlerBeforeRouterScrollUp);\n        page.on(\"after-router-scroll-up\",handlerAfterRouterScrollUp);\n\n        return () => \n        {\n            page.off(\"before-router-scroll-up\",handlerBeforeRouterScrollUp);\n            page.off(\"after-router-scroll-up\",handlerAfterRouterScrollUp);    \n        };\n    },[]);    \n    \n    const collectionItem = prebuildData.getCollectionByHandle(id);    \n    const collectionItems = prebuildData.getCollectionItems({omitSupport: true});\n    const collectionUrl = useCachedValue(() => collectionItem.route.split(\"{handle}\").join(id),id);\n    const reviewsHeader = consumeAllReviewsHeader();\n\n    const refOnGridResize = useResizeObserver(({height}) =>\n    {\n        collectionGridHeight.set(height);\n    });\n\n    let products = collectionItem.products.filter(({hidden}) => !hidden);    \n\n    if (Object.keys(filter.value).length>0) {\n        products = products.filter(({filters}) => {\n            return (Object.keys(filters).filter((key) => filter.value[key]).length>0);\n        });\n    }\n\n    if (sortOrder.value===\"reviewed\") {\n        products.sort(({id: aid},{id: bid}) => {\n            if (!reviewsHeader) return 0;\n            const a = reviewsHeader.products[aid]?.starRating || 0;\n            const b = reviewsHeader.products[bid]?.starRating || 0;\n            if (a<b) return 1;\n            if (a>b) return -1;\n            return 0;\n        });\n    }\n    else if (sortOrder.value===\"newest\") {\n        products.sort(({publishedAt: a},{publishedAt: b}) => \n        {\n            if (a<b) return 1;\n            if (a>b) return -1;\n            return 0;\n        });\n    }\n\n    useEffect(() => {\n        setFilterBarOpen(false);\n        filter.set({});\n    },[id]);\n\n    const gridReadyHandler = () => {\n        if (isSwitching.value)\n        {\n            setTimeout(() => \n            {\n                isSwitching.set(false);\n                routerTransition.stop();\n                const futureScrollMax = (navbarHeight.value+bannerHeight.value+Math.max(collectionGridHeight.value,filterBarControlsHeight.value))-page.clientHeight();\n                const targetScrollTop = Math.min(navbarHeight.value+bannerHeight.value-(miniNavbarHeight.value),futureScrollMax);\n                if (page.scrollTopMax()<targetScrollTop) page.unlockScroll();\n                if (page.scrollTop()>targetScrollTop) \n                {\n                    page.scrollToTopWithCallback(() => {\n                        page.unlockScroll();\n                    });\n                    // page.animateScrollTopManaged(targetScrollTop,{},() => \n                    // {\n                    //     page.unlockScroll();\n                    // });\n                }\n                else\n                {\n                    page.unlockScroll();\n                }                \n            },0);    \n        }\n    };\n\n    const backClickHandler = () => \n    {\n        setSliderOpen(false);\n    };\n\n    const openFilterControlsClickHandler = () => \n    {\n        setSliderOpen(true);\n    };\n\n    const [collectionDropdownMenuOpen,setCollectionDropdownMenuOpen] = useState(false);\n\n    const collectionDropdownClickHandler = () => \n    {\n        setCollectionDropdownMenuOpen(true);\n        page.hideOverlayScrollbar();\n    };\n\n    const collectionDropdownCloseClickHandler = () => \n    {\n        setCollectionDropdownMenuOpen(false);\n        page.showOverlayScrollbar();\n    };    \n\n    const [dropdownMenuHeight,setDropdownMenuHeight] = useState(0);\n    const [isDropdownMenuCentered,setIsDropdownMenuCentered] = useState(false);\n\n    const refDropdownMenuOnResize = useResizeObserver(({height}) =>\n    {\n        setDropdownMenuHeight(height);\n    });\n\n    useEffect(() => \n    {\n        setIsDropdownMenuCentered(dropdownMenuHeight<=windowSize.height);\n    },[windowSize.height,dropdownMenuHeight]);\n\n    const collectionDropdownItemClickHandler = (handle: string) => \n    {\n        setCollectionDropdownMenuOpen(false);\n        page.showOverlayScrollbar();\n        setTimeout(() => \n        {\n            const collectionItem = prebuildData.getCollectionByHandle(handle);\n            if (collectionItem)\n            {\n                const route = collectionItem.route.split(\"{handle}\").join(handle);\n                router.push(route);\n            }            \n        },100);\n    };\n\n    useLayoutEffect(() => \n    {\n        if (refreshSwitch.value===1) \n        {\n            setTimeout(() => \n            {\n                refreshSwitch.set(2);\n            },100);            \n        }\n        else if (refreshSwitch.value===3) \n        {\n            setTimeout(() => \n            {\n                refreshSwitch.set(0);\n            },50);            \n        }\n    },[refreshSwitch.value]);\n\n    const { ref: scrollerRef,className: scrollerClassName,injectedStyles: scrollerInjectedStyles,styles: scrollerStyles } = useDesktopScrollbar();        \n\n    const openMobileSearchHandler = () => {        \n        page.scrollTo({\n            top: scaleRemToPixel(148),\n            behavior: \"smooth\"\n        });\n        collectionSearchBarOpen.value = true;\n        openSearch(\"collection\",collectionItem.id.toString());\n    };\n\n    const { collectionBanner: { titleColor,subtitleColor },collectionFilterControls: { backgroundColor: collectionFilterControlsBackgroundColor } } = prebuildData.getActiveTheme()\n    \n    if (!reviewsHeader) return <div style={{height: \"600rem\",marginTop: \"50rem\"}}><CenteredSpinner /></div>\n\n    return (\n        <>\n            <Head>\n                {getInjectableHeaderTags(collectionItem?.seo.title,collectionItem?.seo.description,collectionUrl)}\n            </Head>\n            <div className={\"container\"\n                +(isMobile.current?\" mobile-state\":\"\")\n                +(centerControlsInSlider?\" center-controls-in-slider\":\"\")\n                +(sliderOpen?\" slider-open\":\"\")\n                +(collectionDropdownMenuOpen?\" collection-dropdown-menu-open\":\"\")\n                +(isDropdownMenuCentered?\" dropdown-menu-centered\":\"\")\n                }>                    \n                <div className=\"banner-frame\" style={{height: `${(configuredBannerHeight.height!==-1)?configuredBannerHeight.height:270}rem`}}>\n                    <Banner                    \n                        key={id}\n                        src={prebuildData.bustCache(collectionItem?.bannerImageUrl)}\n                        aspectRatio={collectionItem?.banner?.image?.ratio?(collectionItem?.banner?.image?.ratio.width/collectionItem?.banner?.image?.ratio.height):586/514} \n                        height={(configuredBannerHeight.height!==-1)?configuredBannerHeight.height:270} \n                        texts={[\n                            {\n                                color: titleColor,\n                                family: \"Open Sans\",\n                                left: (screenRatio>2.1)?-0.2:collectionItem?.banner?.captionLeft,\n                                top: 24,\n                                size: 25,\n                                weight: 500,\n                                text: collectionItem?.caption,\n                                paddingLeft: 50,\n                                paddingRight: 50,\n                                letterSpacing: 0.01951\n                            },{\n                                color: subtitleColor,\n                                family: \"Open Sans\",\n                                left: (screenRatio>2.1)?1:collectionItem?.banner?.subCaptionLeft,\n                                top: 58,\n                                size: 15,\n                                weight: 500,\n                                text: collectionItem?.subCaption,\n                                letterSpacing: 0.0325\n                            }\n                        ]}\n                        layout={TBannerLayout.Left}\n                        onImageShowing={() => setFilterBarOpen(true)}\n                        onHeightReady={() => setBannerHeightReady(true)}\n                        onResize={({height}) => \n                        {\n                            bannerHeight.set(height);\n                        }}\n                    />\n                </div>\n                <div className=\"search-bar-wrapper\">\n                    <CollectionSearchBar collectionId={collectionItem.id.toString()} collectionCaption={collectionItem.caption} />\n                </div>\n                <div className=\"mobile-collection-top-bar\">                    \n                    <CollectionNavBar \n                        leftIconName=\"collection-filter-open\"\n                        rightIconName=\"navbar-search\"\n                        leftIconClickHandler={openFilterControlsClickHandler}\n                        rightIconClickHandler={openMobileSearchHandler}\n                        collectionItem={collectionItem}\n                        collectionItems={collectionItems}\n                    />\n                </div>\n                <div className=\"under-banner-spacer\"></div>\n                <div className=\"frame\">\n                    {isMobile.current?(\n                        <>\n                            <div className=\"controls-slider-back\">\n                                <EventPane onClick={backClickHandler} />\n                            </div>\n                            <div className=\"collection-dropdown-menu\">                            \n                                <div className={`scroller ${scrollerClassName}`} ref={scrollerRef} style={scrollerStyles} >\n                                    <div ref={refDropdownMenuOnResize} className=\"menu\">\n                                        {collectionItems.map(({handle,caption},index) => (\n                                            <div key={handle} className={\"item\"+((handle===id)?\" selected\":\"\")}>\n                                                {caption}\n                                                <EventPane onClick={() => collectionDropdownItemClickHandler(handle)} />\n                                            </div>))}\n                                    </div>\n                                </div>\n                                <div className=\"close-button\">\n                                    <Icon name=\"navbar-cross\" size={20} />\n                                    <EventPane onClick={collectionDropdownCloseClickHandler} />\n                                </div>\n                            </div>\n                        </>\n                    ):null}                    \n                    <div ref={filterBarBackRef} className=\"filter-bar-back\" style={{opacity: bannerHeightReady?1:0}}>\n                        <FilterBar showInline={showFilterBarInline || isMobile.current} cancelControlsPointerEvents={cancelControlsPointerEvents} width={filterBarWidth} open={filterBarOpen} bannerHeightReady={bannerHeightReady} />\n                    </div>\n                    <div className=\"on-resize-frame-wrapper\">\n                        <div ref={refOnGridResize} className=\"on-resize-frame\">\n                            <div key={`${id}-${refreshSwitch.value}`} ref={gridFrameRef} className=\"grid-frame\">\n                                {((refreshSwitch.value===0) || (refreshSwitch.value===2))?(<>\n                                    <Grid \n                                        onReady={gridReadyHandler}\n                                        processCounter={gridProcessCounter} \n                                        columns={gridColumns} \n                                        verticalCellSpacing={gridVerticalCellSpacing}\n                                        horizontalCellSpacing={gridHorizontalCellSpacing}\n                                        scrollAnimation \n                                        scrollAnimationThreshold={0.3}\n                                        singleTopMargin={0}>\n                                        {products.map((product,index) => {                                                                    \n                                            const { caption,smallImages } = product;\n                                            const productId = product.id.toString();\n                                            const price = prebuildData.getProductPrice(productId,true);                                            \n                                            const discountedPrice = prebuildData.getProductPageDiscountedPrice(productId,price).price;\n                                            const teaseCaption = ((product.visibility===\"tease\") && (product.teaseCaption))?product.teaseCaption:undefined;\n                                            return <CollectionsGridItem \n                                                key={product.id} \n                                                productId={product.id.toString()} \n                                                caption={caption} \n                                                price={price} \n                                                discountedPrice={discountedPrice} \n                                                imageSrc={prebuildData.bustCache(smallImages[0].src)} \n                                                hoverImageSrc={(smallImages.length>1)?prebuildData.bustCache(smallImages[1].src):undefined} \n                                                teaseCaption={teaseCaption}\n                                            />;                                            \n                                        })}\n                                    </Grid>\n                                    {products.length===0?(\n                                        <CollectionsGridNoItems />\n                                    ):null}                                \n                                </>):null}\n                            </div>                        \n                        </div>\n                        <div className=\"scroll-bottom-padding\" style={{ height: (windowSize.width>1300)?scrollBottomPadding.value:0 }}></div>\n                    </div>\n                </div>\n            </div>                        \n            <style jsx>{scrollerInjectedStyles}</style>\n            <style jsx>{`\n            .container {\n                position: relative;\n            }\n\n            .search-bar-wrapper {\n                position: absolute;\n                right: 30rem;\n                top: 26rem;\n            }\n\n            .container.mobile-state {\n                --slider-duration: 0.25s;\n            }\n\n            .container.mobile-state .filter-bar-back {\n                position: fixed;\n                left: ${-filterBarWidth}rem;\n                top: 0rem;\n                width: ${filterBarWidth}rem;\n                height: 100%;\n                z-index: 103;\n                display: flex;\n                flex-direction: column;\n                justify-content: start;\n                overflow: auto;\n                transition: transform var(--slider-duration);\n            }\n\n            .container.mobile-state.slider-open .filter-bar-back {\n                transform: translateX(${filterBarWidth}rem);\n            }\n\n            .container.mobile-state.center-controls-in-slider .filter-bar-back {\n                justify-content: center;\n                overflow: hidden;\n            }\n\n            .container.mobile-state .controls-slider-back {\n                position: fixed;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;\n                background-color: rgba(0,0,0,0.5);\n                opacity: 0;\n                visibility: hidden;\n                z-index: 102;\n                transition: visibility var(--slider-duration),opacity var(--slider-duration),background-color 0.25s;\n            }\n\n            .container.mobile-state .collection-dropdown-menu {\n                position: fixed;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;\n                background-color: var(--color-collection-menu);\n                z-index: 104;\n                opacity: 0;\n                visibility: hidden;\n                transform: translateY(150rem);\n                --duration: 0.25s;\n                transition: opacity var(--duration),visibility var(--duration),transform var(--duration);\n            }\n\n            .container.mobile-state.collection-dropdown-menu-open .collection-dropdown-menu {\n                opacity: 1;\n                visibility: visible;\n                transform: translateY(0rem);\n            }\n\n            .collection-dropdown-menu .scroller {\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;                \n                display: flex;\n                flex-direction: column;\n                justify-content: start;\n                overflow: auto;\n            }\n\n            .container.dropdown-menu-centered .collection-dropdown-menu .scroller {\n                justify-content: center;\n                overflow: hidden;\n            }\n\n            .collection-dropdown-menu .scroller .menu {\n                padding: 0rem 74rem;\n            }\n\n            .collection-dropdown-menu .scroller .item {\n                font-size: 20rem;\n                font-weight: 500;\n                text-align: center;\n                padding: 16rem 0rem;\n                color: #222;\n                position: relative;\n                --duration: 0.3s;\n                transition: background-color var(--duration),color var(--duration);\n            }\n\n            .collection-dropdown-menu .scroller .item.touchdown {\n                background-color: rgba(0,0,0,0.02);\n            }\n\n            .collection-dropdown-menu .scroller .item.hover {\n                color: #777;\n            }\n\n            .collection-dropdown-menu .scroller .item.selected.hover {\n                color: var(--color-light-blue);\n            }\n\n            .collection-dropdown-menu .scroller .item.selected {\n                color: var(--color-light-blue);\n                font-weight: 600;\n            }\n\n            .collection-dropdown-menu .close-button {\n                position: absolute;\n                right: 5rem;\n                top: 0rem;\n                color: #888;\n                padding: 20rem 25rem;\n                --duration: 0.3s;\n                transition: background-color var(--duration),color var(--duration);\n            }\n\n            .collection-dropdown-menu .close-button.touchdown {\n                background-color: rgba(0,0,0,0.06);\n            }\n\n            .collection-dropdown-menu .close-button.hover {\n                color: #adadad;                \n            }\n\n            .container.mobile-state.slider-open .controls-slider-back {\n                opacity: 1;\n                visibility: visible;\n            }\n\n            .container.mobile-state.slider-open .controls-slider-back.touchdown {\n                background-color: rgba(0,0,0,0.6);\n            }\n\n            .on-resize-frame {\n                width: 100%;\n            }\n\n            .on-resize-frame-wrapper {\n                width: 100%;\n            }\n\n            .frame {\n                display: flex;\n                flex-direction: row;                \n            }\n\n            .filter-bar-back {\n                flex: 0 0 ${filterBarWidth}rem;\n                background-color: ${collectionFilterControlsBackgroundColor};\n                display: table-cell;\n                position: relative;\n                min-height: 900rem;\n            }\n\n            .container.mobile-state .filter-bar-back {\n                position: fixed;\n            }\n\n            .under-banner-spacer {\n                height: 0rem;\n            }\n\n            .grid-frame {\n                padding: 45rem;\n                flex-grow: 1;\n            }\n\n            .container.mobile-state .grid-frame {\n                padding-top: 0rem;\n            }\n\n            .collection-top-bar {\n                display: none;\n                /* padding: 25rem 45rem; */\n                padding-left: 20rem;\n                padding-right: 25rem;\n                padding-top: 20rem;\n                padding-bottom: 20rem;\n                flex-direction: row;\n                align-items: center;\n            }\n\n            .filter-open-button {\n                padding: 5rem 12rem;\n                position: relative;\n                transition: background-color 0.2s,color 0.3s;\n                color: #333;\n                /* background-color: blue; */\n            }\n\n            .filter-open-button.touchdown {\n                background-color: #eaeaea;\n            }\n\n\n            .filter-open-button.hover {\n                color: #999;\n            }\n\n            .mobile-collection-top-bar {\n                display: none;\n            }\n            \n            @media screen and (max-width: ${mobileCutoff}px) {\n                .banner-frame {\n                    display: none;\n                }\n\n                .collection-top-bar {\n                    display: flex;\n                }\n\n                .mobile-collection-top-bar {\n                    padding-left: 20rem;\n                    padding-right: 25rem;\n                    padding-top: 20rem;\n                    padding-bottom: 20rem;\n                    display: block;\n                }\n\n                .search-bar-wrapper {\n                    /* display: none; */\n                    --right: 32rem;\n                    top: 25rem;\n                    right: var(--right);\n                    width: calc(100% - (var(--right) * 2));\n                }\n\n                .filter-bar-back {\n                    min-height: 0rem;\n                }\n            }     \n            `}</style>\n        </>\n    );\n}","export default function _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return !!right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}"],"names":["window","__NEXT_P","push","FilterBarIconButton","name","selected","onClick","paneClassNames","hint","prebuildData","collectionFilterControls","highlightColor","hoverColor","color","div","i","EventPane","FilterBarTextButton","text","disabled","backgroundColor","split","map","line","index","React","br","FilterBar","width","bannerHeightReady","open","cancelControlsPointerEvents","showInline","sortOrderCaptions","useContext","CollectionFilterStateContext","sortOrder","filter","isSwitching","useState","filterValue","setFilterValue","filterValueRef","useRef","current","sortOrderValue","setSortOrderValue","sendFilterTimeoutRef","sendSortOrderTimeoutRef","useEffect","clearTimeout","setTimeout","set","keys","value","length","Object","selectedFilterIdRef","controlsTop","setControlsTop","_showControls","setShowControls","showControls","LayoutStateContext","page","misc","filterBarItemClassNameIdentifier","mobileDetect","isActive","widthCutoff","_windowSize","WindowSizeContext","permRef","windowSize","DimensionsStateContext","navbarHeight","bannerHeight","miniNavbarHeight","collectionGridHeight","filterBarControlsHeight","scrollBottomPadding","updateTop","controlsHeight","scrollTop","height","topSectionHeight","maxAvailableSpace","windowHeight","availableSpace","Math","min","max","stickyPosition","hideControls","useSmartState","addScrollEventListener","refOnResize","useResizeObserver","isScrollLocked","style","transform","mobileCutoff","ref","isMobile","top","pointerEvents","join","id","updatedSelectedFilterId","handlerFilterIconClicked","NicotineWarning","cssStateManager","useCssStateManager","nicotineWarningBox","borderColor","textColor","getClassNames","PriceDisplayWithDiscount","size","price","discountedPrice","span","PriceDisplay","strike","CollectionsGridItem","caption","imageSrc","hoverImageSrc","productId","teaseCaption","useProperty","layout","router","useCustomRouter","consumeReviewsHeader","reviewsCount","starRating","reviewText","round","stars","Array","from","priceStr","cutOffIndex","priceDollars","parseInt","substring","toString","priceCents","showImage","setShowImage","productPageRoute","useCachedValue","collectionItem","priceColor","titleColor","priceHoverColor","titleHoverColor","reviewCountColor","reviewCountHoverColor","general","starsColor","starsHoverColor","Image","src","onLoadingComplete","type","seoLinkUrl","TransitionFadeIn","durationSecs","children","show","setShow","transition","CollectionsGridNoItems","CollectionSearchBar","collectionId","collectionCaption","searchOpen","openSearch","searchBarCommRef","miniWidthCutoff","collectionSearchBarOpen","placeholderRef","onTransitionEnd","e","elem","target","propertyName","searchBarComm","notifyMeOnPlaceholderAnimationEnd","Collection","useRouter","query","lastIsMobileRef","scrollTo","behavior","CollectionContent","filterBarWidth","filterBarOpen","setFilterBarOpen","setBannerHeightReady","screenRatio","configuredBannerHeight","scaleRemToPixel","gridFrameRef","gridHorizontalCellSpacing","fraction","gridColumns","setGridColumns","permGridColumns","gridProcessCounter","setGridProcessCounter","permGridProcessCounter","filterBarBackRef","refreshSwitch","ProductMockReviewCollection","beforePushSubscribe","cb","scrollToTopWithCallback","newGridColumns","f","c","clientWidth","centerControlsInSlider","setCenterControlsInSlider","sliderOpen","setSliderOpen","timerHandlerRef","setCancelControlsPointerEvents","libSearch","handler","event","HTMLElement","classList","contains","document","addEventListener","removeEventListener","showFilterBarInline","setShowFilterBarInline","handlerBeforeRouterScrollUp","handlerAfterRouterScrollUp","on","off","collectionItems","omitSupport","collectionUrl","route","reviewsHeader","consumeAllReviewsHeader","refOnGridResize","products","hidden","filters","key","sort","a","aid","b","bid","publishedAt","collectionDropdownMenuOpen","setCollectionDropdownMenuOpen","dropdownMenuHeight","setDropdownMenuHeight","isDropdownMenuCentered","setIsDropdownMenuCentered","refDropdownMenuOnResize","useLayoutEffect","useDesktopScrollbar","className","injectedStyles","styles","collectionBanner","subtitleColor","Head","getInjectableHeaderTags","seo","title","description","scrollerInjectedStyles","collectionFilterControlsBackgroundColor","Banner","bannerImageUrl","aspectRatio","banner","image","ratio","texts","family","left","captionLeft","weight","paddingLeft","paddingRight","letterSpacing","subCaptionLeft","subCaption","TBannerLayout","onImageShowing","onHeightReady","onResize","CollectionNavBar","leftIconName","rightIconName","leftIconClickHandler","rightIconClickHandler","scrollerRef","scrollerStyles","scrollerClassName","handle","showOverlayScrollbar","collectionDropdownItemClickHandler","Icon","opacity","Grid","onReady","routerTransition","futureScrollMax","clientHeight","targetScrollTop","scrollTopMax","unlockScroll","processCounter","columns","verticalCellSpacing","horizontalCellSpacing","scrollAnimation","scrollAnimationThreshold","singleTopMargin","product","smallImages","visibility","undefined","marginTop","CenteredSpinner","_instanceof","right","Symbol","hasInstance"],"sourceRoot":""}