{"version":3,"file":"static/chunks/pages/account/first-login/profile-1110aeddf601a01c.js","mappings":"qFACKA,OAAOC,SAAWD,OAAOC,UAAY,IAAIC,KAAK,CAC7C,+BACA,WACE,OAAO,EAAQ,S,kECuChB,IAAMC,EAAoB,CAC7BC,MAAO,oB,8LCfEC,EArB+D,CACxEC,YAAY,EACZC,OAAQ,CACJC,UAAW,CACPC,QAAS,aACTC,UAAU,GAEdC,SAAU,CACNF,QAAS,YACTC,UAAU,GAEdN,MAAO,CACHK,QAAS,gBACTG,W,QAAYT,EAAAA,MACZU,WAAY,QACZC,oBAAqB,OAG7BC,YAAa,sCCuCjB,GAlDiCC,EAAAA,EAAAA,KAAW,SAAS,KAAgC,OAAhC,KAAgC,uDACzDC,EAAAA,EAAAA,GAAmB,CAAC,6B,IAEtCC,GAAUC,EAAAA,EAAAA,MAEhB,OACI,UAACC,EAAAA,GAAI,CACDC,cAAehB,EACfiB,WAAS,EACTC,MAAO,CACHC,SAAU,KAEdC,UAAW,WACP,IAAM,EAAYP,EAAQQ,MAAlBC,KACR,OAA6B,IAAzB,EAAMC,UAAUC,QAAiBF,EAAKG,oBAW/B,CACHC,KAAM,WACNC,KAAM,WACNC,QAAS,CACLF,KAAM,OACNE,QAAS,mCAfV,CACHF,KAAM,WACNC,KAAM,+BACNC,QAAS,CACLF,KAAM,OACNE,QAAS,oC,WAgBzB,SAACC,EAAAA,EAAK,C,SAAC,oBACP,UAACC,EAAAA,EAAG,CAACC,QAAM,E,WACP,SAACC,EAAAA,EAAC,C,SAAC,iFAGH,SAACC,EAAAA,EAAK,CAACC,KAAK,eACZ,SAACD,EAAAA,EAAK,CAACC,KAAK,cACZ,SAACD,EAAAA,EAAK,CAACC,KAAK,QAAQR,KAAK,YACzB,SAACS,EAAAA,EAAY,CAAC/B,QAAQ,sB","sources":["webpack://_N_E/?9036","webpack://_N_E/./lib/shared/form-request-makeup/types.ts","webpack://_N_E/./lib/shared/form-request-makeup/requests/account/first-login/profile.ts","webpack://_N_E/./pages/account/first-login/profile.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/account/first-login/profile\",\n      function () {\n        return require(\"private-next-pages/account/first-login/profile.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/account/first-login/profile\"])\n      });\n    }\n  ","export type FormError<TValues extends FormValues = FormValues> = {\n    message: string;\n    inputNames: (keyof TValues)[];\n};\n\nexport type FormInputValidation<TValues extends FormValues = FormValues> = string | ((value: string) => string | FormError<TValues> | void);\n\nexport type FormValues = {[name: string]: string};\n\nexport type FormValidation<TValues extends FormValues = FormValues> = (values: TValues) => string | FormError<TValues> | void;\n\nexport type FormRequestMakeupInput<TValues extends FormValues = FormValues> = {\n    caption: string;\n    required?: boolean;\n    placeholder?: string;\n    defaultInitialValue?: string;\n    emptyValue?: string | RegExp;\n    validation?: FormInputValidation<TValues>;\n};\n\nexport type FormRequestMakeupInputs<TValues extends FormValues = FormValues> = {\n    [name: string]: FormRequestMakeupInput<TValues>;\n};\n\nexport type AlternativeSubmit = {\n    relativeUrl: string;\n    emptyForm?: boolean;\n};\n\nexport type FormRequestMakeup<TValues extends FormValues = FormValues> = {\n    trimValues?: true | string[];\n    validation?: FormValidation<TValues>;\n    preValidationAlterations?: (values: TValues,inputs: FormRequestMakeupInputs<TValues>) => void;\n    inputs: FormRequestMakeupInputs<TValues>;\n    relativeUrl: string;\n    errorTable?: {\n        [id: string]: string;\n    };\n    alternativeSubmits?: {\n        [name: string]: AlternativeSubmit;\n    };\n};\n\nexport const commonEmptyValues = {\n    phone: /^(?:\\d*\\/)?\\s*$/\n};","import { FormRequestMakeup, commonEmptyValues } from \"../../../types\";\n\ntype NameValues = {\n    firstName: string;\n    lastName: string;\n    phone: string;\n};\n\nconst _formRequestAccountFirstLoginProfile: FormRequestMakeup<NameValues> = {\n    trimValues: true,\n    inputs: {\n        firstName: {\n            caption: \"First name\",\n            required: true\n        },\n        lastName: {\n            caption: \"Last name\",\n            required: true\n        },\n        phone: {\n            caption: \"Mobile number\",\n            emptyValue: commonEmptyValues.phone,\n            validation: \"phone\",\n            defaultInitialValue: \"1/\"\n        }   \n    },\n    relativeUrl: \"/users/account?action=save-profile\",\n};\n\nexport const formRequestAccountFirstLoginProfile = _formRequestAccountFirstLoginProfile as FormRequestMakeup;","import Box from \"../../../components/common/form/box\";\nimport Form from \"../../../components/common/form/form\";\nimport Input from \"../../../components/common/form/input\";\nimport P from \"../../../components/common/form/p\";\nimport Page from \"../../../components/common/form/page\";\nimport SubmitButton from \"../../../components/common/form/submit-button\";\nimport Title from \"../../../components/common/form/title\";\nimport { securePage } from \"../../../components/common/secure_page\";\nimport { Account, consumeAccount } from \"../../../hooks/use_account\";\nimport { useCssStateManager } from \"../../../hooks/use_css_state_manager\";\nimport { formRequestAccountFirstLoginProfile } from \"../../../lib/shared/form-request-makeup/requests/account/first-login/profile\";\n\nexport type AccountFirstLoginProfileProps = {\n};\n\nconst AccountFirstLoginProfile = securePage(function({}:AccountFirstLoginProfileProps) {\n    const cssStateManager = useCssStateManager([\"accountfirstloginprofile\"]);\n\n    const account = consumeAccount();\n\n    return (\n        <Form \n            requestMakeup={formRequestAccountFirstLoginProfile}\n            autoFocus\n            input={{\n                maxWidth: 400,\n            }}\n            onSuccess={() => {\n                const { user } = (account.value as Account);\n                if ((user.addresses.length===0) && (!user.addressSetupSkipped)) {\n                    return {\n                        type: \"redirect\",\n                        path: \"/account/first-login/address\",\n                        message: {\n                            type: \"info\",\n                            message: \"Your profile has been created.\"\n                        }\n                    };    \n                }\n                else {\n                    return {\n                        type: \"redirect\",\n                        path: \"/account\",\n                        message: {\n                            type: \"info\",\n                            message: \"Your profile has been created.\"\n                        }\n                    };    \n                }\n            }}\n        >\n            <Title>Create Profile</Title>\n            <Box border>\n                <P>\n                    Before you can start using your account, we need some information from you.\n                </P>\n                <Input name=\"firstName\" />\n                <Input name=\"lastName\" />\n                <Input name=\"phone\" type=\"mobile\" />\n                <SubmitButton caption=\"Create\" />\n            </Box>\n        </Form>\n);\n});\n\nexport default AccountFirstLoginProfile;"],"names":["window","__NEXT_P","push","commonEmptyValues","phone","formRequestAccountFirstLoginProfile","trimValues","inputs","firstName","caption","required","lastName","emptyValue","validation","defaultInitialValue","relativeUrl","securePage","useCssStateManager","account","consumeAccount","Form","requestMakeup","autoFocus","input","maxWidth","onSuccess","value","user","addresses","length","addressSetupSkipped","type","path","message","Title","Box","border","P","Input","name","SubmitButton"],"sourceRoot":""}