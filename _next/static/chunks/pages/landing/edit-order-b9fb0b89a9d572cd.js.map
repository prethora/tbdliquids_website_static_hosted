{"version":3,"file":"static/chunks/pages/landing/edit-order-b9fb0b89a9d572cd.js","mappings":"qFACKA,OAAOC,SAAWD,OAAOC,UAAY,IAAIC,KAAK,CAC7C,sBACA,WACE,OAAO,EAAQ,U,qOCQR,SAASC,EAAiB,KAAwB,OAAxB,KAAwB,sD,IAEvDC,GAAcC,EAAAA,EAAAA,aAEpBC,IAAe,W,OAAA,4BAAOC,G,IACZC,EACAC,EACAC,EACAC,EAEAC,E,wEALAJ,EAAkB,IAAIK,gBAAgBb,OAAOc,SAASC,QACtDN,EAASO,OAAOC,YAAYT,EAAgBU,WAC5CR,EAAKD,EAAW,GAChBE,EAAYF,EAAO,cACzBU,EAAAA,EAAAA,cAA6BR,E,SACTQ,EAAAA,EAAAA,SAAsBT,G,cAApCE,EAAQ,EAAH,K,UACLQ,EAAAA,EAAAA,mBAAgCR,EAAMS,Y,WACvCd,IAAa,C,kDAClBe,EAAAA,GAAAA,cAAmBV,GACnBR,EAAYF,KAAK,EAAOqB,UAAUC,OAAO,EAAG,uBAAuB,K,4DAVjDjB,G,gCAAP,GAWb,IAEF,IAAMkB,GAAkBC,EAAAA,EAAAA,GAAmB,CAAC,uBAC5C,OACI,sB,WACI,SAACC,MAAG,C,mCAAYF,EAAgBG,iBAAe,I,UAC3C,SAACC,EAAAA,EAAe,CAACC,WAAS,EAACC,MAAO,S,mJC/BlD,IAAIC,EAAQ,EAAQ,MAEpB,SAAS1B,EAAe2B,EAAQC,EAASC,GACvC,IAAIC,EAAgC,oBAAZF,EAExBF,EAAMK,WAAU,WACd,IAAIC,EACAC,GAAU,EACVC,EAAeP,GAAO,WACxB,OAAOM,KAOT,OAJAE,QAAQC,QAAQF,GAAcG,MAAK,SAAUC,GAC3CN,EAASM,KAGJ,WACLL,GAAU,EAENH,GACFF,EAAQI,MAGXF,EAAaD,EAASD,GAG3BW,EAAOC,QAAUxC,EACjBuC,EAAOC,QAAQxC,eAAiBA,I","sources":["webpack://_N_E/?1824","webpack://_N_E/./pages/landing/edit-order.tsx","webpack://_N_E/./node_modules/use-async-effect/index.js"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/landing/edit-order\",\n      function () {\n        return require(\"private-next-pages/landing/edit-order.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/landing/edit-order\"])\n      });\n    }\n  ","import { useRouter } from \"next/router\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport useAsyncEffect from \"use-async-effect\";\nimport CenteredSpinner from \"../../components/common/centered-spinner\";\nimport { apiEditOrder } from \"../../lib/api/editorder\";\nimport { useSmartState } from \"../../hooks/use_smart_state\";\nimport { cart } from \"../../lib/services/cart/cart\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\n\nexport type LandingEditOrderProps = {\n};\n\nexport default function LandingEditOrder({}:LandingEditOrderProps)\n{\n    const reactRouter = useRouter();\n\n    useAsyncEffect(async (isMounted) => {        \n        const urlSearchParams = new URLSearchParams(window.location.search);\n        const params = Object.fromEntries(urlSearchParams.entries());        \n        const id = params[\"id\"];\n        const secureKey = params[\"secure-key\"];\n        apiEditOrder.editSecureKey = secureKey;       \n        const order = await apiEditOrder.getOrder(id);        \n        await prebuildData.loadOnlineSnapshot(order.snapshotId);\n        if (!isMounted()) return;\n        cart.loadEditOrder(order);\n        reactRouter.push((order.cartItems.length>0)?\"/?from-checkout=true\":\"/\");\n    },[]);\n\n    const cssStateManager = useCssStateManager([\"landing-edit-order\"]);\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <CenteredSpinner usePixels scale={1.3}/>\n            </div>\n            <style jsx>{`\n            .landing-edit-order {\n                padding-top: 20px;\n            }\n            `}</style>\n        </>\n    );\n}","'use strict';\n\nvar React = require('react');\n\nfunction useAsyncEffect(effect, destroy, inputs) {\n  var hasDestroy = typeof destroy === 'function';\n\n  React.useEffect(function () {\n    var result;\n    var mounted = true;\n    var maybePromise = effect(function () {\n      return mounted;\n    });\n\n    Promise.resolve(maybePromise).then(function (value) {\n      result = value;\n    });\n\n    return function () {\n      mounted = false;\n\n      if (hasDestroy) {\n        destroy(result);\n      }\n    };\n  }, hasDestroy ? inputs : destroy);\n}\n\nmodule.exports = useAsyncEffect;\nmodule.exports.useAsyncEffect = useAsyncEffect;\n"],"names":["window","__NEXT_P","push","LandingEditOrder","reactRouter","useRouter","useAsyncEffect","isMounted","urlSearchParams","params","id","secureKey","order","URLSearchParams","location","search","Object","fromEntries","entries","apiEditOrder","prebuildData","snapshotId","cart","cartItems","length","cssStateManager","useCssStateManager","div","getClassNames","CenteredSpinner","usePixels","scale","React","effect","destroy","inputs","hasDestroy","useEffect","result","mounted","maybePromise","Promise","resolve","then","value","module","exports"],"sourceRoot":""}