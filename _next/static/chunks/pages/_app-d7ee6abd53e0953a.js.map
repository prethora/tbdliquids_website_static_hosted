{"version":3,"file":"static/chunks/pages/_app-d7ee6abd53e0953a.js","mappings":"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","sources":["webpack://_N_E/./node_modules/@swc/helpers/lib/_define_property.js","webpack://_N_E/./node_modules/next/app.js","webpack://_N_E/?adc8","webpack://_N_E/./components/account-bar/mobile-drop-down.tsx","webpack://_N_E/./components/common/horizontal-spacer.tsx","webpack://_N_E/./components/account-bar.tsx","webpack://_N_E/./components/common/back_to_top.tsx","webpack://_N_E/./components/common/button.tsx","webpack://_N_E/./components/common/centered-spinner.tsx","webpack://_N_E/./components/common/desktop.tsx","webpack://_N_E/./components/common/mobile.tsx","webpack://_N_E/./components/common/price-display.tsx","webpack://_N_E/./components/common/scaled-next-image.tsx","webpack://_N_E/./components/common/star_rating.tsx","webpack://_N_E/./components/common/text-button.tsx","webpack://_N_E/./components/core/event_pane.tsx","webpack://_N_E/./components/core/icon.tsx","webpack://_N_E/./components/core/router_transition.tsx","webpack://_N_E/./components/core/square_image.tsx","webpack://_N_E/./components/core/text.tsx","webpack://_N_E/./components/icon_button.tsx","webpack://_N_E/./components/spacer_row.tsx","webpack://_N_E/./components/navbar/logo.tsx","webpack://_N_E/./hooks/use_image_load_effect.ts","webpack://_N_E/./components/navbar/promo_line.tsx","webpack://_N_E/./components/navbar/promo_space.tsx","webpack://_N_E/./components/navbar/promo_left.tsx","webpack://_N_E/./components/navbar/promo_right.tsx","webpack://_N_E/./hooks/use_current_collection.ts","webpack://_N_E/./components/core/vertical_center.tsx","webpack://_N_E/./components/navbar/menu_item.tsx","webpack://_N_E/./components/navbar/menu.tsx","webpack://_N_E/./components/navbar.tsx","webpack://_N_E/./components/footer.tsx","webpack://_N_E/./components/mini_navbar/menu_item.tsx","webpack://_N_E/./components/mini_navbar.tsx","webpack://_N_E/./components/side_menu/menu_item.tsx","webpack://_N_E/./components/side_menu/separator.tsx","webpack://_N_E/./components/side_menu/section_title.tsx","webpack://_N_E/./components/side_menu/collections_menu_item.tsx","webpack://_N_E/./components/side_menu/collections_menu.tsx","webpack://_N_E/./components/side_menu.tsx","webpack://_N_E/./lib/api/sales_signature.ts","webpack://_N_E/./components/side_cart/clear_cart.tsx","webpack://_N_E/./components/side_cart/item.tsx","webpack://_N_E/./components/side_cart/sales_breakdown.tsx","webpack://_N_E/./components/side_cart.tsx","webpack://_N_E/./components/creating_checkout.tsx","webpack://_N_E/./lib/keypress.ts","webpack://_N_E/./components/search.tsx","webpack://_N_E/./lib/windowmessages.ts","webpack://_N_E/./components/integrations/smile.tsx","webpack://_N_E/./components/edit-bottom-bar.tsx","webpack://_N_E/./hooks/use_error_slide_show.tsx","webpack://_N_E/./lib/api/bugreporter.ts","webpack://_N_E/./components/bug-reporter.tsx","webpack://_N_E/./components/sales-start-end-notice.tsx","webpack://_N_E/./components/common/linear-top-working-indicator.tsx","webpack://_N_E/./components/layout.tsx","webpack://_N_E/./components/pages/product/price-update.tsx","webpack://_N_E/./components/side_cart/also_bought/grid_row.tsx","webpack://_N_E/./components/side_cart/also_bought/also_bought.tsx","webpack://_N_E/./components/core/square.tsx","webpack://_N_E/./components/side_cart/also_bought/grid_item.tsx","webpack://_N_E/./contexts/collection_filter_state.ts","webpack://_N_E/./contexts/dimensions_state.ts","webpack://_N_E/./contexts/global_state.tsx","webpack://_N_E/./contexts/layout_state.tsx","webpack://_N_E/./contexts/window_size.tsx","webpack://_N_E/./hooks/use_account.ts","webpack://_N_E/./hooks/use_bought_together_client.ts","webpack://_N_E/./hooks/use_cached_value.ts","webpack://_N_E/./hooks/use_css_state_manager.tsx","webpack://_N_E/./hooks/use_custom_router.ts","webpack://_N_E/./hooks/use_desktop_scrollbar.ts","webpack://_N_E/./hooks/use_pub_sub.ts","webpack://_N_E/./hooks/use_resize_observer/index.ts","webpack://_N_E/./hooks/use_reviews_header.ts","webpack://_N_E/./hooks/use_smart_state.ts","webpack://_N_E/./lib/api/editorder.ts","webpack://_N_E/./lib/api/location.ts","webpack://_N_E/./lib/api/review.ts","webpack://_N_E/./lib/api/storefront.ts","webpack://_N_E/./lib/env.ts","webpack://_N_E/./lib/infinite-fetch.ts","webpack://_N_E/./lib/localstorage.ts","webpack://_N_E/./lib/misc.ts","webpack://_N_E/./lib/mock-reviews.ts","webpack://_N_E/./lib/prebuild-data/index.ts","webpack://_N_E/./lib/prebuild-data/util.ts","webpack://_N_E/./lib/search.ts","webpack://_N_E/./lib/services/cart/cart.ts","webpack://_N_E/./lib/shared/lib/misc.ts","webpack://_N_E/./lib/shared/options/snapshot/compiler.ts","webpack://_N_E/./lib/shared/options/snapshot/misc.ts","webpack://_N_E/./lib/touch_move_tracker.ts","webpack://_N_E/./node_modules/next/dist/client/image.js","webpack://_N_E/./node_modules/next/dist/client/use-intersection.js","webpack://_N_E/./pages/_app.tsx","webpack://_N_E/./node_modules/next/dist/styled-jsx/dist/index/index.js","webpack://_N_E/./node_modules/next/dist/styled-jsx/style.js","webpack://_N_E/./node_modules/next/head.js","webpack://_N_E/./node_modules/next/image.js","webpack://_N_E/./node_modules/next/router.js","webpack://_N_E/./node_modules/process/browser.js","webpack://_N_E/./node_modules/@swc/helpers/src/_array_like_to_array.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_async_to_generator.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_class_call_check.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_iterable_to_array.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_define_property.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_object_spread.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_object_spread_props.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_sliced_to_array.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_array_with_holes.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_non_iterable_rest.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_throw.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_to_consumable_array.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_array_without_holes.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_non_iterable_spread.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_type_of.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","module.exports = require('./dist/pages/_app')\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/_app\",\n      function () {\n        return require(\"private-next-pages/_app.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/_app\"])\n      });\n    }\n  ","import { CSSProperties, useContext, useRef } from \"react\";\nimport { Account } from \"../../hooks/use_account\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { SmartState } from \"../../hooks/use_smart_state\";\nimport { InlineButton, styledButton } from \"../common/button\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\nimport { EventPane } from \"../core/event_pane\";\n\nexport type AccountBarMobileDropDownProps = {\n    email: string;\n    onSignoutClick?: () => void;\n};\n\nconst Button = styledButton({ display: \"inline-block\",fontSize: \"13rem\",padding: \"10rem 25rem\" });\n\nexport default function AccountBarMobileDropDown({email,onSignoutClick = () => {}}:AccountBarMobileDropDownProps)\n{\n    const { scalePixelToRem } = useContext(LayoutStateContext);\n    const cssStateManager = useCssStateManager([\"account-bar-mobile-drop-down\"]);\n    const isOpen = cssStateManager.useState(false,\"open\");\n    const innerRef = useRef<HTMLDivElement>();\n    const closedHeight = 42;\n\n    const getInnerHeight = () => {\n        if (innerRef.current) {\n            return scalePixelToRem(innerRef.current.offsetHeight);\n        }\n        else {\n            return 0;\n        }\n    };\n\n    const dropdownStyles: CSSProperties = {\n        height: `${isOpen.value?getInnerHeight():closedHeight}rem`\n    };\n\n    const handleOpenClick = () => {\n        isOpen.value = !isOpen.value;\n    };\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"dropdown\" style={dropdownStyles}>\n                    <div ref={innerRef} className=\"inner\">\n                        <div className=\"top-section\">\n                            <div className=\"email\">\n                                {email}\n                            </div>\n                            <div className=\"arrow\">\n                                <div className=\"icon-navbar-right-arrow\" />\n                            </div>      \n                            <EventPane onClick={handleOpenClick} parentElemRef={innerRef} />              \n                        </div>\n                        <div className=\"bottom-section\">\n                            <Button caption=\"Signout\" onClick={onSignoutClick} />\n                        </div>\n                    </div>\n                </div>                \n            </div>\n            <style jsx>{`\n            .account-bar-mobile-drop-down {\n                padding: 0rem 20rem;\n                padding-top: 20rem;\n                padding-bottom: 10rem;\n            }\n\n            .dropdown {\n                --duration: 0.4s;\n                border: 1rem solid #aaa;\n                border-radius: 5rem;\n                font-size: 14rem;\n                color: #555;     \n                overflow-y: hidden;\n                transition: height var(--duration);\n            }\n\n            .inner {\n                padding: 10rem 5rem;       \n                padding-right: 0rem;\n            }\n\n            .inner.touchdown {\n                /* background-color: rgba(0,0,0,0.08); */\n            }\n\n            .top-section {\n                display: flex;\n                position: relative;\n            }\n\n            .bottom-section {\n                text-align: center;\n                padding-top: 13rem;\n                padding-bottom: 3rem;\n            }\n\n            .email {\n                text-align: center;\n                flex: 1 0;\n                text-overflow: ellipsis;\n                overflow: hidden;\n                padding: 0rem 5rem;\n            }\n            \n            .arrow {\n                flex: 0 0 30rem;\n            }\n\n            .arrow div {\n                transform: rotate(90deg);\n                position: relative;\n                top: 0rem;\n                color: #999;\n                overflow: hidden;\n                width: 12rem;\n                height: 20rem;\n                transition: transform var(--duration);\n            }\n\n            .open .arrow div {\n                transform: rotate(-90deg);\n            }\n            `}</style>\n        </>\n    );\n}","import { CSSProperties } from \"react\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\n\nexport type HorizontalSpacerProps = {\n};\n\nexport const horizontalSpacer = (width: number) => {\n    return function HorizontalSpacer({}:HorizontalSpacerProps)\n    {\n        const cssStateManager = useCssStateManager([\"horizontal-spacer\"]);\n        const styles: CSSProperties = {\n            width: `${width}rem`\n        };\n        return (\n            <>\n                <div className={cssStateManager.getClassNames()} style={styles}></div>\n                <style jsx>{`\n                .horizontal-spacer {\n                    display: inline-block;\n                }\n                `}</style>\n            </>\n        );\n    }\n};\n\n","import { useEffect, useRef } from \"react\";\nimport { consumeAccount } from \"../hooks/use_account\";\nimport { useCssStateManager } from \"../hooks/use_css_state_manager\";\nimport { useSmartState } from \"../hooks/use_smart_state\";\nimport { useRouter } from \"next/router\";\nimport { EventPane } from \"./core/event_pane\";\nimport { useCustomRouter } from \"../hooks/use_custom_router\";\nimport Desktop from \"./common/desktop\";\nimport Mobile from \"./common/mobile\";\nimport AccountBarMobileDropDown from \"./account-bar/mobile-drop-down\";\nimport { horizontalSpacer } from \"./common/horizontal-spacer\";\nimport { misc } from \"../lib/misc\";\nimport { usePubSubReceiver, usePubSubSender } from \"../hooks/use_pub_sub\";\nimport { TextButton } from \"./common/text-button\";\n\nexport type AccountBarProps = {\n};\n\nconst HorizontalSpacer = horizontalSpacer(8);\n\nexport type AcccountBarParentNavEntry = {\n    caption: string;\n    path: string;\n};\n\nconst parentNavStack: AcccountBarParentNavEntry[] = [];\nlet accountBarUpdateCounter = 0;\n\nexport const useAccountBarParentNav = (caption: string,path: string) => {\n    const entryRef = useRef<AcccountBarParentNavEntry>();\n    entryRef.current = entryRef.current || {caption,path};\n\n    const { send: sendCounterUpdate } = usePubSubSender(\"account-bar-update-counter\");\n\n    useEffect(() => {\n        parentNavStack.push(entryRef.current);\n        sendCounterUpdate(++accountBarUpdateCounter);\n        return () => {\n            misc.removeItemsFromArray(parentNavStack,entryRef.current);\n            sendCounterUpdate(++accountBarUpdateCounter);\n        };\n    },[]);\n};\n\nexport default function AccountBar({}:AccountBarProps) {\n    const reactRouter = useRouter();\n    const router = useCustomRouter();\n    const beforeQuery = reactRouter.asPath.split(\"?\")[0];\n    const isOnAccountPage = /^\\/account(?:\\/|$)/.test(beforeQuery) || beforeQuery===\"/pages/help\";\n    const currentlySigningOut = useSmartState(\"\");\n\n    usePubSubReceiver(\"account-bar-update-counter\",0);\n\n    type BreadcrumbTableComplex = {\n        parentCaption: string;\n        parentPath: string;\n    };\n\n    type BreadcrumbTable = {\n        [key: string] : true | BreadcrumbTableComplex\n    };\n\n    const breadcrumbTable: BreadcrumbTable = {\n        orders: true,\n        \"manage-account\": true,\n        \"your-addresses\": true,\n        \"your-transactions\": true,\n        \"your-reviews\": true,\n        \"manage-account/name\": {\n            parentCaption: \"Manage Account\",\n            parentPath: \"/account/manage-account\",\n        }\n    };\n\n    const breadcrumbId = useSmartState(\"\");\n\n    const cssStateManager = useCssStateManager([\"account-bar\"]);\n\n    const account = consumeAccount();\n\n    const handleSignoutClick = () => {\n        if (account.value) {\n            currentlySigningOut.value = account.value.user.email;\n            account.value = null;\n            router.push(\"/login\");\n        }\n    };\n\n    useEffect(() => {\n        const beforeQuery = reactRouter.asPath.split(\"?\")[0];        \n        if ((beforeQuery===\"/login\") && (currentlySigningOut.value)) {\n            currentlySigningOut.value = \"\";\n        }        \n        if (beforeQuery.startsWith(\"/account/\")) {            \n            const potentialId = beforeQuery.substring(\"/account/\".length);\n            breadcrumbId.value = breadcrumbTable[potentialId]?potentialId:\"\";\n        }\n        else {\n            breadcrumbId.value = \"\";\n        }\n    },[reactRouter.asPath]);\n\n    const handleBreadcrumbAccountClick = () => {\n        router.push(\"/account\");\n    };\n\n    const genHandleBreadcrumbParentClick = (parentPath: string) => {\n        return () => {\n            if (misc.isExternalPath(parentPath)) {\n                location.href = parentPath;\n            }\n            else {\n                router.push(parentPath);\n            }            \n        };\n    };\n\n    return (\n        ((isOnAccountPage && account.value) || currentlySigningOut.value)?(\n        <>\n            <Desktop>\n                <div className={cssStateManager.getClassNames()}>\n                    {\n                        (() => {\n                            if (parentNavStack.length>0) {\n                                const { caption: parentCaption,path: parentPath} = parentNavStack[parentNavStack.length-1];\n                                return (\n                                    <div className=\"breadcrumbs\">\n                                        <TextButton caption={` ${parentCaption}`} onClick={genHandleBreadcrumbParentClick(parentPath)} />\n                                    </div>\n                                );\n                            }\n                            else {\n                                return \"\";\n                            }\n                        })()\n                    }\n                    <div className=\"filler\"></div>\n                    <div className=\"email\">\n                        {account.value?account.value.user.email:currentlySigningOut.value}\n                    </div>\n                    <div className=\"sep\">|</div>\n                    <div className=\"signout\">\n                        Signout\n                        <EventPane overlapVert={10} overlapHori={5} onClick={handleSignoutClick} />\n                    </div>\n                </div>\n            </Desktop>\n            <Mobile>\n                <AccountBarMobileDropDown email={account.value?account.value.user.email:currentlySigningOut.value} onSignoutClick={handleSignoutClick} />\n            </Mobile>\n            <style jsx>{`\n            .account-bar {\n                display: flex;\n                /* justify-content: flex-end; */\n                padding: 0rem 50rem;\n                padding-top: 24rem;\n                padding-bottom: 4rem;\n                font-size: 14rem;\n            }\n            .breadcrumbs {\n            }\n            .filler {\n                flex: 1 0;\n            }\n            .sep {\n                padding: 0rem 5rem;\n                color: #999;\n            }\n            .email {\n                color: #777;\n            }\n            .signout {\n                font-weight: 600;\n                color: #555;\n                position: relative;\n            }\n\n            .signout.hover {\n                opacity: 0.80;\n            }\n            `}</style>\n        </>):<></>\n    );\n}","import { MutableRefObject, useEffect } from \"react\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { misc } from \"../../lib/misc\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\nimport { EventPane } from \"../core/event_pane\";\nimport { Image } from \"./scaled-next-image\";\n\nexport type BackToTopProps = {\n    position?: \"absolute\" | \"fixed\"; \n    right?: number;\n    bottom?: number;\n    handleScrollToTop?: () => void;\n    show: boolean;\n    containerRef?: MutableRefObject<HTMLDivElement>;\n};\n\nexport default function BackToTop({position = \"absolute\",bottom = 33,right = 31,handleScrollToTop = () => {},show,containerRef}:BackToTopProps)\n{\n    const cssStateManager = useCssStateManager([\"container\"]);\n    cssStateManager.useProperty(show,\"show\");\n    const scrollToTopSvg = misc.createImageDimensions(266,320,20);\n\n    return (\n        <>\n            <div \n                className={cssStateManager.getClassNames()}\n                style={{\n                    position: position,\n                    right: `${right}rem`,\n                    bottom: `${bottom}rem`\n                }}\n                ref={containerRef}\n            >\n                <Image src={prebuildData.bustCache(\"/images/side_cart/scroll-to-top.svg\")} width={scrollToTopSvg.width} height={scrollToTopSvg.height} />\n                <EventPane onClick={handleScrollToTop} />\n            </div>\n            <style jsx>{`\n            .container {\n                --size: 40rem;\n                --duration: 0.3s;\n                background-color: #000;\n                width: var(--size);\n                height: var(--size);\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                border-radius: var(--size);\n                background-color: rgba(0,0,0,0.25);              \n                opacity: 0;\n                visibility: hidden;\n                transition: background-color var(--duration),opacity var(--duration),visibility var(--duration);\n            }\n\n            .hover,.touchdown {\n                background-color: rgba(0,0,0,0.4);\n            }\n            .show {\n                opacity: 1;\n                visibility: visible;                                    \n            }\n            `}</style>\n        </>\n    );\n}","import { CSSProperties } from \"react\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { EventPane } from \"../core/event_pane\";\nimport { useCustomRouter } from \"../../hooks/use_custom_router\";\nimport { misc } from \"../../lib/misc\";\n\nexport type ButtonProps = {\n    caption: string;    \n    onClick?: () => void;\n    redirectToPath?: string;\n    disabled?: boolean;\n    fixedWidth?: number;\n};\n\nexport const styledButton = (styles: CSSProperties = {},disabledStyles: CSSProperties = {},{\n        overlapHori = 0,\n        overlapVert = 0,\n        hoverOpacity = 0.85,\n        backgroundColorCssVarName,\n        colorCssVarName        \n    }: {\n        overlapHori?: number;\n        overlapVert?: number;\n        hoverOpacity?: number;\n        backgroundColorCssVarName?: string;\n        colorCssVarName?: string;\n    } = {}) => {\n    return function Button({ caption,onClick = () => {},disabled,fixedWidth,redirectToPath }:ButtonProps) {\n        const cssStateManager = useCssStateManager([\"button\"]);\n        cssStateManager.useProperty(disabled,\"disabled\");\n\n        const backgroundColor = backgroundColorCssVarName?`var(${backgroundColorCssVarName})`:\"#076bd1\";\n        const color = colorCssVarName?`var(${colorCssVarName})`:\"#fff\";\n\n        const internalStyles: CSSProperties = {\n            ...((fixedWidth!==undefined)?{width: `${fixedWidth}rem`}:{})\n        };\n\n        const router = useCustomRouter();\n\n        const handleClick = () => {\n            if (redirectToPath) {\n                if (misc.isExternalPath(redirectToPath)) {\n                    location.href = redirectToPath;\n                }\n                else {\n                    router.push(redirectToPath);\n                }                \n            }\n            else {\n                onClick();\n            }\n        };\n        \n        return (\n            <>\n                <div className={cssStateManager.getClassNames()} style={{...styles,...internalStyles,...(disabled?disabledStyles:{})}}>\n                    {caption}\n                    <EventPane \n                        onClick={handleClick} \n                        hoverOnTouchDown \n                        disabled={disabled} \n                        overlapHori={overlapHori} \n                        overlapVert={overlapVert}                         \n                    />\n                </div>\n                <style jsx>{`\n                .button {\n                    background-color: ${backgroundColor};\n                    color: ${color};\n                    padding: 11rem 25rem;\n                    border-radius: 5rem;\n                    font-size: 15rem;\n                    position: relative;\n                    transition: opacity 0.3s;\n                    text-align: center;\n                }\n\n                .button.hover {\n                    opacity: ${hoverOpacity};\n                }\n\n                .disabled {\n                    opacity: 1;\n                    background-color: #999;\n                }\n                `}</style>\n            </>\n        );    \n    };\n};\n\nexport const InlineButton = styledButton({display: \"inline-block\"});","import { CSSProperties } from \"react\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\n\nexport type CenteredSpinnerProps = {\n    scale?: number;\n    usePixels?: boolean;\n};\n\ninterface CustomCSS extends CSSProperties {\n    '--size': string;\n}\n\nexport default function CenteredSpinner({scale = 1,usePixels}:CenteredSpinnerProps)\n{\n    const cssStateManager = useCssStateManager([\"centered-spinner\"]);\n    const size = 144*scale;\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()} style={{\n                \"--size\": `${size}${usePixels?\"px\":\"rem\"}`\n            } as CustomCSS}>\n                <div className=\"spinner-frame\">\n                    <img src={prebuildData.bustCache(\"/images/creating_checkout/loading.svg\")} />\n                </div>\n            </div>\n            <style jsx>{`\n            .centered-spinner {\n                text-align: center;\n            }\n\n            .spinner-frame {\n                overflow: hidden;\n                display: inline-block;\n                width: calc(var(--size) * 0.34); \n                height: calc(var(--size) * 0.34); \n            }\n            .spinner-frame img {                \n                position: relative;\n                left: calc(var(--size) * -0.33);\n                top: calc(var(--size) * -0.33);\n                width: var(--size);\n                height: var(--size);\n            }\n            `}</style>\n        </>\n    );\n}","import { useContext } from \"react\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\n\nexport default function Desktop({children}:any) {\n    const { mobileDetect: { widthCutoff: mobileCutoff } } = useContext(LayoutStateContext);\n    return (\n        <>\n            <div className=\"desktop\">{children}</div>\n            <style jsx>{`                \n            @media screen and (max-width: ${mobileCutoff}px) {\n                .desktop {\n                    display: none;\n                }\n            }\n            `}</style>\n        </>\n    );\n}","import { useContext } from \"react\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\n\nexport default function Mobile({children}:any) {\n    const { mobileDetect: { widthCutoff: mobileCutoff } } = useContext(LayoutStateContext);\n    return (\n        <>\n            <div className=\"mobile\">{children}</div>\n            <style jsx>{`         \n            .mobile {\n                display: none;\n            }       \n            @media screen and (max-width: ${mobileCutoff}px) {\n                .mobile {\n                    display: block;\n                }\n            }\n            `}</style>\n        </>\n    );\n}","import { CSSProperties, useEffect } from \"react\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { useSmartState } from \"../../hooks/use_smart_state\";\nimport { misc } from \"../../lib/misc\";\n\nexport type PriceDisplayProps = {\n    size?: number;\n    price: number;\n    plus?: boolean;    \n    strike?: boolean;\n};\n\ninterface CustomCSS extends CSSProperties {\n    '--size': string;\n}\n\nexport default function PriceDisplay({size = 30,price,plus = false,strike = false}:PriceDisplayProps)\n{\n    const cssStateManager = useCssStateManager([\"price-display\"]);\n    cssStateManager.useProperty(strike,\"has-strike\");\n    const { dollar,cents } = misc.splitPriceForDisplay(Math.abs(price));\n\n    const rsize = useSmartState(0);\n\n    useEffect(() => {\n        rsize.value = size;\n    },[size]);\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}\n                style={{\n                    \"--size\": `${rsize.value}rem`\n                } as CustomCSS}\n            >\n                <div className=\"flex-container\">\n                    {plus?(\n                        <div className=\"plus\">+</div>\n                    ):\"\"}\n                    {(price<0)?(\n                        <div className=\"plus\">-</div>\n                    ):\"\"}                    \n                    <div className=\"sup\">$</div>\n                    <div className=\"dollar\">{dollar}</div>\n                    <div className=\"sup cents\">{cents}</div>\n                    <div className=\"strike\"></div>\n                </div>\n            </div>\n            <style jsx>{`\n            .price-display {\n                display: inline-block;\n                font-weight: 600;\n                font-size: var(--size);\n                display: inline-block;\n            }\n            .has-strike {\n                font-weight: 400;\n            }\n            .flex-container {\n                position: relative;\n                display: flex;\n                align-items: flex-start;\n            }\n            .strike {\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: calc(var(--size) * 0.65);\n                height: 1rem;\n                background-color: #000;\n                display: none;\n            }\n\n            .has-strike .strike {\n                display: block;\n            }\n            .sup {\n                font-size: 55%;\n                position: relative;\n                top: calc(var(--size) * 0.14);\n            }\n            .cents {\n                left: calc(var(--size) * 0.07);\n            }\n            .plus {\n                font-size: 75%;\n                position: relative;\n                top: calc(var(--size) * 0.14);\n                left: calc(var(--size) * -0.05);\n            }\n            `}</style>\n        </>\n    );\n}","import NextImage, { ImageProps } from \"next/image\";\nimport { useContext } from \"react\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\n\nexport function Image(props: ImageProps) {\n    const { scaleFactor } = useContext(LayoutStateContext);\n    const changedProps = {...props};\n    if (typeof changedProps.width===\"number\") {\n        changedProps.width*= scaleFactor;\n    }\n    if (typeof changedProps.height===\"number\") {\n        changedProps.height*= scaleFactor;\n    }\n    return <NextImage {...changedProps} />\n}\n","import { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { SmartState } from \"../../hooks/use_smart_state\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\n\nexport type StarRatingProps = {\n    rating: number;\n    hoverSmartState?: SmartState<boolean>;\n    scale?: number;\n};\n\nexport default function StarRating({rating,hoverSmartState = {value: false},scale = 1}:StarRatingProps)\n{\n    rating = Math.min(Math.max(Math.round(rating*2)/2,0),5);    \n    const stars = Array.from(Array(5)).map(() => \n    {\n        if (rating>=1)\n        {\n            rating--;\n            return \"star\";\n        }\n        else if (rating===0.5)\n        {\n            rating = 0;\n            return \"star-half\";\n        }\n        else\n        {\n            return \"star-empty\";\n        }\n    });\n\n    const cssStateManager = useCssStateManager([\"stars\"]);\n    cssStateManager.useProperty(hoverSmartState.value,\"hover\");\n\n    const { general: { starsColor,starsHoverColor } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <span className={cssStateManager.getClassNames()}>\n                {stars.map((type,index) => <i key={index} className={`icon-collection-item-review-${type}`} />)}\n            </span>\n            <style jsx>{`\n            .stars {\n                color: ${starsColor};\n                letter-spacing: ${3*scale}rem;\n                font-size: ${18*scale}rem;\n                transition: color 0.2s;\n            }\n            .stars.hover {\n                color: ${starsHoverColor};\n            }\n            `}</style>\n        </>\n    );\n}","import { styledButton } from \"./button\";\n\nexport const TextButton = styledButton({\n    display: \"inline-block\",\n    backgroundColor: \"transparent\",\n    color: \"#666\",\n    fontWeight: \"600\",\n    fontSize: \"inherit\",\n    padding: \"0rem\"\n},{},{\n    overlapHori: 6,\n    overlapVert: 10,\n    hoverOpacity: 0.75\n});\n\nexport const TextButtonLight = styledButton({\n    display: \"inline-block\",\n    backgroundColor: \"transparent\",\n    color: \"#666\",\n    fontSize: \"inherit\",\n    padding: \"0rem\"\n},{\n    opacity: 0.4\n},{\n    overlapHori: 6,\n    overlapVert: 10,\n    hoverOpacity: 0.75\n});\n","import { MutableRefObject, TouchEvent, useEffect, useRef } from \"react\";\nimport { SmartState } from \"../../hooks/use_smart_state\";\nimport { env } from \"../../lib/env\";\n\nexport type EventPaneProps = {\n    zIndex?: number;\n    touchHoldTimeoutMilliseconds?: number;\n    touchRadius?: number;\n    onClick?: () => void;\n    onStartHover?: () => void;\n    onEndHover?: () => void;\n    onTouchOrMouseDown?: () => void;\n    touchDownOnMouseDown?: boolean;    \n    paneClassNames?: string[];\n    hint?: string;\n    disabled?: boolean;\n    hoverSmartState?: SmartState<boolean>;\n    overlapHori?: number;\n    overlapVert?: number;\n    overlapLeft?: number;\n    overlapRight?: number;\n    overlapTop?: number;\n    overlapBottom?: number;\n    hoverOnTouchDown?: boolean;\n    parentElemRef?: MutableRefObject<HTMLDivElement>;\n    seoLinkUrl?: string;\n    externalLink?: boolean;\n};\n\nexport function EventPane({\n    zIndex = 0,\n    touchHoldTimeoutMilliseconds = 1000,\n    touchRadius = 10,\n    onClick = () => {},\n    onStartHover = () => {},\n    onEndHover = () => {},\n    onTouchOrMouseDown = () => {},\n    touchDownOnMouseDown = false,\n    paneClassNames = [],\n    hint = \"\",\n    disabled = false,\n    hoverSmartState = {value: false, subscribe: () => () => {}},\n    overlapHori = 0,\n    overlapVert = 0,\n    overlapLeft = overlapHori,\n    overlapRight = overlapHori,\n    overlapTop = overlapVert,\n    overlapBottom = overlapVert,\n    hoverOnTouchDown = false,\n    parentElemRef,\n    seoLinkUrl,\n    externalLink = false\n    }: EventPaneProps)\n{\n    const paneDivRef = useRef<HTMLDivElement>(null);\n    const paneAnchorRef = useRef<HTMLAnchorElement>(null);\n\n    const _onClick = () => {\n        if ((!seoLinkUrl) || (!externalLink)) onClick();\n    };\n\n    const getParentElem = () => {\n        if (parentElemRef?.current) {\n            return parentElemRef?.current;\n        }\n        else {\n            if ((paneAnchorRef.current) && (paneAnchorRef.current.parentElement)) {\n                return paneAnchorRef.current.parentElement;\n            }\n            else if ((paneDivRef.current) && (paneDivRef.current.parentElement)) {\n                return paneDivRef.current.parentElement;\n            }\n            else {\n                return null;\n            }\n        }\n    };\n\n    const mouseEnterHandler = () => \n    {\n        if (env.isMobile()) return;\n        const parentElem = getParentElem();\n        if (parentElem) {\n            parentElem.classList.add(\"hover\");\n            hoverSmartState.value = true;\n            onStartHover();\n        }\n    };\n\n    const mouseDownHandler = () => \n    {\n        if (env.isMobile()) return;\n        onTouchOrMouseDown();\n        if (touchDownOnMouseDown) {\n            const parentElem = getParentElem();\n            if (parentElem) {            \n                parentElem.classList.add(\"touchdown\");\n                if (hoverOnTouchDown) parentElem.classList.add(\"hover\");\n            }    \n        }        \n    };\n\n    const mouseUpHandler = () => \n    {\n        if (env.isMobile() || !touchDownOnMouseDown) return;\n        const parentElem = getParentElem();\n        if (parentElem) {            \n            parentElem.classList.remove(\"touchdown\");\n            if (hoverOnTouchDown) parentElem.classList.remove(\"hover\");\n        }\n    };\n\n    const mouseLeaveHandler = () => \n    {\n        if (env.isMobile()) return;\n        const parentElem = getParentElem();\n        if (parentElem) {            \n            parentElem.classList.remove(\"hover\");\n            hoverSmartState.value = false;\n            onEndHover();\n        }\n    };\n\n    const activeTouches: {[identifier: string]: true} = {};\n    let inDeadZone = false;\n    let timeoutId: any = 0;\n    let startPoint: {x: number,y: number} = null;\n\n    const addTouchDown = () => \n    {\n        const parentElem = getParentElem();\n        if (parentElem) {            \n            parentElem.classList.add(\"touchdown\");\n            if (hoverOnTouchDown) parentElem.classList.add(\"hover\");\n        }\n    };\n    const removeTouchDown = () => \n    {\n        const parentElem = getParentElem();\n        if (parentElem) {            \n            parentElem.classList.remove(\"touchdown\");\n            if (hoverOnTouchDown) parentElem.classList.remove(\"hover\");\n        }\n    };\n\n    const clearTouchDown = () => \n    {\n        removeTouchDown();\n        clearTimeout(timeoutId);\n        timeoutId = 0; \n        startPoint = null;\n    };\n\n    const enterDeadZone = () => \n    {\n        if ((Object.keys(activeTouches).length>0) && (!inDeadZone))\n        {\n            clearTouchDown();\n            inDeadZone = true;\n        }\n    };\n\n    const touchStartHandler = (event: TouchEvent<HTMLDivElement>) => \n    {\n        if (env.isDesktop()) return;\n        for(let i=0;i<event.changedTouches.length;i++)\n        {\n            const touch = event.changedTouches[i];\n            const beforeTouchCount = Object.keys(activeTouches).length;\n            activeTouches[touch.identifier.toString()] = true;\n            const afterTouchCount = Object.keys(activeTouches).length;\n            if ((beforeTouchCount===0) && (afterTouchCount===1))\n            {\n                startPoint = {\n                    x: touch.screenX,\n                    y: touch.screenY\n                };\n                timeoutId = setTimeout(enterDeadZone,touchHoldTimeoutMilliseconds);                \n                addTouchDown();\n                onTouchOrMouseDown();\n            }\n            else if (afterTouchCount>1)\n            {\n                enterDeadZone();\n            }\n        }\n    };\n    const touchMoveHandler = (event: TouchEvent<HTMLDivElement>) => \n    {\n        if (env.isDesktop()) return;\n        for(let i=0;i<event.changedTouches.length;i++)\n        {\n            const touch = event.changedTouches[i];            \n            if ((Object.keys(activeTouches).length==1) && activeTouches[touch.identifier.toString()] && (!inDeadZone))\n            {\n                const dx = touch.screenX-startPoint.x;\n                const dy = touch.screenY-startPoint.y;\n                const d = Math.sqrt(dx*dx+dy*dy);\n                if (d>=touchRadius) enterDeadZone();\n            }\n        }\n    };\n    const touchEndHandler = (event: TouchEvent<HTMLDivElement>) => \n    {\n        if (env.isDesktop()) return;\n        for(let i=0;i<event.changedTouches.length;i++)\n        {\n            const touch = event.changedTouches[i];\n            const beforeTouchCount = Object.keys(activeTouches).length;\n            delete activeTouches[touch.identifier.toString()];\n            const afterTouchCount = Object.keys(activeTouches).length;\n            if ((beforeTouchCount===1) && (afterTouchCount===0)) {\n                clearTouchDown();\n                if (!inDeadZone) {\n                    _onClick();\n                }\n                inDeadZone = false;\n            }\n        }\n    };\n\n    const clickHandler = () => {\n        if (env.isDesktop()) _onClick();\n    };    \n\n    useEffect(() => \n    {\n        const parentElem = getParentElem();\n        if (parentElem) {            \n            parentElem.style[\"-webkit-tap-highlight-color\"] = \"rgba(0,0,0,0)\";\n            parentElem.style[\"-webkit-touch-callout\"] = \"none\";\n        }\n    },[]);\n\n    const props = {\n        className: [\"pane\",...(disabled?[\"disabled\"]:[]),...paneClassNames].join(\" \"),\n        ref: paneDivRef,\n        style: {\n            zIndex: zIndex,\n            left: `-${overlapLeft}rem`,\n            top: `-${overlapTop}rem`,\n            right: `-${overlapRight}rem`,\n            bottom: `-${overlapBottom}rem`,\n        },\n        onMouseDown: mouseDownHandler,\n        onMouseUp: mouseUpHandler,\n        onMouseEnter: mouseEnterHandler,\n        onMouseLeave: mouseLeaveHandler,\n        onTouchStart: touchStartHandler,\n        onTouchMove: touchMoveHandler,\n        onTouchEnd: touchEndHandler,\n        onClick: clickHandler,\n        title: hint\n    };\n    \n    return (\n        <>\n            {seoLinkUrl?<a ref={paneAnchorRef} href={seoLinkUrl} {...externalLink?{target: \"_blank\"}:{}}  onClick={(e) => { if (!externalLink) e.preventDefault(); }}><div {...props}></div></a>:<div {...props}></div>}\n            <style jsx>{`\n            .pane {\n                position: absolute;\n                cursor: pointer;\n                -webkit-tap-highlight-color: transparent;\n                -webkit-touch-callout: none;\n            }\n\n            .disabled {\n                display: none;\n            }\n            `}</style>\n        </>\n    );\n}","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nclass IconWaiter\n{\n    ready: {[name: string]: boolean} = {};\n    pending: {[name: string]: {iTag: HTMLElement,cb: () => void}} = {};\n    running = false;\n\n    start()\n    {\n        if (this.running) return;\n        const next = () => \n        {\n            const toDelete: string[] = [];\n            for(let name in this.pending)\n            {\n                const { iTag,cb } = this.pending[name];\n                if (iTag.clientHeight>0)\n                {\n                    toDelete.push(name);\n                    this.ready[name] = true;\n                    cb();\n                    if (globalThis.document) iTag.remove();\n                }\n            }\n            toDelete.forEach(name => delete this.pending[name]);\n            if (Object.keys(this.pending).length>0)\n            {\n                setTimeout(next,20);\n            }\n            else\n            {\n                this.running = false;\n            }            \n        };\n\n        this.running = true;\n        next();\n    }\n\n    waitFor(name: string,cb: () => void)\n    {\n        if (this.ready[name])\n        {\n            cb();\n        }\n        else if (!this.pending[name])\n        {\n            if (globalThis.document) \n            {\n                const iTag = document.createElement(\"i\");\n                iTag.className = `icon-${name}`;\n                iTag.style.position = \"absolute\";\n                iTag.style.visibility = \"hidden\";\n                document.body.appendChild(iTag);\n                this.pending[name] = {iTag,cb};\n\n                this.start();\n            }                        \n        }\n    }\n}\n\nconst iconWaiter = new IconWaiter();\n\n// ------------\n\ntype TIconsLoadedWrapperProps = {\n    children: JSX.Element;\n    fadeInDuration?: number;\n};\n\nclass IconsLoadedTracker\n{    \n    onReady = () => {};\n    ready = false;\n    registerCount = 0;\n    loadedCount = 0;\n\n    constructor(onReady: () => void)\n    {      \n        this.onReady = onReady;  \n    }\n\n    register()\n    {        \n        this.registerCount++;\n    }\n\n    loaded()\n    {        \n        this.loadedCount++;\n        if ((!this.ready) && (this.loadedCount===this.registerCount))\n        {\n            this.ready = true;\n            this.onReady();\n        }\n    }\n}\n\nexport const IconsLoadedContext = React.createContext<IconsLoadedTracker | undefined>(undefined);\n\nexport function IconsLoadedWrapper({children,fadeInDuration = 1.15}: TIconsLoadedWrapperProps)\n{\n    const [show,setShow] = useState(false);\n    const { current: tracker } = useRef(new IconsLoadedTracker(() => { setShow(true); }));\n\n    return (\n        <>\n            <div className={`container${show?\" show\":\"\"}`} style={{transition: `opacity ${fadeInDuration}s,visibility ${fadeInDuration}s`}}>\n                <IconsLoadedContext.Provider value={tracker}>{children}</IconsLoadedContext.Provider>\n            </div>\n            <style jsx>{`\n            .container {\n                opacity: 0;\n                visibility: hidden;\n            }\n\n            .container.show {\n                opacity: 1;\n                visibility: visible;\n            }\n            `}</style>\n        </>\n    );\n}\n\n\n// ------------\n\nexport type IconProps = {\n    name: string;\n    size?: number;\n    shiftTop?: number;\n    shiftLeft?: number;\n};\n\nexport function Icon({name,size = 30,shiftTop = 0,shiftLeft = 0}: IconProps)\n{\n    const tracker = useContext(IconsLoadedContext);\n\n    useEffect(() => \n    {\n        if (tracker) tracker.register();\n        iconWaiter.waitFor(name,() => \n        {\n            if (tracker) tracker.loaded();\n        });\n    },[]);\n    \n    return (\n        <>\n            <i className={`icon-${name}`} style={{\n                fontSize: `${size}rem`,\n                left: `${shiftLeft}rem`,\n                top: `${shiftTop}rem`\n            }}></i>\n            <style jsx>{`\n            i {\n                position: relative;\n            }\n            `}</style>\n        </>\n    );\n}","import { useEffect, useRef, useState } from \"react\";\nimport { SmartState } from \"../../hooks/use_smart_state\";\n\nlet startRouterHandler: (() => void) = null;\nlet stopRouterHandler: (() => void) = null;\n\nlet startCounter = 0;\n\nexport const routerTransition = {\n    start() {\n        if (startRouterHandler) {\n            startCounter++;\n            startRouterHandler();\n        }\n    },\n    stop()\n    {        \n        if (stopRouterHandler) stopRouterHandler();\n    },\n    async run(cb: () => Promise<void>,{ working,onCleanComplete = () => {},dontChangeWorkingOnSuccess = false,onInterrupted = () => {}}: {working?: SmartState<boolean>;onCleanComplete?: (errorMessage?: string) => void;dontChangeWorkingOnSuccess?: boolean,onInterrupted?: () => void} = {}) {\n        routerTransition.start();\n        if (working) working.value = true;\n        const savedCounter = startCounter;\n        let errorMessage: string | undefined;\n        try {\n            await cb();\n        }\n        catch(err) {\n            errorMessage = err.message;\n            if (errorMessage===\"Failed to fetch\") {\n                errorMessage = \"Unable to contact network. Make sure you have an internet connection and try again.\";\n            }\n        }        \n        if ((working) && ((!dontChangeWorkingOnSuccess) || errorMessage)) working.value = false;\n        if (savedCounter===startCounter) {\n            routerTransition.stop();     \n            setTimeout(() => {\n                onCleanComplete(errorMessage);\n            },300);            \n        }   \n        else {\n            onInterrupted();\n        }\n    }\n};\n\nexport type RouterTransitionProps = {\n    transitionDuration?: number;\n    accelerateFactor?: number;\n};\n\nexport function RouterTransition({\n    transitionDuration = 0.5,\n    accelerateFactor = 4\n}:RouterTransitionProps)\n{\n    const [running,setRunning] = useState(false);\n    const [showing,setShowing] = useState(false);\n    const [canceled,setCanceled] = useState(false);\n    const runningRef = useRef(running);\n    runningRef.current = running;\n    const showingRef = useRef(showing);\n    showingRef.current = showing;\n    const shouldChainStartRef = useRef(false);\n    \n    const [percentage,setPercentage] = useState(0);\n    const percentagePermRef = useRef(percentage);\n    percentagePermRef.current = percentage;\n    const wrapperRef = useRef<HTMLDivElement>(null);\n    const containerRef = useRef<HTMLDivElement>(null);    \n    const counterRef = useRef(0);\n    const stopCounterRef = useRef(0);\n\n    useEffect(() => {\n        (window as any).routerTransition = routerTransition;\n\n        startRouterHandler = () => {\n            const { current: running } = runningRef;\n            const { current: showing } = showingRef;\n            if (running) {\n                if (!showing) {\n                    setCanceled(true);\n                    setRunning(false);runningRef.current = false;\n                    setPercentage(0);\n                    const stopCounterSaved = stopCounterRef.current;\n                    setTimeout(() => {\n                        if (stopCounterSaved===stopCounterRef.current) routerTransition.start();\n                    },100);        \n                }\n                return;\n            }\n\n            setCanceled(false);\n            setRunning(true);runningRef.current = true;\n            setShowing(true);showingRef.current = true;\n            setPercentage(100/accelerateFactor);\n        };\n\n        stopRouterHandler = () => {\n            stopCounterRef.current++;\n            const { current: running } = runningRef;\n            if (!running) return;\n\n            setShowing(false);showingRef.current = false;\n            counterRef.current = 0;\n        };\n\n        return () => {\n            startRouterHandler = null;\n            stopRouterHandler = null;\n        };\n    },[]);\n\n    useEffect(() => \n    {\n        if ((wrapperRef.current) && (containerRef.current))\n        {\n            let wrapperTransitionCompleteHandler: (this: HTMLDivElement,ev: globalThis.TransitionEvent) => any;\n            let containerTransitionCompleteHandler: (this: HTMLDivElement,ev: globalThis.TransitionEvent) => any;\n            wrapperRef.current.addEventListener(\"transitionend\",wrapperTransitionCompleteHandler=(ev) =>\n            {\n                if ((ev.target===wrapperRef.current) && (ev.propertyName===\"opacity\")) \n                {\n                    const { current: running } = runningRef;\n                    const { current: showing } = showingRef;\n                    if ((running) && (!showing))\n                    {\n                        setRunning(false);runningRef.current = false;\n                        setPercentage(0);    \n                    }\n                }\n            });\n            containerRef.current.addEventListener(\"transitionend\",containerTransitionCompleteHandler=(ev) =>\n            {\n                if (ev.target===containerRef.current) \n                {\n                    counterRef.current++;                \n                    if (counterRef.current<100/accelerateFactor)\n                    {\n                        const { current: percentage } = percentagePermRef;\n                        setPercentage(percentage+(100-percentage)/accelerateFactor);    \n                    }    \n                }\n            });\n            return () => \n            {\n                if (wrapperRef.current) wrapperRef.current.removeEventListener(\"transitionend\",wrapperTransitionCompleteHandler);\n                if (containerRef.current) containerRef.current.removeEventListener(\"transitionend\",containerTransitionCompleteHandler);\n            };\n        }\n    },[]);\n\n    return (\n        <>\n            <div ref={wrapperRef} className={\"wrapper\"\n                +(running?\" running\":\"\")\n                +(showing?\" showing\":\"\")\n                +(canceled?\" canceled\":\"\")\n                }>\n                <div ref={containerRef} className=\"container\" style={{ transform: `translateX(${percentage}%)` }}></div>\n            </div>\n            <style jsx>{`\n            .wrapper {\n                z-index: 1000;\n                position: fixed;\n                left: -100%;\n                top: 0rem;\n                width: 100%;\n                height: 3rem;\n                opacity: 0;\n                visibility: hidden;\n                --show-duration: 1.5s;\n                transition: opacity var(--show-duration),visibility var(--show-duration);\n            }\n\n            .wrapper.showing {\n                opacity: 1;\n                visibility: visible;\n                transition: none;\n            }\n\n            html .wrapper.canceled {\n                transition: none;\n            }\n\n            .container {\n                background-color: #da904c;\n                width: 100%;\n                height: 100%;\n            }\n\n            .wrapper.running .container {\n                transition: transform ${transitionDuration}s linear;\n            }\n            `}</style>\n        </>\n    );\n}","import { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { Image } from \"../common/scaled-next-image\";\n\nexport type SquareImageProps = {\n    src: string;\n    fadeIn?: boolean;\n};\n\nexport default function SquareImage({src,fadeIn}:SquareImageProps)\n{\n    const cssStateManager = useCssStateManager([\"container\"]);\n    const show = cssStateManager.useState(false,\"show\");\n    const loadHandler = () => {\n        show.value = true;\n    };\n\n    return (\n        <>\n            <div \n                className={cssStateManager.getClassNames()} \n                style={{\n                    ...(fadeIn?{transition: \"opacity 0.9s\"}:{})\n                }}\n            >\n                <div className=\"frame\">\n                    <Image src={src} layout=\"fill\" onLoad={loadHandler}/>\n                </div>\n            </div>\n            <style jsx>{`\n            .container {\n                width: 100%;\n                position: relative;\n                padding: 50%;\n                opacity: 0;\n            }\n            .container.show {\n                opacity: 1;\n            }\n            .frame {\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;\n            }\n            `}</style>\n        </>\n    );\n}","import { useContext } from \"react\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\n\nexport type TextProps = {\n    children: React.ReactNode;\n};\n\nexport function Text({children}: TextProps)\n{\n    const { font } = useContext(LayoutStateContext);\n\n    return (\n        <>\n            <span className=\"text\" style={{\n                visibility: font.ready?\"visible\":\"hidden\",\n                opacity: font.ready?1:0\n            }}>{children}</span>\n            <style jsx>{`\n            .text {\n                --duration: 0.8s;\n                transition: visibility var(--duration),opacity var(--duration);\n            }\n            `}</style>\n        </>\n    );\n}","import { CSSProperties, useRef } from \"react\";\nimport { prebuildData } from \"../lib/prebuild-data\";\nimport { EventPane } from \"./core/event_pane\";\nimport { Icon, IconsLoadedWrapper } from \"./core/icon\";\nimport { Text } from \"./core/text\";\n\ntype TProps = {\n    name: string;\n    caption: string;\n    wholeShift?: number;\n    iconShift?: number;\n    iconText?: string;\n    iconTextShift?: number;\n    scale?: number;\n    disabled?: boolean;\n    widthPlaceholder?: number;\n    onClick?: () => void;\n    onTouchOrMouseDown?: () => void;\n    fixedWidth?: number;\n    verticalPadding?: number;\n};\n\nexport const useIconButton = (iconColor: string,textColor: string) => {\n    const IconButtonRef = useRef(function IconButton({name,caption,wholeShift,iconShift,iconText,iconTextShift,scale,disabled,widthPlaceholder,onClick,onTouchOrMouseDown,fixedWidth,verticalPadding = 0}: TProps)\n    {\n        iconShift = iconShift || 0;\n        iconTextShift = iconTextShift || 0;\n        scale = scale || 1;\n        wholeShift = wholeShift || 0;\n        disabled = disabled || false;\n        widthPlaceholder = widthPlaceholder || 0;\n    \n        const imageStyles: CSSProperties = {\n            color: iconColor\n        };\n    \n        const textStyles: CSSProperties = {\n            color: textColor\n        };\n    \n        return (\n            <>\n                <div className={`icon${disabled?\" disabled\":\"\"}`}\n                        style={{\n                            top: `${wholeShift}rem`,\n                            width: (fixedWidth!==undefined)?`${fixedWidth}rem`:\"auto\",\n                            padding: `${verticalPadding}rem 0rem`\n                        }}\n                    >\n                    {(widthPlaceholder>0)?(\n                    <div style={{height: \"0rem\",width: `${widthPlaceholder}rem`}}></div>):null}\n                    <div className=\"icon-image\" style={imageStyles}>\n                        <IconsLoadedWrapper>\n                            <Text>\n                                <Icon name={name} size={30*scale} shiftLeft={iconShift} />\n                            </Text>\n                        </IconsLoadedWrapper>                \n                    </div>\n                    {iconText?<div className=\"text\" style={{top: `${14+verticalPadding+iconTextShift}rem`,fontSize: `${12*scale}rem`}}><Text>{iconText}</Text></div>:\"\"}\n                    <div className=\"caption\" style={textStyles}>\n                        <Text>{caption}</Text>\n                    </div>      \n                    <EventPane onClick={onClick} onTouchOrMouseDown={onTouchOrMouseDown} />\n                </div>\n                <style jsx>{`\n                .icon\n                {\n                    color: var(--color-collection-menu);\n                    text-align: center;\n                    cursor: pointer;\n                    position: relative;\n                    opacity: 1;\n                    transition: opacity 0.3s,background-color var(--touch-duration);\n                }\n    \n                .icon.touchdown {\n                    background-color: rgba(255,255,255,0.07);\n                }\n    \n                .icon.disabled {\n                    color: #3d3d3d;\n                    cursor: default;\n                }\n    \n                .icon.hover {\n                    opacity: 0.85;\n                }\n    \n                .caption {\n                    font-size: 11rem;\n                    margin-top: -2rem;\n                    font-weight: 600;\n                }\n    \n                .text {\n                    position: absolute;\n                    left: 0rem;\n                    top: 0rem;\n                    width: 100%;\n                    color: black;\n                    font-weight: 600;\n                }\n                `}</style>\n            </>\n        );\n    });  \n    return IconButtonRef.current;\n};","type TProp = {\n    size: number;\n};\n\nexport default function SpacerRow({size}: TProp)\n{\n    return (\n        <div><div style={{width: `${size}rem`}}></div></div>\n    )\n}","import Image from \"next/image\";\nimport { useContext } from \"react\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\nimport { useCustomRouter } from \"../../hooks/use_custom_router\";\nimport { useImageLoadEffect } from \"../../hooks/use_image_load_effect\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\nimport { EventPane } from \"../core/event_pane\";\nimport serverRefs from \"./../../server-refs.json\";\n\ntype TProp = {\n    scale?: number;\n    size: number;\n    shift?: number;\n    centered?: boolean;\n    paddingLeft?: number;\n    paddingRight?: number;\n    paddingTop?: number;\n    paddingBottom?: number;\n};\n\nexport default function Logo({\n    scale = 1,\n    size,shift,centered,\n    paddingLeft = 0,\n    paddingRight = 0,\n    paddingTop = 0,\n    paddingBottom = 0\n    }: TProp)\n{\n    shift = shift || 0;     \n\n    const router = useCustomRouter();\n    const { scaleRemToPixel } = useContext(LayoutStateContext);\n\n    const handleClick = () => \n    {\n        router.push(\"/\",true);\n    };\n\n    const logoLoadEffect = useImageLoadEffect(0.5);\n\n    const pixelSize = scaleRemToPixel(size);\n\n    const { logo: { src: logoSrc } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className=\"container\" \n                    style={{\n                        ...(centered?{left: `calc(50% - ${size/2}rem - ${paddingLeft}rem)`,position: \"absolute\",top: \"0rem\"}:{}),\n                        paddingLeft,\n                        paddingRight,\n                        paddingTop,\n                        paddingBottom\n                    }}\n                >\n                <div className=\"holder\" style={{top: `${shift}rem`,...logoLoadEffect.wrapperStyles,transform: `scale(${scale})`}}>\n                    <Image src={prebuildData.bustCache(logoSrc)} alt=\"Logo\" width={pixelSize} height={pixelSize} onLoad={logoLoadEffect.imageLoadHandler} />\n                </div>\n                <EventPane onClick={handleClick} seoLinkUrl=\"/\" />\n            </div>   \n            <style jsx>{`\n            .container {\n                height: 100%;\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                cursor: pointer;   \n                position: relative;     \n                transition: background-color var(--touch-duration);\n            }\n\n            .container.hover {\n                opacity: 0.85;\n            }\n\n            .container.touchdown {\n                background-color: rgba(255,255,255,0.1);\n            }\n\n            .holder {\n                position: relative;\n            }\n            `}</style>\n        </>\n    );   \n}","import { CSSProperties } from \"react\";\nimport { useSmartState } from \"./use_smart_state\";\n\nexport const useImageLoadEffect = (fadeDuration = 0.3) => {\n    const loaded = useSmartState(false);\n\n    const wrapperStyles: CSSProperties = {\n        visibility: loaded.value?\"visible\":\"hidden\",\n        opacity: loaded.value?1:0,\n        transition: `opacity ${fadeDuration}s,visibility ${fadeDuration}s`\n    };\n\n    const imageLoadHandler = () => {\n        setTimeout(() => {\n            loaded.value = true;\n        },100);        \n    };\n    return {\n        wrapperStyles,\n        imageLoadHandler\n    };\n};","import Image from \"next/image\";\nimport { CSSProperties } from \"react\";\nimport { useCustomRouter } from \"../../hooks/use_custom_router\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\nimport { EventPane } from \"../core/event_pane\";\nimport { Text } from \"../core/text\";\nimport SpacerRow from \"../spacer_row\"\n\ntype TProp = {\n    aspectRatio: number;\n    iconName: string;\n    text: string;\n    url?: string;\n};\n\nexport default function PromoLine({aspectRatio,iconName,text,url}: TProp)\n{\n    const height = 23;\n    const width = height*aspectRatio;\n\n    const router = useCustomRouter();\n\n    const clickHandler = () => {\n        router.push(url);\n    };\n\n    const iconParams = {\n        \"shipping\": {\n            iconShiftX: 0,\n            iconShiftY: 0,\n            iconScale: 1,\n        },\n        \"percent\": {\n            iconShiftX: 3,\n            iconShiftY: 3,\n            iconScale: 0.8,\n        },\n        \"www\": {\n            iconShiftX: 3,\n            iconShiftY: 3,\n            iconScale: 0.7,\n        }\n    };\n\n    const { iconShiftX,iconShiftY,iconScale } = iconParams[iconName];\n\n    const iconStyles: CSSProperties = {\n        transform: `translate(${iconShiftX}rem,${iconShiftY}rem) scale(${iconScale})`\n    };\n\n    const { navbar: {  promoIconColor: iconColor,promoTextColor: textColor } } = prebuildData.getActiveTheme();\n\n    const imageStyles: CSSProperties = {\n        color: iconColor\n    };\n\n    const textStyles: CSSProperties = {\n        color: textColor\n    };\n\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"holder\">\n                    <div className=\"image\" style={imageStyles}>\n                        <i className={`icon-promo-${iconName} promo-icon`} style={iconStyles} /> \n                    </div>\n                    <SpacerRow size={8} />\n                    <div className=\"text\" style={textStyles}><Text>{text}</Text></div>\n                    {url?<EventPane hoverOnTouchDown seoLinkUrl={url} externalLink={/^https?:\\/\\//.test(url)} onClick={clickHandler} />:\"\"}\n                </div>                 \n            </div>\n            <style jsx>{`\n            .container {\n                color: #f1f2f6;\n                font-size: 16rem;\n                font-weight: 400;\n                justify-content: center;\n                position: relative;\n                top: -4rem;\n            }\n\n            .promo-icon {\n                font-size: 32rem;\n            }\n\n            @media screen and (max-width: 1300px)\n            {\n                .container {\n                    font-size: 14rem;\n                }\n            }\n\n            @media screen and (max-width: 1200px)\n            {\n                .container {\n                    font-size: 13rem;\n                }\n            }\n\n            @media screen and (max-width: 1150px)\n            {\n                .container {\n                    font-size: 12rem;\n                }\n            }\n\n            .container,.holder\n            {\n                display: flex;\n                flex-direction: row;                \n                align-items: center;                \n            }\n\n            .holder {\n                position: relative;\n                opacity: 1;\n                transition: opacity 0.3s;\n            }\n\n            .holder.hover\n            {\n                opacity: 0.85;\n            }\n\n            .image\n            {\n                position: relative;\n            }\n\n            .image i {\n                position: absolute;\n                left: -33rem;\n                top: -25rem;\n            }\n\n            .text\n            {\n                text-decoration: underline;\n            }\n            `}</style>\n        </>\n    );    \n}","import { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport PromoLine from \"./promo_line\"\n\ntype TProp = {\n    aspectRatio: number;\n    iconName: string;\n    text: string;\n    children?: JSX.Element;\n    url?: string;\n};\n\nexport default function PromoSpace({aspectRatio,iconName,text,url,children}: TProp) {\n    const sideSizePerc = 0;\n\n    const cssStateManager = useCssStateManager([\"promo-space\"]);\n\n    return (\n        <>        \n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"frame\">\n                    {children}\n                    <PromoLine {...{aspectRatio,iconName,text,url}} />\n                </div>\n            </div>\n            <style jsx>{`\n            .promo-space {\n                flex-grow: 1;\n                height: 100%;\n                position: relative;\n            }\n\n            .frame {\n                position: absolute;\n                top: 0rem;\n                height: 100%;\n                width: 100%;\n                left: 0rem;\n                padding-top: 9rem;\n                padding-bottom: 9rem;\n                display: flex;\n                flex-direction: column;\n                justify-content: space-between;\n            }\n\n            @media screen and (max-width: 1125px)\n            {\n                .frame {\n                    display: none;\n                }\n            }\n            `}</style>\n        </>\n    );    \n}","import { useContext, useEffect, useRef } from \"react\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\nimport { WindowSizeContext } from \"../../contexts/window_size\";\nimport { useSmartState } from \"../../hooks/use_smart_state\";\nimport { keypress } from \"../../lib/keypress\";\nimport { misc } from \"../../lib/misc\";\nimport { Text } from \"../core/text\";\nimport PromoSpace from \"./promo_space\"\n\ntype TProp = {\n    aspectRatio: number;\n    iconName: string;\n    text: string;\n    url?: string;\n};\n\nexport class SearchBarComm {\n    private blurDelayed = false;\n    private endBlurDelayTimeoutHandler = 0;\n    private blurWasBlocked = false;\n\n    isBlurDelayed() {\n        return this.blurDelayed;\n    }\n\n    openBlurDelay() {\n        this.blurWasBlocked = false;\n        this.blurDelayed = true;\n        this.endBlurDelayTimeoutHandler = setTimeout(() => {\n            this.endBlurDelayTimeoutHandler = 0;\n            if (this.blurWasBlocked) {\n                this.endBlurDelay();\n            }                         \n        },750) as unknown as number;\n    }\n\n    declareBlurWasBlocked() {\n        this.blurWasBlocked = true;\n    }\n\n    endBlurDelay() {\n        if (this.endBlurDelayTimeoutHandler!==0) {\n            clearTimeout(this.endBlurDelayTimeoutHandler);\n            this.endBlurDelayTimeoutHandler = 0;\n        }\n        this.blurDelayed = false;\n        this.notifyMeOnBlurDelayEnd();\n    }\n\n    blur() {\n        this.notifyMeOnBlurRequest();\n    }\n\n    notifyMeOnBlurDelayEnd() {}\n    notifyMeOnBlurRequest() {}\n    notifyMeOnArrowUpPressed() {}\n    notifyMeOnArrowDownPressed() {}\n    notifyMeOnEnterPressed() {}\n    notifyMeOnPlaceholderAnimationStart() {}\n    notifyMeOnPlaceholderAnimationEnd() {}    \n}\n\nexport default function PromoLeft({aspectRatio,iconName,text,url}: TProp)\n{\n    const searchSideSizePercentage = 12;\n\n    const inputRef = useRef<HTMLInputElement>();\n    const searchInputText = useSmartState(\"\");\n\n    const windowSize = useContext(WindowSizeContext);\n    const { searchBarOffsetLeft,scalePixelToRem,searchInputTextPointer,searchOpen,searchBarCommRef,sideCartOpenRef,openSearch } = useContext(LayoutStateContext);\n    const { current: searchBarComm } = searchBarCommRef;\n\n    // useEffect(() => {\n    //     // searchInputTextPointer.value = searchInputText;\n    //     // searchBarComm.notifyMeOnBlurDelayEnd = () => {\n    //     //     blurHandler();\n    //     // };    \n    //     // searchBarComm.notifyMeOnBlurRequest = () => {\n    //     //     if (inputRef.current) inputRef.current.blur();\n    //     // };\n\n    //     // const unregisterCtrlS = keypress.onKey(() => {\n    //     //     if ((inputRef.current) && (!sideCartOpenRef.current)) {\n    //     //         inputRef.current.focus();\n    //     //     }\n    //     // },\"s\",{ctrl: true});\n\n    //     // return () => {\n    //     //     unregisterCtrlS();\n    //     // };\n    // },[]);\n\n    useEffect(() => {\n        if (inputRef.current) {\n            searchBarOffsetLeft.value = scalePixelToRem(misc.getOffsetRelativeToParent(inputRef.current,\".page\")?.left || 0);\n        }        \n    },[windowSize.width]);\n\n    const focusHandler = () => {\n        openSearch();\n    };\n    const blurHandler = () => {\n        if (!searchBarComm.isBlurDelayed()) {\n            searchOpen.value = false;\n            searchInputText.value = \"\";\n        }\n    };\n\n    const handleInputKeyDown = (key: string,preventDefault: () => void) => {\n        if (key===\"Escape\") {\n            if (inputRef.current) inputRef.current.blur();\n        };\n        if (key===\"ArrowUp\") {\n            preventDefault();\n            searchBarComm.notifyMeOnArrowUpPressed();\n        }\n        if (key===\"ArrowDown\") {\n            preventDefault();\n            searchBarComm.notifyMeOnArrowDownPressed();\n        }\n        if (key===\"Enter\") {\n            preventDefault();\n            searchBarComm.notifyMeOnEnterPressed();\n        }\n    };\n\n    return (\n        <>\n            <PromoSpace {...{aspectRatio,iconName,text,url}}>\n                <div></div>\n            </PromoSpace>\n            <style jsx>{`\n            `}</style>\n        </>\n    );\n}","import PromoSpace from \"./promo_space\"\n\ntype TProp = {\n    aspectRatio: number;\n    iconName: string;\n    text: string;\n    url?: string;\n};\n\nexport default function PromoRight({aspectRatio,iconName,text,url}: TProp)\n{\n    return (\n        <>\n            <PromoSpace {...{aspectRatio,iconName,text,url}}>\n                <div></div>\n            </PromoSpace>\n        </>\n    );\n}","import { useRouter } from \"next/router\";\nimport { prebuildData } from \"../lib/prebuild-data\";\n\nexport const useCurrentCollection = () => {\n    let { asPath } = useRouter();\n    asPath = asPath.split(\"?\")[0];\n    const res = /^\\/collections\\/([^\\/]*)$/.exec(asPath);\n    let handle = res?res[1]:null;    \n    if (asPath===\"/pages/help\") handle = \"help\";\n    const id = handle?prebuildData.getCollectionByHandle(handle).id:null;\n    return { handle,id };\n}","import { CSSProperties } from \"react\";\n\nexport type VerticalCenterProps = {\n    children?: React.ReactElement;\n    frameStyle?: CSSProperties;\n};\n\nexport function VerticalCenter({children = null,frameStyle}: VerticalCenterProps)\n{\n    frameStyle = frameStyle || {};\n    return (\n        <>\n            <div className=\"container\"\n                    style={frameStyle}\n                >\n                    <div>\n                        {children}\n                    </div>\n                </div>\n            <style jsx>{`\n            .container {\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                height: 100%;\n            }\n            `}</style>\n        </>\n    );\n}","import { useContext, useRef } from \"react\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { useCustomRouter } from \"../../hooks/use_custom_router\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\nimport { EventPane } from \"../core/event_pane\";\nimport { Text } from \"../core/text\";\n\ntype TProp = {\n    handle: string;\n    caption: string;\n    selected: boolean;\n};\n\nexport default function MenuItem({handle,caption,selected}:TProp)\n{\n    const { mobileDetect } = useContext(LayoutStateContext);\n    const router = useCustomRouter();\n    const { mobileSmallScreenCutoff: mobileSmallWidthCutoff } = mobileDetect;\n\n    const cssStateManager = useCssStateManager([\"item\"]);\n    cssStateManager.useProperty(selected,\"selected\");\n\n    const routeRef = useRef<string>();\n    const route = routeRef.current?routeRef.current:routeRef.current = (() =>{\n        const collectionItem = prebuildData.getCollectionByHandle(handle);\n        return collectionItem.route.split(\"{handle}\").join(handle);\n    })();\n\n    const handleClick = () => router.push(route);\n\n    const { collectionMenuBar: { menuHighlightTextColor,menuTextColor } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <Text>{caption}</Text>\n                <EventPane onClick={handleClick} seoLinkUrl={route} />\n            </div>\n            <style jsx>{`\n            .item {\n                height: 100%;\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                font-size: 16.5rem;\n                font-weight: 600;\n                color: ${menuTextColor};\n                padding: 0rem 18rem;\n                cursor: pointer;\n                transition: opacity 0.3s;\n                white-space: nowrap;\n                position: relative;\n                transition: background-color var(--touch-duration);\n            }\n\n            .item.selected {\n                color: ${menuHighlightTextColor};\n            }\n\n            @media screen and (max-width: ${mobileSmallWidthCutoff}px) {\n                :global(html) .item {\n                    font-size: 15rem;\n                }\n            }\n\n            .item.hover\n            {\n                opacity: 0.75;\n            }\n\n            .item.touchdown {\n                background-color: rgba(0,0,0,0.05);\n            }\n            `}</style>\n        </>\n    )\n}","import { useRouter } from \"next/router\";\nimport { MutableRefObject, useContext, useEffect, useRef, useState } from \"react\";\nimport { DimensionsStateContext } from \"../../contexts/dimensions_state\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\nimport { useCurrentCollection } from \"../../hooks/use_current_collection\";\nimport { env } from \"../../lib/env\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\nimport { Icon } from \"../core/icon\";\nimport { VerticalCenter } from \"../core/vertical_center\";\nimport SpacerRow from \"../spacer_row\";\nimport MenuItem from \"./menu_item\";\n\nexport type MenuProps = {\n    menuItems: ({handle: string; caption: string})[];\n};\n\nexport function Menu({menuItems}:MenuProps)\n{\n    const { handle: selectedCollectionHandle } = useCurrentCollection();\n\n    const { mobileDetect } = useContext(LayoutStateContext);\n    const { mobileSmallScreenCutoff: mobileSmallWidthCutoff  } = mobileDetect;\n    const [scrolling,setScrolling] = useState(false);\n    const [scrollLeft,setScrollLeft] = useState(0);\n    const scrollLeftRef = useRef(scrollLeft);\n    scrollLeftRef.current = scrollLeft;\n    const scrollerRef = useRef<HTMLDivElement>(null);\n    const itemsRef = useRef<HTMLDivElement>(null);\n    const [showLeftScroller,setShowLeftScroller] = useState(false);\n    const [showRightScroller,setShowRightScroller] = useState(false);\n\n    const updateScrollerVisibility = () => \n    {\n        const { current: scroller } = scrollerRef;\n        const { current: items } = itemsRef;        \n        const { current: scrollLeft } = scrollLeftRef;\n        if (scroller && items)\n        {\n            const scrollMargin = Math.max(0,items.offsetWidth-scroller.offsetWidth);\n            setShowLeftScroller(scrollLeft>0);\n            setShowRightScroller(scrollLeft<scrollMargin);\n        }\n    };\n\n    const ensureDesktopScrollerLimits = () => \n    {\n        const { current: scroller } = scrollerRef;\n        const { current: items } = itemsRef;\n        const { current: scrollLeft } = scrollLeftRef;\n        \n        if (env.isDesktop() && scroller && items)\n        {\n            const scrollMargin = Math.max(0,items.offsetWidth-scroller.offsetWidth);\n            if (scrollLeft>scrollMargin)\n            {\n                setScrollLeft(scrollMargin);\n            }\n        }\n    };\n\n    useEffect(() => \n    {\n        const listener = () => \n        {\n            const { current: scroller } = scrollerRef;\n            const { current: items } = itemsRef;\n            if ((scroller) && (items))\n            {\n                setScrolling(items.offsetWidth>scroller.offsetWidth);\n                updateScrollerVisibility();\n                ensureDesktopScrollerLimits();\n            }\n        };\n        window.addEventListener(\"resize\",listener);\n        listener();\n        return () => window.removeEventListener(\"resize\",listener);\n    },[]);\n\n    const speed = 0.2; // duration per 100rem\n    const scrollDuration = 0.5;\n\n    const leftScrollerClickHandler = () => \n    {\n        const { current: scroller } = scrollerRef;\n        const { current: items } = itemsRef;\n        const { current: scrollLeft } = scrollLeftRef;\n        if (scroller && items)\n        {\n            if (scrollLeft>0)\n            {\n                const newScrollLeft = scrollLeft-Math.min(scrollLeft,scroller.offsetWidth*0.75);\n                setScrollLeft(newScrollLeft);\n                scrollLeftRef.current = newScrollLeft;\n                updateScrollerVisibility();\n            }\n        }\n    };\n\n    const rightScrollerClickHandler = () => \n    {\n        const { current: scroller } = scrollerRef;\n        const { current: items } = itemsRef;\n        const { current: scrollLeft } = scrollLeftRef;\n        if ((scroller) && (items))\n        {\n            const scrollMargin = Math.max(0,items.offsetWidth-scroller.offsetWidth);\n            if (scrollLeft<scrollMargin)\n            {\n                const newScrollLeft = scrollLeft+Math.min(scroller.offsetWidth*0.75,scrollMargin-scrollLeft);\n                setScrollLeft(newScrollLeft);\n                scrollLeftRef.current = newScrollLeft;\n                updateScrollerVisibility();\n            }\n        }\n    };\n\n    const { collectionMenuBar: { backgroundColor,bottomBorderColor } } = prebuildData.getActiveTheme();\n\n    const scrollerArrowHeight = 15;\n\n    return (\n        <>\n            <div className={`frame${scrolling?\" scrolling\":\"\"}`}>\n                <div className={`side-scroller left${(showLeftScroller && scrolling)?\" show\":\"\"}`} onClick={leftScrollerClickHandler}>\n                    <VerticalCenter frameStyle={{width: 34,alignItems: \"center\"}}>\n                        <Icon name=\"navbar-left-arrow\" size={scrollerArrowHeight} />\n                    </VerticalCenter>\n                </div>\n                <div className={`side-scroller right${(showRightScroller && scrolling)?\" show\":\"\"}`} onClick={rightScrollerClickHandler}>\n                    <VerticalCenter frameStyle={{\n                            width: 34,\n                            alignItems: \"center\",\n                        }}>\n                        <Icon name=\"navbar-right-arrow\" size={scrollerArrowHeight} />\n                    </VerticalCenter>\n                </div>\n                <div ref={scrollerRef} className=\"scroller\">\n                    <div ref={itemsRef} className=\"items\"\n                            style={{\n                                transform: `translateX(${scrolling?-scrollLeft:0}rem)`\n                            }}\n                        >\n                        <SpacerRow size={6} />\n                        {menuItems.map(({handle,caption}) => (<MenuItem key={handle} handle={handle} caption={caption} selected={selectedCollectionHandle===handle} />))}\n                        <SpacerRow size={6} />\n                    </div>\n                </div>\n            </div>\n            <style jsx>{`\n                .side-scroller {\n                    position: absolute;\n                    top: 0rem;\n                    height: 100%;\n                    width: 120rem;\n                    /* background-color: var(--color-collection-menu); */\n                    z-index: 10;\n                    color: #777;\n                    cursor: pointer;\n                    visibility: hidden;\n                    opacity: 0;\n                    --duration: 0s;\n                    transition: visibility var(--duration),opacity var(--duration);\n                }\n\n                .side-scroller.show {\n                    visibility: visible;\n                    opacity: 1;\n                }\n\n                .side-scroller.left {\n                    left: 0rem;\n                    background: linear-gradient(90deg, var(--color-collection-menu) 23%, var(--color-collection-menu-zero-alpha) 100%);\n                }\n\n                .side-scroller.right {\n                    right: 0rem;\n                    background: linear-gradient(90deg, var(--color-collection-menu-zero-alpha) 0%, var(--color-collection-menu) 77%);\n                    flex-direction: row;\n                    display: flex;\n                    justify-content: flex-end;\n                }\n\n                .side-scroller.right .icon {\n                    position: absolute;\n                    top: 0rem;\n                    right: 0rem;\n                    bottom: 0rem;\n                }\n\n                @media (hover: none) {\n                    :global(html) :global(body) .frame .side-scroller {\n                        display: none;\n                    }\n                }\n\n                .frame,.items {\n                    height: 48rem;\n                }\n\n                .frame {\n                    background-color: ${backgroundColor};\n                    border-bottom: 1rem solid ${bottomBorderColor};\n                    overflow: hidden;\n                    position: relative;\n                }\n\n                .scroller {\n                    width: 100%;                    \n                    height: calc(100% + 30rem);\n                    display: flex;\n                    flex-direction: row;\n                    justify-content: center;\n                    overflow: hidden;                    \n                }\n\n                .frame.scrolling .scroller {\n                    justify-content: flex-start;                    \n                }\n\n                @media (hover: none) {\n                    :global(html) .frame.scrolling .scroller {\n                        overflow-x: scroll;\n                    }\n                }\n\n                .items {\n                    display: flex;\n                    flex-direction: row;                    \n                }\n\n                .frame.scrolling .items {\n                    transition: transform 0.5s;\n                }\n\n                @media screen and (max-width: ${mobileSmallWidthCutoff}px)\n                {\n                    :global(html) .frame,:global(html) .items {\n                        height: 42rem;\n                    }\n                }\n            `}</style>\n        </>\n    )\n}","import { useIconButton } from \"./icon_button\";\nimport SpacerRow from \"./spacer_row\"\nimport Logo from \"./navbar/logo\"\nimport PromoLeft from \"./navbar/promo_left\"\nimport PromoRight from \"./navbar/promo_right\"\nimport { Menu } from \"./navbar/menu\"\nimport { CSSProperties, useContext, useEffect, useRef, useState } from \"react\"\nimport { GlobalStateContext } from \"../contexts/global_state\"\nimport { misc } from \"../lib/misc\"\nimport { LayoutStateContext } from \"../contexts/layout_state\"\nimport { Text } from \"./core/text\"\nimport { DimensionsStateContext } from \"../contexts/dimensions_state\"\nimport { prebuildData } from \"../lib/prebuild-data\"\nimport { useResizeObserver } from \"../hooks/use_resize_observer\"\nimport { useCssStateManager } from \"../hooks/use_css_state_manager\"\nimport { useCustomRouter } from \"../hooks/use_custom_router\"\nimport { consumeAccount } from \"../hooks/use_account\";\n\ntype Props = {\n    cartClickHandler?: () => void;\n    cartItemCount: number;\n};\n\nexport default function Navbar({cartClickHandler = () => {},cartItemCount}: Props)\n{    \n    const downFixedTopThreshold = 22;\n    const upFixedTopThreshold = 40;\n    let lastScrollTop = 0;\n\n    const router = useCustomRouter();\n\n    const globalState = useContext(GlobalStateContext);    \n    const { sideMenu,mobileDetect,searchOpen,openSearch,searchOpenType,openSmileIframe,navbarHeaderRef } = useContext(LayoutStateContext);\n    const { mobileSmallScreenCutoff: mobileSmallWidthCutoff } = mobileDetect;\n    const collectionItems = prebuildData.getCollectionItems();\n\n    const sidePaddingSpacerSize = 20;\n    const buttonSpacerSize = 22;\n    const logoSize = 75;\n\n    const menuClickHandler = () => {\n        sideMenu.setShow(true);\n    };\n\n    const isCollectionType = searchOpenType.value===\"collection\";\n    \n    const cssStateManager = useCssStateManager([\"navbar\"]);\n    cssStateManager.useProperty(searchOpen.value,\"search-open\");\n    cssStateManager.useProperty(isCollectionType,\"is-collection-type\");\n\n    const fixedIconButtonWidth = 60;\n\n    const buttonVerticalPadding = 100;\n    const logoPaddingHori = 5;\n\n    const { navbarHeight } = useContext(DimensionsStateContext);\n\n    const refNavbarOnResize = useResizeObserver(({height}) =>\n    {\n        navbarHeight.set(height);\n    });\n\n    const blockSearchClickRef = useRef(false);\n    const blockSearchClickTimeoutHandle = useRef(0);\n\n    const searchClickHandler = () => {\n        if (blockSearchClickRef.current) {\n            if (blockSearchClickTimeoutHandle.current!==0) {\n                clearTimeout(blockSearchClickTimeoutHandle.current);\n                blockSearchClickTimeoutHandle.current = 0;\n            }\n            blockSearchClickRef.current = false;\n            return;\n        }\n        if (!searchOpen.value) openSearch();\n    };\n\n    const searchTouchOrMouseDownHandler = () => {\n        if (searchOpen.value) {\n            blockSearchClickRef.current = true;\n            blockSearchClickTimeoutHandle.current = setTimeout(() => {\n                blockSearchClickRef.current = false;\n                blockSearchClickTimeoutHandle.current = 0;\n            },500) as unknown as number;\n        }\n    };\n\n    const { promo } = prebuildData.getGlobalConfig();\n\n    const rewardsClickHandler = () => {\n        alert(\"Demo: this feature is disabled.\");\n        // openSmileIframe();\n    };\n\n    const account = consumeAccount();\n\n    const loginClickHandler = () => {        \n        if (account.value) {\n            router.push(\"/account\");\n        }\n        else {\n            router.push(\"/login\");\n        }        \n    };\n\n    const headerRef = useRef<HTMLDivElement>();\n\n    useEffect(() => {\n        navbarHeaderRef.current = headerRef.current;\n    },[headerRef.current]);\n\n    const { \n        topNicotineNotice: { \n            show: showTopNicotineNotice,\n            backgroundColor: topNicotineNoticeBackgroundColor,\n            textColor: topNicotineNoticeTextColor\n        },\n        announcementBar,\n        logo: { \n            scale: logoScale \n        },\n        navbar \n    } = prebuildData.getActiveTheme();\n\n    const IconButton = useIconButton(navbar.buttonsIconColor,navbar.buttonsTextColor);\n\n    const headerStyle: CSSProperties = {\n        backgroundColor: navbar.backgroundColor\n    };    \n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()} ref={refNavbarOnResize}>\n                <div className=\"warning\" style={{display: showTopNicotineNotice?\"block\":\"none\"}}>\n                    <Text>WARNING: This products contains tobacco-free nicotine. Nicotine is an addictive chemical.</Text>\n                </div>\n                {((announcementBar) && (announcementBar.show))?(\n                    <div \n                        className=\"announcement-bar\"\n                        style={{\n                            ...(announcementBar.textColor?{color: announcementBar.textColor}:{}),\n                            ...(announcementBar.fontSize?{fontSize: `${announcementBar.fontSize}rem`}:{}),\n                            ...(announcementBar.fontWeight?{fontWeight: announcementBar.fontWeight}:{}),\n                            ...(announcementBar.padding?{padding: `${announcementBar.padding}rem`}:{}),\n                            ...(announcementBar.backgroundColor?{backgroundColor: announcementBar.backgroundColor}:{}),\n                        }}\n                    >{announcementBar.text}</div>\n                ):\"\"}\n                <div ref={headerRef} className=\"header\" style={headerStyle}>\n                    <div className=\"panel left\">                        \n                        <div className=\"left-menu-wrapper\">\n                            <IconButton \n                                name=\"navbar-menu\" \n                                caption=\"\" \n                                wholeShift={-1}\n                                verticalPadding={buttonVerticalPadding}\n                                fixedWidth={fixedIconButtonWidth+10} \n                                onClick={menuClickHandler} \n                            />\n                        </div>\n                        <div className=\"left-icons-wrapper\">\n                            <SpacerRow size={sidePaddingSpacerSize-8.375} />\n                            <IconButton \n                                name=\"navbar-account\" \n                                caption={account.value?\"Account\":\"Login\"} \n                                iconShift={3} \n                                fixedWidth={fixedIconButtonWidth}\n                                verticalPadding={buttonVerticalPadding}\n                                onClick={loginClickHandler}\n                            />                        \n                            <SpacerRow size={buttonSpacerSize-8.375-8.617} />\n                            {/*}\n                            <IconButton \n                                name=\"navbar-reorder\" \n                                caption=\"Reorder\" \n                                disabled={!globalState.session}\n                                fixedWidth={fixedIconButtonWidth}\n                                verticalPadding={buttonVerticalPadding}\n                            />\n                            <SpacerRow size={buttonSpacerSize-8.617-7.164} />\n                            {*/}\n                            <IconButton\n                                name=\"navbar-rewards\" \n                                caption=\"Rewards\" \n                                disabled={!globalState.session} \n                                fixedWidth={fixedIconButtonWidth}\n                                verticalPadding={buttonVerticalPadding}\n                                onClick={rewardsClickHandler}\n                            />\n                        </div>\n                        {promo.left?(\n                            <PromoLeft \n                                aspectRatio={1.461538462} \n                                iconName={promo.left.icon}\n                                text={promo.left.caption}\n                                url={promo.left.url}\n                            />\n                        ):\"\"}\n                    </div>\n                    <Logo scale={logoScale} size={logoSize} shift={1} centered paddingLeft={logoPaddingHori} paddingRight={logoPaddingHori} />\n                    <div className=\"panel right\">                        \n                        <div className=\"promo-right-wrapper hide-on-search-open\">\n                            {promo.right?(\n                                <PromoRight \n                                    aspectRatio={0.991902834} \n                                    iconName={promo.right.icon} \n                                    text={promo.right.caption}\n                                    url={promo.right.url}\n                                />\n                            ):\"\"}\n                        </div>\n                        <div className=\"search-button-wrapper hide-on-search-open\">\n                            <IconButton \n                                    name=\"navbar-search\" \n                                    caption=\"Search\" \n                                    disabled={!globalState.session} \n                                    fixedWidth={fixedIconButtonWidth}\n                                    verticalPadding={buttonVerticalPadding}                                \n                                    wholeShift={1}\n                                    scale={1.1} \n                                    onClick={() => searchClickHandler()}\n                                    onTouchOrMouseDown={() => searchTouchOrMouseDownHandler()}\n                                />\n                        </div>    \n                        <IconButton \n                            name=\"navbar-cart\" \n                            caption=\"Cart\" \n                            iconText={cartItemCount.toString()} scale={1.3} \n                            iconTextShift={6} \n                            wholeShift={-3} \n                            widthPlaceholder={39} \n                            fixedWidth={fixedIconButtonWidth+19}\n                            verticalPadding={buttonVerticalPadding}\n                            onClick={() => cartClickHandler()}\n                        />\n                    </div>\n                </div>\n                <Menu menuItems={collectionItems} />\n            </div>\n            <style jsx>{`\n                .warning {\n                    --height: 22rem;\n                    height: var(--height);\n                    line-height: var(--height);\n                    font-size: calc(var(--height) * 0.39);\n                    background-color: ${topNicotineNoticeBackgroundColor};\n                    color: ${topNicotineNoticeTextColor};\n                    text-align: center;\n                    font-weight: bold;\n                }\n\n                .announcement-bar {\n                    text-align: center;\n                }\n\n                .left-icons-wrapper {\n                    display: flex;\n                    flex-direction: row;\n                }\n\n                .left-menu-wrapper {\n                    display: none;\n                    flex-direction: row;\n                }\n\n                .promo-right-wrapper {\n                    flex-grow: 1;\n                    height: 100%;\n                }\n\n                .hide-on-search-open {\n                    opacity: 1;\n                    transition: opacity var(--search-open-duration);\n                }\n\n                :not(.is-collection-type).search-open .hide-on-search-open {\n                    opacity: 0;\n                }\n\n                @media screen and (max-width: ${mobileSmallWidthCutoff}px)\n                {\n                    .left-icons-wrapper {\n                        display: none;\n                    }\n\n                    .left-menu-wrapper {\n                        display: flex;\n                    }    \n\n                    .search-button-wrapper {                    \n                        display: none;\n                    }\n                }\n                    \n                .panel\n                {\n                    position: absolute;\n                    top: 0rem;\n                    width: calc(50% - ${logoSize/2}rem);\n                    height: 100%;\n                    display: flex;\n                    flex-direction: row;\n                    align-items: center;\n                }\n\n                .panel.left {\n                    left: 0rem;\n                }\n\n                .panel.right {\n                    right: 0rem;\n                }\n\n                .horizontal-flex {\n                    display: flex;\n                    flex-direction: row;\n                    align-items: center;\n                }\n\n                .navbar {\n                    width: 100%;\n                    z-index: 2;\n                    position: relative;\n                }\n\n                .header {\n                    height: 80rem;\n                    position: relative;\n                    overflow: hidden;\n                }\n\n                .side-panel\n                {\n                    flex-basis: 1;\n                }\n\n                .header .middle\n                {\n                    flex-basis: 1;\n                }\n            `}\n            </style>\n        </>\n    );\n}","import { useContext, useEffect, useRef } from \"react\";\nimport { LayoutStateContext } from \"../contexts/layout_state\";\nimport { WindowSizeContext } from \"../contexts/window_size\";\nimport { useCssStateManager } from \"../hooks/use_css_state_manager\";\nimport { useCustomRouter } from \"../hooks/use_custom_router\";\nimport { useSmartState } from \"../hooks/use_smart_state\";\nimport { prebuildData } from \"../lib/prebuild-data\";\n\nexport type FooterProps = {\n    hide: boolean;\n};\n\ntype LinksHash = {[key: string]: {url?: string,handler?: () => void}};\n\nexport default function Footer({hide}:FooterProps)\n{    \n    const cssStateManager = useCssStateManager([\"footer\"]);\n    cssStateManager.useProperty(hide,\"hide\");\n    const dealsCompact = cssStateManager.useState(false,\"deals-compact\");\n\n    const { mobileDetect,openBugReporter } = useContext(LayoutStateContext);\n\n    const router = useCustomRouter();\n\n    const { widthCutoff: mobileCutoff } = mobileDetect;\n    const windowSize = useContext(WindowSizeContext);\n\n    const columnContactsRef = useRef<HTMLDivElement>();\n\n    useEffect(() => {\n        if (columnContactsRef.current) {\n            const { current: columnContactsElem  } = columnContactsRef;\n            dealsCompact.value = (columnContactsElem.offsetWidth<330);\n        }\n    },[windowSize.width]);\n\n    const reportABugHandler = () => {\n        openBugReporter();\n    };\n\n    const quickLinks: LinksHash  = {\n        \"Home\": {url: \"/\"},\n        \"Product Registration (A2)\": {url: \"/pages/caliburn-a2-product-registration\"},\n        \"Warranty Claims (A2)\": {url: \"/pages/a2-warranty\"},\n        \"Lab Reports\": {url: \"https://drive.google.com/drive/folders/1G-Y5y1SUA5mo6Buv-6vjI6KJoi-M-ZYU?usp=sharing\"},\n        \"GCC Compliance\": {url: \"/pages/gcc-compliance\"},\n        \"Recall Notice\": {url: \"/pages/recall-notice\"},\n        \"Report a bug\": {handler: reportABugHandler},\n        \"Support\": {url: \"/pages/help\"},\n    };    \n\n    const newsText = \"We've made some recent quality-of-life changes to our checkout to improve our customer's experience.\";\n\n    const newsLinks : {[key: string]: {url: string}} = {\n        \"Vaping News\": {url: \"/blogs/vape-news\"},\n        \"Checkout Improvements\": {url: \"/blogs/vape-news/checkout-improvements\"},\n    };    \n\n    const policyLinks : {[key: string]: {url: string}} = {\n        \"Privacy Policy\": {url: \"/policies/privacy-policy\"},\n        \"Shipping Policy\": {url: \"/policies/shipping-policy\"},\n        \"Refund Policy\": {url: \"/policies/refund-policy\"},\n        \"Terms and Conditions\": {url: \"/policies/terms-of-service\"}\n    };    \n\n    const linkClickHandler = (hash: LinksHash,key: string,preventDefault: () => void) => {\n        const { url,handler } = hash[key];\n        if ((url) && (!/^https?:\\/\\//.test(url))) {\n            preventDefault();\n            router.push(hash[key].url);\n        }     \n        else if (handler) {\n            preventDefault();\n            handler();\n        }\n    };\n\n    const year = (new Date()).getFullYear();    \n\n    const { footer: { backgroundColor,boldTextColor,buttonBackgroundColor,buttonTextColor,lightTextColor,linkHoverColor,socialIconColor,socialIconHoverColor } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"columns\">\n                    <div className=\"spacer side\"></div>\n                    <div className=\"quick-links column\">\n                        <div className=\"title bold\">Quick Links</div>\n                        {Object.keys(quickLinks).map((key) => (\n                            <div key={key} className=\"link\">\n                                <a target=\"_blank\" href={quickLinks[key].url || \"#\"} onClick={(event) => linkClickHandler(quickLinks,key,event.preventDefault.bind(event))}>{key}</a>\n                            </div>\n                        ))}\n                    </div>\n                    <div className=\"spacer\"></div>\n                    <div className=\"news column\">\n                        {Object.keys(newsLinks).map((key) => (\n                            <div key={key} className=\"link bold\">\n                                <a href={newsLinks[key].url} onClick={(event) => linkClickHandler(newsLinks,key,event.preventDefault.bind(event))}>{key}</a>\n                            </div>\n                        ))}\n                        <div className=\"news-text\">{newsText}</div>\n                    </div>\n                    <div className=\"spacer\"></div>\n                    <div className=\"contacts column\" ref={columnContactsRef}>\n                        <div className=\"title bold\">Join Our Vape Deals Club</div>\n                        <div className=\"deals-form\">\n                            <form action=\"//tbdliquids.us9.list-manage.com/subscribe/post?u=d87dae29583b5c7f54ab171c5&id=4c211797d8\" method=\"post\" target=\"_blank\">\n                                <input className=\"deals-input-text\" type=\"email\" placeholder=\"Email\" name=\"EMAIL\" id=\"mail\" />\n                                <br className=\"deals-input-break\" />\n                                <input type=\"submit\" className=\"subscribe-button\" value=\"Subscribe\" name=\"subscribe\" id=\"subscribe\" />\n                            </form>                    \n                        </div>\n                        <div className=\"section\">\n                            <div className=\"title bold\">Follow Us On Social Media</div>\n                            <div className=\"social-icons\">\n                                <a title=\"Follow us on Facebook\" href=\"https://www.facebook.com/tbdliquids\" target=\"_blank\"><i className=\"icon-facebook social-icon\"></i></a>\n                                <div className=\"social-spacer\"></div>\n                                <a title=\"Follow us on Instagram\" href=\"https://www.instagram.com/tbdliquids\" target=\"_blank\"><i className=\"icon-instagram social-icon\"></i></a>\n                            </div>\n                        </div>\n                        <div className=\"section\">\n                            <div className=\"line-text\">Hours: Mon-Fri 10AM-6PM PST</div>\n                            <div className=\"line-text\">Phone: 1+800-823-0813</div>\n                        </div>\n                    </div>\n                    <div className=\"spacer side\"></div>\n                </div>\n                <div className=\"policy-menu\">\n                    {Object.keys(policyLinks).map((key,index) => (\n                        <div key={key} className=\"link bold\">\n                            {(index!==0)?<><div className=\"policy-spacer\"></div>|<div className=\"policy-spacer\"></div></>:\"\"}\n                            <a href={policyLinks[key].url} onClick={(event) => linkClickHandler(policyLinks,key,event.preventDefault.bind(event))}>{key}</a>\n                        </div>\n                    ))}\n                    <div className=\"copyright\">\n                        <div className=\"line-text\">Copyright  {year} TBD Liquids</div>\n                    </div>                    \n                </div>\n                <div className=\"cards\">\n                    <img src={prebuildData.bustCache(\"/images/footer/amex.svg\")} />\n                    <div className=\"cards-spacer\"></div>\n                    <img src={prebuildData.bustCache(\"/images/footer/discover.svg\")} />\n                    <div className=\"cards-spacer\"></div>\n                    <img src={prebuildData.bustCache(\"/images/footer/mastercard.svg\")} />\n                    <div className=\"cards-spacer\"></div>\n                    <img src={prebuildData.bustCache(\"/images/footer/visa.svg\")} />\n                </div>\n            </div>\n            <style jsx>{`\n            .footer {\n                width: 100%;\n                background-color: ${backgroundColor};\n                padding: 40rem 0rem;\n                color: ${lightTextColor};\n                height: 520rem;                \n            }\n\n            .deals-input-break {\n                display: none;\n            }\n\n            .cards {\n                display: flex;\n                justify-content: center;\n                margin-top: 22rem;\n            }\n\n            .cards img {\n                height: 30rem;\n            }\n\n            .cards-spacer {\n                flex: 0 0 20rem;\n            }\n\n            .copyright {\n                margin-top: 15rem;\n            }\n\n            .columns {\n                display: flex;\n                justify-content: space-around;\n                height: 327rem;\n            }\n\n            .deals-input-text {                \n                padding: 8rem 6rem;\n                border-radius: 4rem;\n                outline: none;\n                border: 1rem solid #ddd;\n            }\n\n            .deals-form {\n                margin-top: 15rem;\n            }\n\n            .social-spacer {\n                display: inline-block;\n                width: 15rem;\n            }\n\n            .section {\n                margin-top: 25rem;\n            }\n\n            .social-icon {\n                font-size: 24rem;\n                color: ${socialIconColor};\n                transition: color 0.3s;\n            }\n\n            .policy-menu {\n                text-align: center;\n            }\n\n            .policy-menu .link {\n                display: inline-block;\n            }\n\n            .policy-spacer {\n                display: inline-block;\n                width: 6rem;\n            }\n\n            .subscribe-button {\n                margin-left: 10rem;\n                padding: 9rem 12rem;\n                font-weight: 600;\n                background-color: ${buttonBackgroundColor};\n                color: ${buttonTextColor};\n                border: none;\n                border-radius: 4rem;\n                cursor: pointer;\n                transition: opacity 0.3s;\n            }\n\n            .subscribe-button:hover {\n                opacity: 0.8;\n            }\n\n            .bold {\n                font-weight: 600;\n                color: ${boldTextColor};\n            }\n\n            .title {\n                margin-bottom: 8rem;\n            }\n            .link {\n                margin-bottom: 5rem;\n            }\n\n            .line-text {\n                margin-bottom: 3rem;\n                font-size: 15rem;\n            }\n\n            a {\n                text-decoration: none;\n                color: ${boldTextColor};\n                transition: color 0.3s;\n                font-size: 15rem;\n            }\n\n            a:hover {\n                color: ${linkHoverColor};\n            }\n\n            a:hover .social-icon {\n                color: ${socialIconHoverColor};\n            }\n\n            .news-text {\n                margin-top: 12rem;\n                font-size: 15rem;\n                line-height: 22rem;\n            }\n\n            .hide {\n                display: none;\n            }\n\n            .column {\n                flex: 3 0;                \n            }\n\n            .column.contacts {\n                /* min-width: 330rem; */\n            }\n\n            .spacer {\n                flex: 1 0;\n            }\n\n            .spacer.side {\n                flex: 2 0;\n            }\n\n            .deals-compact .deals-input-break {\n                display: inline;\n            }\n\n            .deals-compact .subscribe-button {\n                margin-left: 0rem;\n                margin-top: 12rem;\n            }\n\n            @media screen and (max-width: ${mobileCutoff}px) {\n                .footer {\n                    height: auto;\n                }\n\n                .columns {\n                    display: block;\n                    height: auto;\n                    /* height: 327rem; */\n                }\n\n                .column {\n                    padding: 0rem 35rem;\n                }\n\n                .spacer {\n                    height: 40rem;\n                }\n\n                .spacer.side {\n                    height: 0rem;\n                }\n\n                .policy-menu {\n                    margin-top: 45rem;\n                    padding: 0rem 20rem;\n                }\n            }\n            `}</style>\n        </>\n    );\n}","import { useContext, useRef } from \"react\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { useCustomRouter } from \"../../hooks/use_custom_router\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\nimport { EventPane } from \"../core/event_pane\";\n\ntype TProp = {\n    handle: string;\n    caption: string;\n    selected: boolean;\n};\n\nexport default function MenuItem({handle,caption,selected}:TProp)\n{\n    const { page,collectionItems } = useContext(LayoutStateContext);\n    const router = useCustomRouter();\n\n    const cssStateManager = useCssStateManager([\"item\"]);\n    cssStateManager.useProperty(selected,\"selected\");\n\n    const routeRef = useRef<string>();\n    const route = routeRef.current?routeRef.current:routeRef.current = (() =>{\n        const collectionItem = prebuildData.getCollectionByHandle(handle);\n        return collectionItem.route.split(\"{handle}\").join(handle);\n    })();\n\n    const handleClick = () => router.push(route);\n\n    const { miniNavbar: { menuTextColor } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                {caption}\n                <EventPane onClick={handleClick} seoLinkUrl={route} />\n            </div>\n            <style jsx>{`\n            .item {\n                height: 100%;\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                font-size: 16.5rem;\n                font-weight: 400;\n                color: ${menuTextColor};\n                padding: 0rem 18rem;\n                cursor: pointer;\n                transition: opacity 0.3s;\n                opacity: 0.85;\n                position: relative;\n                transition: background-color var(--touch-duration);\n            }\n\n            .item.selected {\n                opacity: 1;\n            }\n\n            @media screen and (max-width: 1550px)\n            {\n                .item {\n                    font-size: 15.5rem;                                \n                }\n            }\n\n            @media screen and (max-width: 1500px)\n            {\n                .item {\n                    font-size: 14.5rem;                                \n                }\n            }\n\n            @media screen and (max-width: 1450px)\n            {\n                .item {\n                    font-size: 13.5rem;                                \n                }\n            }\n\n            @media screen and (max-width: 1370px)\n            {\n                .item {\n                    font-size: 12.5rem;                                \n                }\n            }\n\n            .item.touchdown {\n                background-color: rgba(255,255,255,0.07);\n            }\n\n            .item.hover\n            {\n                opacity: 1;\n            }\n            `}</style>\n        </>\n    )\n}","import Logo from \"./navbar/logo\";\nimport MenuItem from \"./mini_navbar/menu_item\";\nimport { useIconButton } from \"./icon_button\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { LayoutStateContext } from \"../contexts/layout_state\";\nimport { WindowSizeContext } from \"../contexts/window_size\";\nimport { DimensionsStateContext } from \"../contexts/dimensions_state\";\nimport { prebuildData } from \"../lib/prebuild-data\";\nimport { useResizeObserver } from \"../hooks/use_resize_observer\";\nimport { usePubSubSender } from \"../hooks/use_pub_sub\";\nimport { useCurrentCollection } from \"../hooks/use_current_collection\";\nimport { consumeAccount } from \"../hooks/use_account\";\nimport { useCustomRouter } from \"../hooks/use_custom_router\";\n\ntype Props = {\n    cartClickHandler?: () => void;\n    cartItemCount: number;\n};\n\nexport function MiniNavBar({cartClickHandler = () => {},cartItemCount}: Props)\n{\n    const [up,setUp] = useState(true);\n    const [pageScrollbarWidth,setPageScrollbarWidth] = useState(0);\n    const { page,sideMenu,scaleRemToPixel,pageMinWidth,mobileDetect,openSearch } = useContext(LayoutStateContext);\n    const { widthCutoff: mobileCutoff } = mobileDetect;\n    const collectionItems = prebuildData.getCollectionItems();\n    const _windowSize = useContext(WindowSizeContext);\n\n    const { miniNavbarHeight } = useContext(DimensionsStateContext);\n\n    useEffect(() => {        \n        return page.addScrollEventListener(({top}) => \n        {\n            setUp(top<scaleRemToPixel(150));\n        });\n    },[]);\n\n    const { send: sendMiniNavbarDown } = usePubSubSender<boolean>(\"mini-navbar-down\");\n\n    useEffect(() => {\n        if (up) {\n            sendMiniNavbarDown(false);\n        }\n    },[up]);\n\n    const menuClickHandler = () => {\n        sideMenu.setShow(true);\n    };\n\n    const buttonVerticalPadding = 100;\n    const mobileFixedButtonWidth = 21+20*2;\n    const desktopFixedButtonWidth = 46;\n    const logoPadding = 10;\n    const desktopIconButtonScale = 0.75;\n\n    const refOnResize = useResizeObserver(({height}) =>\n    {\n        miniNavbarHeight.set(height);\n    });\n\n    const transitionEndHandler = (propertyName: string) => {\n        if ((propertyName===\"transform\") && (!up)) {\n            sendMiniNavbarDown(true);\n        }\n    };\n\n    const searchClickHandler = () => {\n        page.scrollToTopWithCallback(() => {\n            openSearch();            \n        });\n    };\n\n    const { handle: selectedCollectionHandle } = useCurrentCollection();\n\n    const { miniNavbar: { backgroundColor,backdropFilter,iconColor } } = prebuildData.getActiveTheme();\n\n    const IconButton = useIconButton(iconColor,\"#FFF\");\n\n    const router = useCustomRouter();\n\n    const account = consumeAccount();\n\n    const loginClickHandler = () => {        \n        if (account.value) {\n            router.push(\"/account\");\n        }\n        else {\n            router.push(\"/login\");\n        }        \n    };\n\n    return (\n        <>\n            <div ref={refOnResize} className={`mini-navbar${up?\" up\":\"\"}`}\n                    style={{\n                        width: `calc(100% - ${pageScrollbarWidth}rem)`\n                    }}\n                    onTransitionEnd={(e) => transitionEndHandler(e.propertyName)}\n                >\n                <div className=\"bar desktop\">\n                    <div className=\"left-side\">\n                        <Logo \n                            size={31} \n                            shift={2}\n                            paddingLeft={logoPadding}\n                            paddingRight={logoPadding}\n                            paddingTop={logoPadding}\n                            paddingBottom={logoPadding}\n                        />\n                        <IconButton \n                            name=\"navbar-search\" \n                            scale={desktopIconButtonScale} \n                            caption=\"\" \n                            iconShift={0} \n                            wholeShift={-1}\n                            fixedWidth={desktopFixedButtonWidth}\n                            verticalPadding={buttonVerticalPadding}\n                            onClick={() => searchClickHandler()}\n                        />\n                    </div>\n                    <div className=\"right-side\">\n                        <IconButton \n                            name=\"navbar-account\" \n                            scale={desktopIconButtonScale} \n                            caption=\"\" \n                            iconShift={0} \n                            wholeShift={-1}\n                            fixedWidth={desktopFixedButtonWidth}\n                            verticalPadding={buttonVerticalPadding}\n                            onClick={() => loginClickHandler()}\n                        />\n                        <IconButton \n                            name=\"navbar-cart\" \n                            scale={desktopIconButtonScale} \n                            caption=\"\" \n                            iconText={cartItemCount.toString()} \n                            iconTextShift={-3} \n                            iconShift={0} \n                            wholeShift={-1} \n                            fixedWidth={desktopFixedButtonWidth}\n                            verticalPadding={buttonVerticalPadding}\n                            onClick={() => cartClickHandler()}\n                        />\n                    </div>\n                    {collectionItems.map(({handle,caption},index) => (<MenuItem key={handle} handle={handle} caption={caption} selected={handle===selectedCollectionHandle} />))}\n                </div>\n                <div className=\"bar mobile\">\n                    <div style={{flex: \"0 0 86rem\"}}>\n                        <IconButton \n                            name=\"navbar-menu\" \n                            scale={0.7} \n                            caption=\"\" \n                            wholeShift={-1} \n                            onClick={menuClickHandler} \n                            verticalPadding={buttonVerticalPadding}\n                            fixedWidth={mobileFixedButtonWidth}\n                        />\n                    </div>\n                    <Logo \n                        size={35} \n                        shift={2} \n                        paddingLeft={logoPadding}\n                        paddingRight={logoPadding}\n                        paddingTop={logoPadding}\n                        paddingBottom={logoPadding}\n                    />\n                    <div style={{display: \"flex\",flex: \"0 0 86rem\"}}>\n                        <IconButton \n                            name=\"navbar-search\" \n                            scale={0.75} \n                            caption=\"\" \n                            iconShift={0} \n                            wholeShift={-1} \n                            verticalPadding={buttonVerticalPadding}\n                            fixedWidth={mobileFixedButtonWidth*0.7}\n                            onClick={() => searchClickHandler()}\n                        />\n                        <IconButton \n                            name=\"navbar-cart\" \n                            scale={0.75} \n                            caption=\"\" \n                            iconText={cartItemCount.toString()} \n                            iconTextShift={-2} \n                            iconShift={0} \n                            wholeShift={-1} \n                            verticalPadding={buttonVerticalPadding}\n                            fixedWidth={mobileFixedButtonWidth*0.7}\n                            onClick={() => cartClickHandler()}\n                        />\n                    </div>\n                </div>\n            </div>\n            <style jsx>{`\n            .mini-navbar {\n                --height: 48rem;\n                position: absolute;\n                z-index: 100;\n                left: 0rem;\n                top: 0rem;\n                height: var(--height);\n                background-color: var(--color-header);\n                transform: translateY(0rem);\n                transition: transform 0.4s;\n                overflow: hidden;\n                /* min-width: ${pageMinWidth}rem; */\n            }\n\n            .bar {\n                width: 100%;\n                height: 100%;\n                display: flex;\n                flex-direction: row;\n                justify-content: center;\n                align-items: center;\n            }\n\n            .bar.desktop {\n                display: flex;\n                position: relative;\n            }\n\n            .bar.desktop .left-side,.bar.desktop .right-side {\n                position: absolute;\n                top: 0rem;\n                height: 100%;\n                display: flex;\n                flex-direction: row;\n                justify-content: center;\n                align-items: center;\n            }\n\n            .bar.desktop .left-side\n            {\n                left: 0rem;\n                width: 138rem;\n            }\n\n            .bar.desktop .right-side\n            {\n                right: 0rem;\n                width: 169rem;\n            }\n\n            .bar.mobile {\n                justify-content: space-between;\n                padding: 0rem 0rem;\n                display: none;\n            }\n\n            @media (hover: hover) {\n                .mini-navbar {\n                    background-color: ${backgroundColor};                \n                    backdrop-filter: ${backdropFilter};\n                }\n            }\n\n            .mini-navbar.up {\n                transform: translateY(calc(var(--height) * -1));\n            }\n\n            @media screen and (max-width: 1250px) {\n                .bar.desktop {\n                    display: none;\n                }    \n\n                .bar.mobile {\n                    display: flex;\n                }\n\n                .mini-navbar {\n                    min-width: 0rem;\n                    --height: 50rem;\n                }\n            }\n            `}</style>\n        </>\n    );\n}","import { prebuildData } from \"../../lib/prebuild-data\";\nimport { EventPane } from \"../core/event_pane\";\nimport { Icon } from \"../core/icon\";\n\nexport type SideMenuItemProps = {\n    caption: string;\n    iconName: string;\n    onClick?: () => void;\n};\n\nexport function SideMenuItem({caption,iconName,onClick}:SideMenuItemProps)\n{\n    const { sideMenu: { actionsIconColor,actionsTextColor } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"frame\">\n                    <div className=\"caption\">{caption}</div>\n                    <div className=\"icon\"><Icon name={iconName} size={22} /></div>\n                </div>\n                <EventPane onClick={onClick} />\n            </div>\n            <style jsx>{`\n            .container {\n                width: 100%;            \n                position: relative;    \n                cursor: pointer;\n                transition: background-color var(--touch-duration);\n            }\n\n            .container.hover {\n                background-color: rgba(0,0,0,0.035);\n            }\n\n            .container.hover .frame {\n                color: var(--color-menu-item-highlight);\n            }\n\n            .container.touchdown {\n                background-color: rgba(0,0,0,0.05);\n            }\n\n            .frame {\n                display: flex;\n                flex-direction: row;\n                justify-content: space-between;\n                align-items: center;                \n                height: var(--menu-item-height);\n                width: 100%;\n            }\n\n            .caption {\n                color: ${actionsTextColor};\n                font-size: 18rem;\n                font-weight: 600;\n                padding-left: var(--menu-item-padding-left);\n            }\n\n            .icon {\n                padding-right: 14rem;\n                color: ${actionsIconColor};\n            }\n            `}</style>\n        </>\n    );\n}","export function SideMenuSeparator()\n{\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"frame\"></div>\n            </div>\n            <style jsx>{`\n            .container {\n                width: 100%;\n            }\n\n            .frame {\n                width: 100%;\n                height: 4rem;\n                background-color: #d5dbdb;\n            }\n            `}</style>\n        </>\n    );\n}","export type SideMenuSectionTitleProps = {\n    caption: string;\n};\n\nexport function SideMenuSectionTitle({caption}:SideMenuSectionTitleProps)\n{\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"frame\">\n                    {caption}\n                </div>\n            </div>\n            <style jsx>{`\n            .container {\n                width: 100%;\n            }\n\n            .frame {\n                color: var(--color-menu-item);\n                --height: 54rem;\n                height: var(--height);\n                line-height: var(--height);\n                font-size: 18rem;\n                font-weight: 600;\n                padding-right: 16rem;\n                text-align: right;\n                width: 100%;\n            }\n            `}</style>\n        </>\n    );\n}","import { useContext, useRef } from \"react\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { useCustomRouter } from \"../../hooks/use_custom_router\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\nimport { EventPane } from \"../core/event_pane\";\n\nexport type SideMenuCollectionsMenuItemProps = {\n    handle: string;\n    caption: string;\n    selected: boolean;\n};\n\nexport function SideMenuCollectionsMenuItem({handle,caption,selected}:SideMenuCollectionsMenuItemProps)\n{\n    const { sideMenu: { setShow } } = useContext(LayoutStateContext);\n    const router = useCustomRouter();\n\n    const cssStateManager = useCssStateManager([\"side-menu-collections-menu-item\"])\n    cssStateManager.useProperty(selected,\"selected\");\n\n    const routeRef = useRef<string>();\n    const route = routeRef.current?routeRef.current:routeRef.current = (() =>{\n        const collectionItem = prebuildData.getCollectionByHandle(handle);\n        return collectionItem.route.split(\"{handle}\").join(handle);\n    })();\n\n    const itemClickHandler = () => {\n        setShow(false);\n        router.push(route);\n    };\n\n    const { sideMenu: { menuHighlightTextColor,menuTextColor } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                {caption}\n                <EventPane onClick={itemClickHandler} seoLinkUrl={route} />\n            </div>\n            <style jsx>{`\n            .side-menu-collections-menu-item {\n                color: ${menuTextColor};\n                height: var(--menu-item-height);\n                padding: var(--menu-item-padding-left);\n                text-align: right;\n                font-size: 15rem;\n                position: relative;\n                cursor: pointer;\n                transition: background-color var(--touch-duration);\n            }\n\n            .side-menu-collections-menu-item.selected {\n                color: ${menuHighlightTextColor};\n                font-weight: 600; \n            }\n\n            .side-menu-collections-menu-item.hover {\n                background-color: rgba(0,0,0,0.035);\n            }\n\n            .side-menu-collections-menu-item.touchdown {\n                background-color: rgba(0,0,0,0.05);\n            }\n            `}</style>\n        </>\n    );\n}","import { useContext, useEffect, useRef } from \"react\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\nimport { useCurrentCollection } from \"../../hooks/use_current_collection\";\nimport { useDesktopScrollbar } from \"../../hooks/use_desktop_scrollbar\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\nimport { SideMenuCollectionsMenuItem } from \"./collections_menu_item\";\n\nexport type SideMenuCollectionsMenuProps = {\n    openId: number;\n};\n\nexport function SideMenuCollectionsMenu({openId}: SideMenuCollectionsMenuProps)\n{\n    const collectionItems = prebuildData.getCollectionItems();\n\n    const { handle: selectedCollectionHandle } = useCurrentCollection();\n\n    const { ref: scrollerRef,className: scrollerClassName,styles: scrollerStyles,injectedStyles: scrollerInjectedStyles } = useDesktopScrollbar();    \n\n    useEffect(() =>\n    {\n        const { current: scrollerElem } = scrollerRef;\n        if (scrollerElem)\n        {\n            scrollerElem.scrollTop = 0;\n        }\n    },[openId]);\n\n    return (\n        <>\n            <div ref={scrollerRef} className={`container ${scrollerClassName}`} style={scrollerStyles} >\n                {collectionItems.map(({handle,caption},index) => (<SideMenuCollectionsMenuItem key={handle} handle={handle} caption={caption} selected={selectedCollectionHandle===handle} />))}\n            </div>\n            <style jsx>{scrollerInjectedStyles}</style>\n            <style jsx>{`\n            .container {\n                flex: 1 0;\n                overflow-y: auto;\n            }\n            `}</style>\n        </>\n    );\n}","import { TransitionEvent, useContext, useEffect, useRef, useState } from \"react\";\nimport { LayoutStateContext } from \"../contexts/layout_state\";\nimport { Icon } from \"./core/icon\";\nimport { SideMenuItem } from \"./side_menu/menu_item\";\nimport { SideMenuSeparator } from \"./side_menu/separator\";\nimport { SideMenuSectionTitle } from \"./side_menu/section_title\";\nimport { SideMenuCollectionsMenu } from \"./side_menu/collections_menu\";\nimport SpacerRow from \"./spacer_row\";\nimport { EventPane } from \"./core/event_pane\";\nimport { Image } from \"./common/scaled-next-image\";\nimport { misc } from \"../lib/misc\";\nimport { useCustomRouter } from \"../hooks/use_custom_router\";\nimport { prebuildData } from \"../lib/prebuild-data\";\nimport { consumeAccount } from \"../hooks/use_account\";\n\nexport type SideMenuProps = {\n};\n\nexport function SideMenu()\n{  \n    const { sideMenu: { openId,show,setShow },openSearch,page,openSmileIframe } = useContext(LayoutStateContext);\n    const showRef = useRef(show);\n    const openedRef = useRef(false);\n    showRef.current = show;\n    const awaitingSearchRef = useRef(false);\n\n    const backClickHandler = () => \n    {\n        if (openedRef.current) setShow(false);\n    };\n\n    const logoSize = 70;\n    const accountIconSize = 26;\n    const searchIconSize = 24;\n\n    const transitionEndHandler = (event: TransitionEvent<HTMLDivElement>) => \n    {\n        if (event.propertyName===\"opacity\")\n        {\n            openedRef.current = showRef.current;            \n            if ((!openedRef.current) && (awaitingSearchRef.current)) {\n                \n                // awaitingSearchRef.current = false;\n            }\n        }\n    };\n\n    const router = useCustomRouter();\n\n    const handleLogoClick = () => \n    {\n        setShow(false);\n        router.push(\"/\",true);\n    };\n\n    const searchClickHandler = () => {\n        setShow(false);    \n        page.scrollToTopWithCallback(() => {\n            openSearch();            \n        });\n    };\n\n    const rewardClickHandle = () => {\n        alert(\"Demo: this feature has been disabled\");\n        return;\n        setShow(false);\n        openSmileIframe();\n    };\n\n    const account = consumeAccount();\n\n    const accountClickHandler = () => {\n        setShow(false);\n        if (account.value) {\n            router.push(\"/account\");\n        }\n        else {\n            router.push(\"/login\");\n        }        \n    };\n\n    const { logo: { src: logoSrc },sideMenu: { topBackgroundColor,topIconColor,topTextColor } } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className={\"container\"+(show?\" show\":\"\")}>\n                <div className=\"back\" onTransitionEnd={transitionEndHandler}>\n                    <div className=\"cross\">\n                        <Icon name=\"navbar-cross\" size={20} />\n                    </div>\n                    <EventPane zIndex={0} onClick={backClickHandler} />\n                </div>\n                <div className=\"menu\">\n                    <div className=\"top\">\n                        <div className=\"logo\">\n                            <Image src={prebuildData.bustCache(logoSrc)} alt=\"Logo\" width={logoSize} height={logoSize} />\n                            <EventPane onClick={handleLogoClick} seoLinkUrl=\"/\" />\n                        </div>\n                        <div className=\"account\">\n                            <div className=\"top-icon-text\">{account.value?\"Account\":\"Login\"}</div>\n                            <SpacerRow size={7} />\n                            <div className=\"top-icon-image\">\n                                <Icon name=\"navbar-account\" size={accountIconSize} />\n                            </div>                            \n                            <EventPane onClick={accountClickHandler} />\n                        </div>\n                        <div className=\"search\">\n                            <div className=\"top-icon-image\">\n                                <Icon name=\"navbar-search\" size={searchIconSize} />\n                            </div>    \n                            <EventPane onClick={searchClickHandler} />\n                        </div>\n                    </div>\n                    <div className=\"bottom\">                        \n                        {/*}\n                        <SideMenuItem caption=\"Reorder\" iconName=\"navbar-reorder\" />\n                        {*/}\n                        <SideMenuItem caption=\"Rewards\" iconName=\"navbar-rewards\" onClick={rewardClickHandle} />\n                        <SideMenuSeparator />\n                        <SideMenuSectionTitle caption=\"Collections\" />\n                        <SideMenuCollectionsMenu openId={openId} />\n                    </div>\n                </div>\n            </div>\n            <style jsx>{`\n            .container {\n                position: fixed;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;\n                z-index: 1000;\n                visibility: hidden;\n                --duration: 0.3s;\n                --menu-item-height: 54rem;\n                --menu-item-padding-left: 16rem;\n            }\n\n            .top-icon-text {\n                color: ${topTextColor};\n            }\n\n            .top-icon-image {\n                color: ${topIconColor};\n            }\n\n            .back {\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;\n                background-color: rgba(0,0,0,.8);\n                opacity: 0;\n                visibility: hidden;                \n                transition: opacity var(--duration),visibility var(--duration),background-color var(--touch-duration);\n                cursor: pointer;\n            }\n\n            .back.touchdown {\n                background-color: rgba(0,0,0,.831);\n            }\n\n            .back .cross {\n                position: absolute;\n                right: 29rem;\n                top: 45rem;\n                color: #FFFFFF;                \n            }\n\n            .menu {\n                max-width: 400rem;\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                height: 100%;\n                width: calc(100% - 78rem);\n                background-color: white;\n                visibility: hidden;\n                transition: transform var(--duration),visibility var(--duration);\n                transform: translateX(-100%);\n                --top-height: 125rem;\n            }\n\n            .top {\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: var(--top-height);\n                background-color: ${topBackgroundColor};\n            }\n\n            .bottom {\n                position: absolute;\n                left: 0rem;\n                top: var(--top-height);\n                width: 100%;\n                bottom: 0rem;\n                background-color: var(--color-collection-menu);\n                display: flex;\n                flex-direction: column;\n            }\n\n            .logo {\n                position: absolute;\n                --edge: 16rem;\n                left: calc(var(--edge) - var(--padding-hori));\n                bottom: calc(var(--edge) - 3rem);         \n                cursor: pointer;       \n                padding-top: 5rem;\n                --padding-hori: 5rem;\n                padding-left: var(--padding-hori);\n                padding-right: var(--padding-hori);\n                transition: background-color var(--touch-duration);\n            }\n\n            .logo.hover {\n                opacity: 0.85;\n            }\n\n            .logo.touchdown {\n                background-color: rgba(255,255,255,0.1);\n            }\n\n            .account {\n                color: var(--color-collection-menu);\n                position: absolute;\n                --edge: 15rem;\n                right: 0rem;\n                top: 0rem;\n                display: flex;\n                flex-direction: row;\n                align-items: center;\n                font-size: 15rem;\n                padding: var(--edge) calc(var(--edge) + 5rem);\n                cursor: pointer;\n                transition: background-color var(--touch-duration);\n            }\n\n            .search {\n                --size: 58rem;\n                position: absolute;                \n                right: 0rem;\n                bottom: 0rem;\n                color: var(--color-collection-menu);\n                width: var(--size);\n                height: var(--size);\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n\n            .account.hover,.search.hover {\n                opacity: 0.85;\n            }\n\n            .account.touchdown,.search.touchdown {\n                background-color: rgba(255,255,255,0.07);\n            }\n\n            .container.show .back {\n                opacity: 1;\n                visibility: visible;\n            }\n\n            .container.show .menu {\n                transform: translateX(0rem);\n                visibility: visible;\n            }\n\n            `}</style>\n        </>\n    )\n}","import serverRefs from \"../../server-refs.json\";\nimport { prebuildData } from \"../prebuild-data\";\n\nexport type VerifySignatureResult = \"matches\" | \"new-snapshot\" | \"new-sale\" | \"sale-ended\";\n\nclass ApiSalesSignature {\n    async getSignature() {\n        // const baseUrl = (process.env.NODE_ENV===\"development\")?\"http://localhost:9000\":serverRefs.apis.api;\n        const baseUrl = serverRefs.apis.api;\n        let url = `${baseUrl}/get_sales_signature`;\n\n        const res = await fetch(url,{\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            }\n        });\n        const jsonRes = await res.json();\n        if (jsonRes?.type===\"error\") {\n            throw new Error(jsonRes?.errorMessage || \"Unexpected response from server\");\n        }\n        else if (jsonRes?.type===\"success\") {\n            return jsonRes.signature as string;\n        }\n        else {\n            throw new Error(\"Unexpected response from server\");\n        }\n    }\n\n    async verifySignature(): Promise<VerifySignatureResult> {\n        if (location.href.toString().startsWith(\"http://localhost:\")) return \"matches\";\n\n        const splitSignature = (signature: string) => {\n            const snapshotId = signature.split(\"-\")[0];\n            const saleName = signature.substring(snapshotId.length+1);\n            return { snapshotId,saleName };\n        };\n\n        const clientSignature = prebuildData.getSalesSignature();\n        const serverSignature = await this.getSignature();\n        if (clientSignature===serverSignature) {\n            return \"matches\";\n        }\n        else {\n            const { snapshotId: clientSnapshotId } = splitSignature(clientSignature);\n            const { snapshotId: serverSnapshotId,saleName: serverSaleName } = splitSignature(serverSignature);\n            if (clientSnapshotId!==serverSnapshotId) {\n                return \"new-snapshot\";\n            }\n            else if (serverSaleName) {\n                return \"new-sale\";\n            }\n            else {\n                return \"sale-ended\";\n            }\n        }\n    }\n}\nexport const apiSalesSignature = new ApiSalesSignature();","import { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { misc } from \"../../lib/misc\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\nimport { Image } from \"../common/scaled-next-image\";\nimport { EventPane } from \"../core/event_pane\";\n\nexport type ClearCartProps = {\n    onClear?: () => void;\n    setConfirm?: (value: boolean) => void;\n    confirm: boolean;\n};\n\nfunction Button({text,onClick = () => {}}:{text: string;onClick?: () => void}) {\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"frame\">\n                    {text}\n                    <EventPane onClick={onClick}/>\n                </div>\n            </div>\n            <style jsx>{`\n            .container {\n                display: flex;                \n                color: #FFF;\n                flex-direction: column;\n                justify-content: center;\n            }\n            .frame {\n                position: relative;\n                background-color: #333;\n                --height: 30rem;\n                height: var(--height);\n                line-height: var(--height);\n                padding: 0rem 0rem;\n                width: 46rem;\n                text-align: center;\n                border-radius: 4rem;\n                font-size: 12rem;\n                opacity: 1;\n                transition: opacity 0.3s;\n            }\n            .frame.hover {\n                opacity: 0.9;\n            }\n            `}</style>\n        </>\n    );\n}\n\nfunction Spacer({width}:{width: number}) {\n    return <div style={{width: `${width}rem`}}></div>;\n}\n\nexport default function ClearCart({onClear = () => {},setConfirm = () => {},confirm}:ClearCartProps)\n{\n    const cssStateManager = useCssStateManager([\"container\"]);\n    cssStateManager.useProperty(confirm,\"confirm\");\n\n    const binSvg = misc.createImageDimensions(242,256,15);\n\n    const clearClickHandler = () => {\n        setConfirm(true);\n    };\n\n    const yesClickHandler = () => {\n        onClear();\n    };\n\n    const noClickHandler = () => {\n        setConfirm(false);\n    };\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"clear-button\">\n                    <div className=\"clear-button-wrapper\">\n                        <div className=\"bin-wrapper\">\n                            <Image src={prebuildData.bustCache(\"/images/side_cart/bin.svg\")} width={binSvg.width} height={binSvg.height} />\n                        </div>\n                        Clear Cart\n                        <EventPane onClick={clearClickHandler} />\n                    </div>\n                </div>\n                <div className=\"confirm-form\">\n                    Clear the cart? <Spacer width={12}/><Button text=\"Yes\" onClick={yesClickHandler} /><Spacer width={8}/><Button text=\"No\" onClick={noClickHandler} />\n                </div>\n            </div>\n            <style jsx>{`\n            .container {\n                --duration: 0.3s;\n                --container-height: 44.52rem;\n                position: relative;\n                border-bottom: 1rem solid var(--line-color);                \n                font-size: 14rem;\n                color: #777;                                \n                height: var(--container-height);\n            }\n            .clear-button {\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;\n                text-align: center;\n                padding: 0rem 0rem;\n                line-height: var(--container-height);\n                opacity: 1;\n                visibility: visible;\n                transition: opacity var(--duration),visibility var(--duration);\n            }\n            .confirm .clear-button {\n                opacity: 0;\n                visibility: hidden;\n            }\n            .clear-button-wrapper {\n                position: relative;\n                width: 100%;\n                height: 100%;\n                opacity: 1;\n                transition: opacity 0.3s;\n            }\n            .clear-button-wrapper.hover {\n                opacity: 0.7;\n            }\n            .container.confirm .clear-button {\n                opacity: 0;\n            }\n            .bin-wrapper {\n                display: inline-block;\n                padding-right: 5rem;\n                position: relative;\n                top: 1.5rem;\n                opacity: 0.5;\n            }\n            .confirm-form {\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;\n                opacity: 0;\n                visibility: hidden;\n                transition: opacity var(--duration),visibility var(--duration);\n\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n            .confirm .confirm-form {\n                opacity: 1;\n                visibility: visible;\n            }\n            `}</style>\n        </>\n    );\n}","import { useRouter } from \"next/router\";\nimport { useContext, useEffect, useRef } from \"react\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\nimport { useCachedValue } from \"../../hooks/use_cached_value\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { useCustomRouter } from \"../../hooks/use_custom_router\";\nimport { useSmartState } from \"../../hooks/use_smart_state\";\nimport { misc } from \"../../lib/misc\";\nimport { cloneSimpleData } from \"../../lib/shared/options/snapshot/misc\";\nimport { prebuildData } from \"../../lib/prebuild-data\";\nimport { cart, useCart } from \"../../lib/services/cart/cart\";\nimport { CartItemDisplay } from \"../../lib/services/cart/types\";\nimport { Image } from \"../common/scaled-next-image\";\nimport { EventPane } from \"../core/event_pane\";\n\ntype Props = {\n    item: CartItemDisplay;\n    hidden?: boolean;\n    flashit?: boolean;\n    deleted: boolean;\n    updateQuantity?: (quantityDisplay: string) => void;\n    minusQuantity?: () => void;\n    plusQuantity?: () => void;\n    quantityBlur?: () => void;\n    remove?: () => void;\n    onMobile: boolean;\n    closeSideCartHandler: () => void;\n};\n\nexport default function SideCartItem({\n        item,\n        hidden = false,\n        flashit = false,\n        deleted,\n        onMobile,\n        updateQuantity = () => {},\n        minusQuantity = () => {},\n        plusQuantity = () => {},\n        quantityBlur = () => {},\n        remove = () => {},\n        closeSideCartHandler}: Props) {\n\n    const { scalePixelToRem,productPageLoadCounter } = useContext(LayoutStateContext);\n            \n    const binSvg = misc.createImageDimensions(242,256,15);\n\n    const { \n        id,\n        title,\n        price,\n        salePrice,\n        salesNotice,\n        thumbSalesNotice,\n        quantitySalesNotice,\n        quantity,\n        quantityDisplay,\n        properties,\n        imageSrc,\n        notEditable,\n        notQuantityEditable,\n        productId\n     } = item;\n    const { dollar,cents } = misc.splitPriceForDisplay(price);\n    const { dollar: spDollar,cents: spCents } = misc.splitPriceForDisplay(salePrice || 0);\n\n    const isFreeProduct = notQuantityEditable && (salePrice===0);\n\n    const onsale = (typeof salePrice===\"number\");\n    const hasSalesNotice = (typeof salesNotice===\"string\") && (salesNotice!==\"\");\n    const hasThumbSalesNotice = (typeof thumbSalesNotice===\"string\") && (thumbSalesNotice!==\"\");\n    const hasQuantitySalesNotice = (typeof quantitySalesNotice===\"string\") && (quantitySalesNotice!==\"\"); \n    \n    const reactRouter = useRouter();\n    \n    const cssStateManager = useCssStateManager([\"container\",item.id]);\n    cssStateManager.useProperty(onsale,\"onsale\");\n    cssStateManager.useProperty(hasSalesNotice,\"has-sales-notice\");\n    cssStateManager.useProperty(hasThumbSalesNotice,\"has-thumb-sales-notice\");\n    cssStateManager.useProperty(hasQuantitySalesNotice,\"hasQuantitySalesNotice\");\n    cssStateManager.useProperty(notEditable,\"not-editable\");\n    cssStateManager.useProperty(notQuantityEditable,\"not-quantity-editable\");\n    cssStateManager.useProperty(!!cart.editOrder && !item.notQuantityEditable,\"show-edit\");\n    const hiddenState = cssStateManager.useState(false,\"hidden\");\n    const thumbLoaded = cssStateManager.useState(false,\"thumb-loaded\");\n    const flashing = cssStateManager.useState(false,\"flashing\");\n    const flash = cssStateManager.useState(false,\"flash\");\n    const fadeOut = cssStateManager.useState(false,\"fade-out\");\n    const flashCountRef = useRef(0);\n    const flaskCountMax = onMobile?2:2;\n\n    const containerHeight = useSmartState(-1);\n\n    const ref = useRef<HTMLDivElement>();\n\n    const animateDeletion = () => {\n        const { current: elem } = ref;\n        if (elem) {\n            containerHeight.value = scalePixelToRem(elem.offsetHeight);\n        }\n    };\n\n    useEffect(() => {\n        if (containerHeight.value>0) {\n            setTimeout(() => {\n                containerHeight.value = 0;            \n                fadeOut.value = true;\n            },50);\n        }\n    },[containerHeight.value]);\n\n    useEffect(() => {\n        if (hidden) {\n            hiddenState.value = true;\n        }\n    },[hidden]);\n\n    useEffect(() => {\n        if (deleted) {\n            animateDeletion();\n        }\n    },[deleted]);    \n\n    useEffect(() => {\n        if (flashit) {\n            flashCountRef.current = 0;\n            flashing.value = true;\n            flash.value = true;\n        }\n    },[flashit]);    \n\n    useEffect(() => {\n        if (hiddenState.value) {\n            hiddenState.value = false;\n        }\n    },[hiddenState.value]);\n\n    const editClickHandler = () => {\n        const pageRoute = prebuildData.getProductPageRoute(productId);\n        const currentRoute = reactRouter.asPath.split(\"?\")[0];\n        cart.editCartItem = cloneSimpleData(cart.lookupItem(id));\n        closeSideCartHandler();\n        if (pageRoute!==currentRoute) {\n            router.push(pageRoute);\n        }\n        else {\n            productPageLoadCounter.value++;\n        }\n    };\n\n    const coverTransitionEndHandler = (propertyName: string) => {\n        if ((propertyName===\"opacity\") && (flashing.value)) {\n            if (flash.value) {\n                flash.value = false\n            }\n            else {\n                flashCountRef.current++;\n                if (flashCountRef.current<flaskCountMax) {\n                    flash.value = true;\n                }\n                else {\n                    flashing.value = false;\n                }\n            }\n        }\n    };\n\n    const transitionEndHandler = (target: HTMLDivElement,propertyName: string) => {\n        if ((target===ref.current) && (propertyName===\"opacity\") && (fadeOut.value)) {\n            remove();\n        }\n    };\n\n    const router = useCustomRouter();\n\n    const pageRoute = useCachedValue(() => prebuildData.getProductPageRoute(productId),productId);\n\n    const clickHandler = () => {\n        closeSideCartHandler();\n        router.push(pageRoute);\n    };\n\n    const { \n        cart: {\n            itemTitleColor,\n            itemTitleHoverColor,\n            itemPropertiesGroupTitleColor\n        }\n    } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div \n                className={cssStateManager.getClassNames()} \n                ref={ref} \n                style={{ height: (containerHeight.value!==-1)?`${containerHeight.value}rem`:\"auto\" }}\n                onTransitionEnd={(e) => transitionEndHandler(e.target as HTMLDivElement,e.propertyName)}\n            >\n                <div className=\"padding-frame\">\n                    <div className=\"frame\">\n                        <div className=\"thumbnail-column\">\n                            <div className=\"image-wrapper\">\n                                <div className=\"inner\">\n                                    <div className=\"inner-relative\">\n                                        <Image \n                                            src={prebuildData.bustCache(imageSrc)} \n                                            layout=\"fill\" \n                                            onLoadingComplete={() => {\n                                                thumbLoaded.value = true;\n                                            }}\n                                        />\n                                        <div className=\"thumb-sale-notice\">\n                                            <div className=\"thumb-sale-notice-inner\">SALE</div>\n                                        </div>\n                                    </div>\n                                </div>                     \n                                <EventPane onClick={clickHandler} parentElemRef={ref} seoLinkUrl={pageRoute} />\n                            </div>\n                            <div className=\"quantity-not-editable\">\n                                {quantity}\n                            </div>\n                            <div className=\"quantity-control\">\n                                <div className={`button left-button ${(quantity>1)?\"minusable\":\"\"}`}>\n                                    <div className=\"bin-wrapper\">\n                                        <Image \n                                            src={prebuildData.bustCache(\"/images/side_cart/bin.svg\")} \n                                            width={binSvg.width} \n                                            height={binSvg.height}                                             \n                                        />\n                                    </div>\n                                    <span></span>\n                                    <EventPane onClick={minusQuantity} />\n                                </div>\n                                <div className=\"display\">\n                                    <input \n                                        type=\"text\" \n                                        value={quantityDisplay} \n                                        onChange={({target}) => updateQuantity(target.value)} \n                                        onBlur={quantityBlur}\n                                        />\n                                </div>\n                                <div className=\"button right-button\">\n                                    <span>+</span>\n                                    <EventPane onClick={plusQuantity} />\n                                </div>\n                            </div>\n                            <div className=\"quantity-sales-notice\">\n                                {quantitySalesNotice}\n                            </div>\n                            <div className=\"edit-button-wrapper\">\n                                <div className=\"edit-button\">\n                                    Edit\n                                    <EventPane onClick={editClickHandler} />\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"thumbnail-content\">\n                            <div className=\"title\">{title}</div>\n                            {isFreeProduct?(<>\n                                <div className=\"price force-free\">                                \n                                    <span className=\"price-free\">Free</span>\n                                </div>\n                            </>):(<>\n                                <div className=\"price\">                                \n                                    {((dollar===\"0\") && (cents===\"00\"))?(\n                                        <span className=\"price-free\">Free</span>\n                                    ):(\n                                        <>\n                                            <span className=\"superscript\">$</span>\n                                            {dollar}\n                                            <span className=\"superscript\">{cents}</span>\n                                            <div className=\"cross-out\"></div>\n                                        </>\n                                    )}\n                                </div>\n                                <div className=\"price sale-price\">\n                                    <span className=\"superscript\">$</span>\n                                    {spDollar}\n                                    <span className=\"superscript\">{spCents}</span>\n                                </div>\n                            </>)}\n                            <div className=\"sale-notice\">{salesNotice}</div>\n                            <div className=\"properties\">\n                                {properties.map(({title,lines},index) => (\n                                    <div key={index} className=\"group\">\n                                        <div className=\"highlight\">{title}</div>\n                                        {lines.map((line,index) => <div key={index} className=\"normal\">{line}</div>)}\n                                    </div>\n                                ))}\n                            </div>\n                            <EventPane onClick={clickHandler} parentElemRef={ref} seoLinkUrl={pageRoute} />\n                        </div>                                        \n                    </div>\n                    <div className=\"cover\" onTransitionEnd={(e) => coverTransitionEndHandler(e.propertyName)}></div>\n                </div>                \n            </div>\n            <style jsx>{`\n            .container {\n                --duration: 0.3s;\n                --padding-vert: 5rem;\n                --padding-hori: calc(8rem + var(--extra-desktop-padding-hori));\n                /* --padding-hori: 0rem; */\n                position: relative;\n                overflow: hidden;\n                opacity: 1;\n                transition: height var(--duration),opacity var(--duration);\n            }\n            .container.touchdown {\n                background-color: rgba(0,0,0,0.015);\n            }\n            .padding-frame {\n                padding: var(--padding-vert) var(--padding-hori);\n            }\n            .container.fade-out {\n                opacity: 0;\n            }\n            .cover {\n                --duration: 1.3s;\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                right: 0rem;\n                bottom: 0rem;\n                background-color: #efefef;\n                opacity: 0;\n                visibility: hidden;\n                transition: opacity var(--duration),visibility var(--duration);\n                pointer-events: none;\n            }\n            .flashing .cover {\n                --duration: 0.36s;\n                background-color: rgba(0,0,0,0.03);\n                --border-color: #ddd;\n                --border-width: 4rem;\n                left: 0rem;\n                top: 0rem;\n                right: 0rem;\n                bottom: 0rem;\n                border-top: var(--border-width) solid var(--border-color);\n                border-bottom: var(--border-width) solid var(--border-color);\n                border-left: var(--border-width) solid var(--border-color);\n                border-right: var(--border-width) solid var(--border-color);\n            }\n\n            .flashing.flash .cover {\n                opacity: 1;\n                visibility: visible;\n            }\n\n            .frame {\n                position: relative;\n                display: flex;\n                padding: 10rem 20rem;\n            }\n            .hidden .cover {\n                opacity: 1;\n                visibility: visible;\n                transition-duration: 0s;\n            }\n            .thumbnail-column {\n                flex: 45%;\n                min-width: 105rem;\n            }\n            .image-wrapper {\n                width: 100%;\n                position: relative;\n                padding: 50%;\n                border: 1rem solid #eee;\n                opacity: 0;\n                transition: opacity 0.5s;\n            }\n            .thumb-loaded .image-wrapper {\n                opacity: 1;\n            }\n            .container.hover .image-wrapper {\n                border: 1rem solid #ddd;\n            }\n            .image-wrapper .inner {\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                height: 100%;\n                width: 100%;                \n            }\n            .image-wrapper .inner-relative {\n                position: relative;\n                width: 100%;\n                height: 100%;                \n            }\n            .quantity-control {\n                display: flex;\n                height: 31rem;\n                margin-top: 11rem;\n            }\n            .quantity-control .button {\n                height: 100%;\n                flex: 1 0;\n                background: linear-gradient(to bottom,#f7f8fa,#e7e9ec);\n                border-style: solid;\n                border-width: 1rem;\n                box-sizing: border-box;\n                border-color: #D5D9D9;\n                box-shadow: 0 2rem 5rem 0 rgba(213,217,217,.5);\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                position: relative;                \n                transition: border-color 0.2s;\n            }\n            .quantity-control .button.hover,.quantity-control .button.touchdown {\n                border-color: var(--color-light-blue);\n            }\n            .quantity-control .button span {\n                font-size: 22rem;\n                line-height: 24rem;\n                position: relative;\n                top: -2rem;\n            }\n            .quantity-control .button.left-button span {\n                display: none;\n            }\n\n            .quantity-control .button.left-button .bin-wrapper {\n                position: relative;\n                top: 1rem;                \n            }\n\n            .quantity-control .button.left-button.minusable .bin-wrapper {\n                display: none;\n            }            \n\n            .quantity-control .button.left-button.minusable span {\n                display: inline;\n            }\n            \n            .quantity-control .button.left-button {\n                border-top-left-radius: 8rem;\n                border-bottom-left-radius: 8rem;                \n            }\n            .quantity-control .button.right-button {\n                border-top-right-radius: 8rem;\n                border-bottom-right-radius: 8rem;                \n            }\n            .quantity-control .display {\n                height: 100%;\n                background-color: #fff;\n                flex: 1.3 0;\n                border-color: #D5D9D9;\n                border-top-style: solid;\n                border-width: 1rem;\n                border-bottom-style: solid;\n                box-sizing: border-box;\n                box-shadow: 0 2rem 5rem 0 rgba(213,217,217,.5);                \n            }\n            .quantity-control .display input {\n                width: 100%;\n                padding: 0;\n                height: 100%;\n                border: none;\n                text-align: center;\n                color: #007185;\n                font-size: 15rem;\n                box-sizing: border-box;\n                box-shadow: 0 1rem 3rem #0000000f inset;\n                display: inline-block;\n                line-height: 16rem;\n                outline: none;            \n            }\n            .thumbnail-content {\n                padding-left: 18rem;\n                /* max-width: 200rem; */\n                flex: 55%;\n                font-size: 16rem;            \n                position: relative;\n            }\n            .thumbnail-content .title {\n                margin-bottom: 1rem;\n                color: ${itemTitleColor};\n            }\n            .container.hover .thumbnail-content .title {\n                color: ${itemTitleHoverColor};\n            }\n            .thumbnail-content .price {\n                font-weight: 600;\n                font-size: 25rem;\n                margin-bottom: 2rem;\n                display: inline-block;                              \n                position: relative;\n            }\n            .thumbnail-content .sale-notice {\n                display: none;\n                border: 1rem solid #363636;\n                font-size: 11rem;\n                background-color: #fff;\n                padding: 1rem 5rem;\n                margin-left: 5rem;\n                vertical-align: top;\n                margin-top: 5rem;\n                color: #363636;                \n            }\n            .container.has-sales-notice .thumbnail-content .sale-notice {\n                display: inline-block;\n            }\n            .thumbnail-content .price .cross-out {\n                position: absolute;\n                left: -3rem;\n                top: 15rem;\n                width: calc(100% + 6rem);\n                height: 1rem;\n                background-color: #979797;                \n                display: none;\n            }            \n            .container.onsale .thumbnail-content .price .cross-out {\n                display: block;\n            }\n            .thumbnail-content .sale-price {\n                display: none;\n                margin-left: 6rem;\n            }\n            .container.onsale .thumbnail-content .sale-price {\n                display: inline-block;\n            }\n            .container.onsale .thumbnail-content .price:not(.sale-price):not(.force-free) {\n                color: #979797;\n            }\n            .superscript {\n                font-size: 15rem;\n                position: relative;\n                top: -7rem;                \n            }\n            .properties {\n                font-size: 14rem;\n                overflow: hidden;                \n            }\n            .properties .group {\n                margin-bottom: 5rem;                \n            }\n            .properties .highlight {\n                font-size: 12rem;\n                color: ${itemPropertiesGroupTitleColor};\n                font-weight: 600;\n                line-height: 17rem;                \n            }\n            .properties .normal {\n                font-size: 12rem;\n                line-height: 17rem;                \n            }\n            .edit-button-wrapper {\n                margin-top: 11rem;\n                display: none;\n            }\n            .show-edit .edit-button-wrapper {\n                display: block;\n            }\n            .container.not-editable .edit-button-wrapper {\n                height: 0rem;\n                overflow: hidden;\n            }\n            .edit-button {\n                width: 100%;\n                width: 100%;\n                text-align: center;\n                font-size: 13rem;\n                padding: 7rem 0rem;\n                border-radius: 5rem;\n                height: auto;\n                line-height: inherit;\n                border: 1rem solid #D5D9D9;\n                background-color: #ffffff;\n                color: #565656;\n                box-shadow: 0 2rem 5rem 0 rgb(213 217 217 / 50%);            \n                position: relative;\n                transition: border-color 0.2s;\n            }\n\n            .edit-button.hover,.edit-button.touchdown {\n                border-color: var(--color-light-blue);               \n            }\n            .thumb-sale-notice {\n                position: absolute;\n                right: 6rem;\n                top: 6rem;\n                box-shadow: 0rem 0rem 5rem 1rem rgba(255,255,255,0.75);\n                display: none;\n            }\n            .thumb-sale-notice-inner {\n                border: 1rem solid var(--color-light-blue);\n                background-color: #fff;\n                font-size: 14rem;\n                padding: 1rem 6rem;\n                color: var(--color-light-blue);\n                font-weight: 600;\n                border-radius: 0rem;                \n            }\n            .container.has-thumb-sales-notice .thumb-sale-notice {\n                display: block;\n            }\n            .quantity-sales-notice {\n                width: 100%;\n                background-color: #3e3e3e;\n                color: #fff;\n                margin-top: 7rem;\n                font-size: 11rem;\n                font-weight: 600;\n                text-align: center;\n                padding: 5rem 0rem;\n                margin-bottom: -5rem;     \n                display: none;\n            }\n            .container.has-quantity-sales-notice .quantity-sales-notice {\n                display: block;\n            }\n            .quantity-not-editable {\n                text-align: center;\n                font-size: 15rem;\n                color: #007185;\n                border: 1rem solid #D5D9D9;\n                border-radius: 8rem;\n                height: 32rem;\n                line-height: 29rem;\n                background-color: #fff;\n                display: none;\n                margin-top: 11rem;\n                margin-bottom: 0rem;            \n            }\n            .container.not-quantity-editable .quantity-not-editable {\n                display: block;\n            }\n            .container.not-quantity-editable .quantity-control {\n                display: none;\n            }\n            .price-free {\n                font-size: 18rem;\n            }\n            `}</style>\n        </>\n    );\n}","import { CSSProperties, useContext, useEffect, useRef } from \"react\";\nimport { LayoutStateContext } from \"../../contexts/layout_state\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { useResizeObserver } from \"../../hooks/use_resize_observer\";\nimport { SmartState, useSmartState } from \"../../hooks/use_smart_state\";\nimport { DiscountBreakdown, prebuildData } from \"../../lib/prebuild-data\";\nimport PriceDisplay from \"../common/price-display\";\nimport { EventPane } from \"../core/event_pane\";\n\ntype ComponentEntryProps = {\n    caption: string;\n    fromQuantity: number;\n    discount: number;\n    isLast?: boolean;\n};\n\nfunction ComponentEntry({caption,fromQuantity,discount,isLast = false}:ComponentEntryProps)\n{\n    const cssStateManager = useCssStateManager([\"component-entry\"]);\n    cssStateManager.useProperty(!isLast,\"is-not-last\");\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"caption\">{caption}</div>\n                <div className=\"info\">\n                    <div className=\"items\">{fromQuantity} item{(fromQuantity!==1)?\"s\":\"\"}</div>\n                    <div className=\"price\"><span className=\"saved\">saved</span><PriceDisplay price={discount} size={18} /></div>\n                </div>\n            </div>\n            <style jsx>{`\n            .component-entry {                \n                font-size: 14rem;\n            }\n\n            .caption {\n                margin-bottom: 3rem;\n                color: #555;\n            }\n\n            .info {\n                display: flex;\n                justify-content: space-between;\n                align-items: end;\n                padding-left: 10rem;                \n            }\n\n            .items {\n                color: #777;\n            }\n\n            .price {\n                color: #666;\n            }\n\n            .is-not-last {\n                margin-bottom: 15rem;\n            }\n\n            .saved {\n                border: 1rem solid #aaa;\n                border-radius: 10rem;\n                font-size: 10rem;\n                padding: 2rem 7rem;\n                position: relative;\n                top: 5rem;\n                left: -7rem;\n                color: #777;\n            }\n            `}</style>\n        </>\n    );\n}\n\n\nexport type SalesBreakdownProps = {\n    discountBreakdown: DiscountBreakdown;\n    open: boolean;\n    onClose?: () => void;\n};\n\nexport default function SalesBreakdown({discountBreakdown,open,onClose = () => {}}:SalesBreakdownProps) {\n    const refOuter = useRef<HTMLDivElement>();\n    const innerRef = useResizeObserver(() => {\n        if (height.value>0) {\n            if (innerRef.current) {\n                const { current: innerElem } = innerRef;\n                height.value = scalePixelToRem(innerElem.offsetHeight);\n            }\n        }\n    });\n    const cssStateManager = useCssStateManager([\"sales-breakdown\"]);\n    const openRef = useRef(open);\n    openRef.current = open;\n    \n    const { scalePixelToRem } = useContext(LayoutStateContext);\n    \n    const { sales,salesComponents } = prebuildData.getGlobalConfig();\n\n    const height = useSmartState(0);\n\n    const styles: CSSProperties = {\n        height: (height.value===-1)?\"auto\":`${height.value}rem`\n    };\n    \n\n    const activeSale = sales.filter(({name}) => name===prebuildData.salesName)[0];\n    \n    const components = activeSale.components.filter((name) => !!discountBreakdown[name]).map((name) => salesComponents.filter(({name: _name}) => _name===name)[0]);\n\n    useEffect(() => {\n        if (open) {\n            if (innerRef.current) {\n                const { current: innerElem } = innerRef;\n                height.value = scalePixelToRem(innerElem.offsetHeight);\n            }\n        }\n        else {\n            height.value = 0;\n        }\n    },[open]);\n\n    // const closeHandler = () => {\n    //     open.value = false;\n    // };\n\n    return (\n        <>\n            <div ref={refOuter} className={cssStateManager.getClassNames()} style={styles}>\n                <div className=\"inner\" ref={innerRef}>\n                    {components.map(({name,caption},index) => <ComponentEntry key={index} {...{\n                            caption,\n                            fromQuantity: discountBreakdown[name].fromQuantity,\n                            discount: discountBreakdown[name].discount,\n                            isLast: index===components.length-1\n                        }} />)}\n                    <div className=\"close\">\n                        <span className=\"icon-navbar-left-arrow icon\" />\n                    </div>\n                    <EventPane onClick={onClose} />\n                </div>    \n            </div>\n            <style jsx>{`\n            .sales-breakdown {\n                /* height: 0rem; */\n                overflow: hidden;\n                transition: height 0.5s;\n            }\n\n            .inner {\n                padding: 20rem 20rem;\n                padding-bottom: 35rem;\n                /* height: 100rem; */\n                background-color: rgba(0,0,0,0.05);\n                /* background-color: white; */\n                --border-color: #ccc;\n                border-top: 1rem solid var(--border-color);\n                border-bottom: 1rem solid var(--border-color);\n                box-shadow: 0 1rem 5rem#0000000f inset;          \n                position: relative;      \n            }\n            \n            .close {\n                position: absolute;\n                --width: 50rem;\n                width: var(--width);\n                height: 40rem;\n                bottom: 0rem;\n                left: calc(50% - (var(--width) / 2));\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                color: #aaa;\n            }\n            .close .icon {\n                transform: scaleX(1.4) rotate(90deg);\n                display: inline-block;\n            }\n            `}</style>\n        </>\n    );\n}","import { HTMLAttributes, useContext, useEffect, useRef, useState } from \"react\";\nimport { LayoutStateContext } from \"../contexts/layout_state\";\nimport { consumeBoughtTogetherClient } from \"../hooks/use_bought_together_client\";\nimport { useCssStateManager } from \"../hooks/use_css_state_manager\";\nimport { useDesktopScrollbar } from \"../hooks/use_desktop_scrollbar\";\nimport { SmartState, useSmartState } from \"../hooks/use_smart_state\";\nimport { apiEditOrder } from \"../lib/api/editorder\";\nimport { apiSalesSignature } from \"../lib/api/sales_signature\";\nimport { misc } from \"../lib/misc\";\nimport { prebuildData } from \"../lib/prebuild-data\";\nimport { cart, genPackslipAttributeString, infoAttributesToDisplayString, useCart } from \"../lib/services/cart/cart\";\nimport { trackTouchMoveDelta } from \"../lib/touch_move_tracker\";\nimport BackToTop from \"./common/back_to_top\";\nimport CenteredSpinner from \"./common/centered-spinner\";\nimport PriceDisplay from \"./common/price-display\";\nimport { Image } from \"./common/scaled-next-image\";\nimport { EventPane } from \"./core/event_pane\";\nimport { Icon } from \"./core/icon\";\nimport { PriceSavedDisplay } from \"./pages/product/price-update\";\nimport AlsoBought from \"./side_cart/also_bought/also_bought\";\nimport ClearCart from \"./side_cart/clear_cart\";\nimport SideCartItem from \"./side_cart/item\";\nimport SalesBreakdown from \"./side_cart/sales_breakdown\";\nimport { consumeAccount } from \"../hooks/use_account\";\nimport { miscShared } from \"../lib/shared/lib/misc\";\nimport { lstore } from \"../lib/localstorage\";\n\ntype Props = {\n    open: boolean;\n    closeHandler?: () => void;\n    cartController: ReturnType<typeof useCart>;\n    onMobile: boolean;\n    creatingCheckoutOpen: SmartState<boolean>;\n    highlightIds?: string[];\n    flashIds?: string[];\n};\n\nexport default function SideCart({open,closeHandler = () => {},cartController,onMobile,creatingCheckoutOpen,highlightIds = [],flashIds = []}: Props) {            \n\n    const { creatingCheckoutCaptionRef,openSalesNotice } = useContext(LayoutStateContext);\n    const emptyCartSvg = misc.createImageDimensions(256,240,110);\n    const scrollToTopSvg = misc.createImageDimensions(266,320,20);\n    const editNoteSvg = misc.createImageDimensions(256,255,20);\n\n    const account = consumeAccount();\n\n    const cssStateManager = useCssStateManager([\"container\"]);\n    cssStateManager.useProperty(open,\"open\");    \n    cssStateManager.useProperty(onMobile,\"mobile\");  \n    cssStateManager.useProperty(!!cart.editOrder,\"is-editing\");  \n    cssStateManager.useProperty(cart.editOrder?.orderType===\"draft\",\"is-editing-draft\");  \n    const salesInfoOpen = cssStateManager.useState(false,\"sales-info-open\");\n    const saveDisabled = cssStateManager.useState(false,\"save-disabled\");\n\n    const showSubtotalToast = cssStateManager.useState(false,\"show-subtotal-toast\",{timedMilliseconds: 4000});\n    const showNoteSavedToast = cssStateManager.useState(false,\"show-notesaved-toast\",{timedMilliseconds: 3000});    \n    const forceHideToasts = cssStateManager.useState(false,\"force-hide-toasts\");    \n    const showScrollToTop = cssStateManager.useState(false,\"show-scroll-to-top\");\n    const isCheckoutSticky = cssStateManager.useState(false,\"is-checkout-sticky\");    \n    const noteOpened = cssStateManager.useState(false,\"note-opened\");        \n    const mobileHideScrollbar = cssStateManager.useState(true,\"mobile-hide-scrollbar\");        \n\n    const confirmClearCart = useSmartState(false);\n\n    const clearSalesInfo = () => {\n        salesInfoOpen.value = false;\n    };\n\n    const clearConfirmClearCart = () => {\n        confirmClearCart.value = false;\n    };\n\n    const clearConfirmClearCartAndSalesInfo = () => {\n        clearConfirmClearCart();\n        clearSalesInfo();\n        return true;\n    };\n\n    const mobileCloseMechanism = {        \n        openTopGap: 240, \n        closedtopGap: 0,\n        initialVisibleTopGap: 60,        \n        closeThreshold: 10\n    };\n\n    mobileCloseMechanism.closedtopGap = mobileCloseMechanism.openTopGap-mobileCloseMechanism.initialVisibleTopGap;\n\n    const { \n        items,\n        version,\n        note,\n        updateItemQuantity,\n        minusItemQuantity,\n        plusItemQuantity,\n        removeItem,\n        itemQuantityBlur,\n        getItemCount,\n        clearCart,\n        getNonDeletedRealItemCount,\n        getSubtotal,\n        getUndiscountedSubtotal,\n        updateNote,\n        checkout,\n        getCheckoutData } = cartController;\n\n    const itemsWrapperHeight = useSmartState(-1);\n    const clearingCartRef = useRef(false);\n    const clearingCart = useSmartState(false);\n\n    const finalizeClearCartAnimation = () => {\n        clearingCart.value = true;\n    };\n\n    const startClearCartAnimation = () => {\n        if (getScrollTop()>0) {\n            clearingCartRef.current = true;\n            scrollerRef.current?.scrollTo({top: 0,behavior: \"smooth\"});\n        }\n        else {\n            finalizeClearCartAnimation();\n        }        \n    };\n\n    const editPriceDifference = useSmartState(0);\n    const editNotifyCustomer = useSmartState(true);\n\n    useEffect(() => {        \n        if (cart.editOrder) {            \n            saveDisabled.value = (cart.items.length===0) || !cart.itemsDifferFromEditOrder();\n            editPriceDifference.value = getSubtotal().subTotal-cart.editOrder.priceCents;            \n        }\n    },[version]);\n\n    useEffect(() => {\n        if (itemsWrapperHeight.value>0) {\n            setTimeout(() => {\n                itemsWrapperHeight.value = 0;\n            },20);\n        }\n    },[itemsWrapperHeight.value]);\n\n    const itemsRef = useRef<HTMLDivElement>();\n\n    const itemsTransitionEndHandler = (target: HTMLDivElement,propertyName: string) => {\n        if ((target===itemsRef.current) && (propertyName===\"opacity\") && (clearingCart.value)) {\n            clearCart();\n            clearingCart.value = false;\n        }\n    };\n\n    // cssStateManager.useProperty(itemsWrapperHeight.value===0,\"items-wrapper-fade-out\");\n\n    // const itemCount = (itemsWrapperHeight.value===0)?0:getItemCount();\n    // const nonDeletedRealItemCount = (itemsWrapperHeight.value===0)?0:getNonDeletedRealItemCount();\n    // const subTotal = (itemsWrapperHeight.value===0)?0:getSubtotal().subTotal;\n\n    const itemCount = (clearingCart.value)?0:getItemCount();\n    const nonDeletedRealItemCount = (clearingCart.value)?0:getNonDeletedRealItemCount();\n    const subTotalRes = getSubtotal();\n    const subTotal = (clearingCart.value)?0:subTotalRes.subTotal;\n    const { discountBreakdown } = subTotalRes;\n    const undiscountedSubTotal = (clearingCart.value)?0:getUndiscountedSubtotal();\n    \n    cssStateManager.useProperty(nonDeletedRealItemCount>0,\"cart-has-items\");    \n    cssStateManager.useProperty(nonDeletedRealItemCount>=2,\"at-least-two-real-items\");\n    const lastKnownSubTotalRef = useRef(subTotal);\n    const sliderRef = useRef<HTMLDivElement>();\n    const { ref: scrollerRef,styles: sliderInnerStyles,className: sliderInnerClassName,injectedStyles: sliderInnerInjectedStyles } = useDesktopScrollbar();\n    const checkoutWrapperRef = useRef<HTMLDivElement>();\n    const { ref: noteTextAreaRef,className: noteTextClassName,styles: noteTextStyles,injectedStyles: noteTextInjectedStyles } = useDesktopScrollbar<HTMLTextAreaElement>();\n    const noteBoxRealOpenedRef = useRef(false);\n    const mobileTopGapRef = useRef<HTMLDivElement>();\n\n    const checkoutClickHandler = async () => {\n        alert(\"Demo: this feature has been disabled\");\n        return;\n        if (!lstore.get(\"bypass-checkout-block\")?.set) {\n            alert(\"Checkout on the beta site is currently disabled - we are working on some crucial bug fixes. Please visit www.tbdliquids.com to use the live site.\");\n            return;    \n        }\n        \n        if (!backIsReadyRef.current) return;\n        creatingCheckoutOpen.value = true;\n        closeHandler();\n        const timestamp = (new Date()).getTime();\n        const signatureState = await apiSalesSignature.verifySignature()\n        if (signatureState===\"matches\") {\n            const url = await checkout();\n            cart.accountShopifyIntegrationStore(url,account.value);\n            const timespan = (new Date()).getTime()-timestamp;\n            const atLeast = 400;\n            // console.log(\"url\",url);\n            setTimeout(() => {\n                if (url) {\n                    window.location.href = url;\n                }\n                else {\n                    console.log(\"error occurred\");\n                    alert(\"An error occurred while attempting to checkout - make sure you are connected to the internet, refresh the page and try again.\");\n                }    \n            },Math.max(0,atLeast-timespan));    \n        }\n        else {\n            const ending = \"Note that the contents/subtotal of your cart may or may not have changed, so please make sure to review them before checking out again. To proceed click the 'Continue' button below.\";\n            const messageTable = {\n                \"new-snapshot\": `A new version of our website is available - it must be reloaded before you can checkout. ${ending}`,\n                \"new-sale\": `A new sale has gone live while you were shopping! The page must be reloaded before you can checkout. ${ending}`,\n                \"sale-ended\": `Unfortunately the current sale ended while you were shopping. The page must be reloaded before you can checkout. ${ending}`,\n            };  \n            openSalesNotice(messageTable[signatureState],true);\n        }\n    };    \n\n    const isTouchAvailable = () => ((\"ontouchstart\" in window) || (navigator.maxTouchPoints>0) || ((navigator as any).msMaxTouchPoints>0));\n\n    const checkoutDisabled = (itemCount===0);\n    const { dollar,cents } = misc.splitPriceForDisplay(subTotal);\n    const { dollar: udollar,cents: ucents } = misc.splitPriceForDisplay(undiscountedSubTotal);    \n\n    const subtotalToastScrollThreshold = 47;\n    const scrollToTopScrollThreshold = 300;\n\n    const getScrollTop = () => (scrollerRef.current)?scrollerRef.current.scrollTop:0;    \n    const setScrollTop = (value: number) => {\n        if (scrollerRef.current) {\n            scrollerRef.current.scrollTop = value;\n        }\n    }    \n    const scrollToTop = () => {\n        if (scrollerRef.current) {\n            scrollerRef.current.scrollTo({top: 0,behavior: \"smooth\"});\n        }\n    };\n\n    const mobileTopGapOpenedRef = useRef(false);\n\n    const mobileScrollbarJumpingRef = useRef(false);\n\n    const openMobileTopGap = () => {\n        const { current: mobileTopGap } = mobileTopGapRef;\n        const { current: scroller } = scrollerRef;\n        if ((!mobileTopGapOpenedRef.current) &&  (mobileTopGap) && (scroller)) {\n            mobileTopGapOpenedRef.current = true;\n            mobileHideScrollbar.value = true;\n            mobileScrollbarJumpingRef.current = true;\n            setTimeout(() => {\n                mobileScrollbarJumpingRef.current = false;\n            },50);\n            const scrollTopBefore = scroller.scrollTop;\n            mobileTopGap.style.height = `${mobileCloseMechanism.openTopGap}rem`;\n            scroller.scrollTop = scrollTopBefore+mobileCloseMechanism.closedtopGap;\n        }\n    };\n\n    const closeMobileTopGap = () => {\n        const { current: mobileTopGap } = mobileTopGapRef;\n        const { current: scroller } = scrollerRef;\n        if ((mobileTopGapOpenedRef.current) &&  (mobileTopGap) && (scroller)) {\n            mobileTopGapOpenedRef.current = false;\n            mobileHideScrollbar.value = true;\n            mobileScrollbarJumpingRef.current = true;\n            setTimeout(() => {\n                mobileScrollbarJumpingRef.current = false;\n            },50);\n            const scrollTopBefore = scroller.scrollTop;\n            mobileTopGap.style.height = `${mobileCloseMechanism.initialVisibleTopGap}rem`;\n            scroller.scrollTop = scrollTopBefore-(mobileCloseMechanism.closedtopGap);            \n        }\n    };\n\n    useEffect(() => {\n        if (lastKnownSubTotalRef.current!==subTotal) {\n            if (getScrollTop()>=subtotalToastScrollThreshold) {\n                showSubtotalToast.value = true;\n                showNoteSavedToast.value = false;\n            }\n        }\n        lastKnownSubTotalRef.current = subTotal;\n    },[subTotal]);\n\n    useEffect(() => {\n        if (open) {                    \n            hideAllToasts();\n            if (onMobile) {\n                if (isTouchAvailable()) {                    \n                    closeMobileTopGap();\n                    // setScrollTop(0);                    \n                    if ((flashIds.length===1) && (highlightIds.length===0)) {\n                        const flashId = flashIds[0];\n                        if (sliderRef.current) {                            \n                            const itemElem = sliderRef.current.querySelector(`.${flashId}`) as HTMLDivElement;\n                            if (itemElem) {\n                                const isFirst = cart.items[0].uuid===flashId;\n                                const midPoint = itemElem.offsetTop+(itemElem.offsetHeight/2);\n                                const delta = midPoint-(sliderRef.current.offsetHeight/2);\n                                setScrollTop(isFirst?0:delta);\n                            }\n                        }\n                    }\n                    else {\n                        setScrollTop(0);\n                    }                    \n                }\n                else {\n                    openMobileTopGap();\n                    setScrollTop(mobileCloseMechanism.closedtopGap);\n                }\n                document.body.classList.add(\"disable-pull-to-refresh\");\n            }\n            else {\n                if ((flashIds.length===1) && (highlightIds.length===0)) {\n                    const flashId = flashIds[0];\n                    if (sliderRef.current) {\n                        const itemElem = sliderRef.current.querySelector(`.${flashId}`) as HTMLDivElement;\n                        if (itemElem) {\n                            const midPoint = itemElem.offsetTop+(itemElem.offsetHeight/2);\n                            const delta = midPoint-(sliderRef.current.offsetHeight/2);\n                            setScrollTop(delta);\n                        }\n                    }\n                }\n                else {\n                    setScrollTop(0);\n                }                \n            }            \n        }\n        else {\n            clearConfirmClearCartAndSalesInfo();\n            if (onMobile) {\n                document.body.classList.remove(\"disable-pull-to-refresh\");\n            }            \n        }\n    },[open]);\n\n    useEffect(() => {\n    },[mobileHideScrollbar.value]);\n\n    useEffect(() => {\n        (window as unknown as any).globalCart = cart;\n        if ((onMobile) && (scrollerRef.current)) {\n            return trackTouchMoveDelta(scrollerRef.current,() => {\n            },{\n                onStart: () => {\n                    openMobileTopGap();\n                },onEnd: () => {\n                    const limit = mobileCloseMechanism.closedtopGap;\n                    if (Math.round(scrollerRef.current.scrollTop)<limit) {\n                        closeHandler();\n                    }                \n                    else {\n                        closeMobileTopGap();\n                    }\n                }\n            });\n        }\n        // if ((onMobile) && (!isTouchAvailable()))\n        // {\n        //     noTouch.value = !isTouchAvailable();\n        // }\n    },[]);\n\n    useEffect(() => {\n        if ((sliderRef.current) && (checkoutWrapperRef.current) && (IntersectionObserver)) {\n            const observer = new IntersectionObserver( \n                ([e]) => isCheckoutSticky.value = e.intersectionRatio<1,\n                {\n                    root: sliderRef.current,\n                    threshold: [1]\n                }\n            );\n            observer.observe(checkoutWrapperRef.current);\n            return () => observer.disconnect();\n        }\n    },[]);\n\n    const handleScrollToTop = () => {\n        scrollToTop();\n    };\n\n    const handleEditNote = () => {\n        if (!noteBoxRealOpenedRef.current) {\n            clearConfirmClearCartAndSalesInfo();\n            noteOpened.value = true;\n        }\n    };\n\n    const [noteSaveSwitch,setNoteSaveSwitch] = useState(0);\n    const noteSaveSwitchRef = useRef(noteSaveSwitch);\n    noteSaveSwitchRef.current = noteSaveSwitch;\n\n    const noteBoxTransitionEndHandler = (target: EventTarget,propertyName: string) => {\n        if (propertyName===\"height\") {\n            if (noteOpened.value) {\n                if (noteTextAreaRef.current) {\n                    noteTextAreaRef.current.focus();\n                }            \n            }    \n            noteBoxRealOpenedRef.current = noteOpened.value;\n        }\n    };\n\n    useEffect(() => {\n        if (noteOpened.value) {\n            if (noteTextAreaRef.current) {\n                noteTextAreaRef.current.setSelectionRange(0,0);\n                noteTextAreaRef.current.scrollTop = 0;\n            }            \n            setNoteText(note);\n        }\n    },[noteOpened.value]);\n\n    const [noteText,setNoteText] = useState(note);\n\n    const hideAllToasts = () => {\n        forceHideToasts.value = true;\n        showNoteSavedToast.value = false;\n        showSubtotalToast.value = false;\n        setTimeout(() => {\n            forceHideToasts.value = false;\n        },500);\n    };\n\n    const saveNoteHandler = () => {\n        noteOpened.value = false;\n        if (updateNote(noteText)) {            \n            showNoteSavedToast.value = true;\n            showSubtotalToast.value = false;\n        }\n    };\n\n    const scrollHandler = () => {\n        if ((scrollerRef.current.scrollTop===0) && (clearingCartRef.current)) {\n            clearingCartRef.current = false;\n            finalizeClearCartAnimation();\n        }\n        if (scrollerRef.current) {\n            if ((!onMobile) || (!mobileScrollbarJumpingRef.current)) {\n                showScrollToTop.value = scrollerRef.current.scrollTop>=scrollToTopScrollThreshold;\n            }\n        }           \n        if ((showNoteSavedToast.value) && ((noteOpened.value) || (!noteBoxRealOpenedRef.current))) {\n            showNoteSavedToast.value = false;\n        }        \n        if (!mobileScrollbarJumpingRef.current) {\n            showSubtotalToast.value = false;\n        }\n    };\n\n    const sliderWheelHandler: HTMLAttributes<HTMLDivElement>[\"onWheel\"] = (e) => {\n        if ((scrollerRef.current) && (onMobile) && (!isTouchAvailable())) {\n            const newScrollTop = Math.round(scrollerRef.current.scrollTop+e.deltaY);\n            const limit = mobileCloseMechanism.closedtopGap-55;\n            if (newScrollTop<limit) {\n                closeHandler();\n            }                \n        }        \n    };\n\n    const alsoBoughtExists = useSmartState(false);\n    const alsoBoughtShows = useSmartState(false);\n\n    const lastNonDeletedRealItemCountCountRef = useRef(nonDeletedRealItemCount);\n\n    const alsoBoughtHiddenHandler = () => {\n        alsoBoughtExists.value = false;\n    };\n\n    useEffect(() => {\n        if (nonDeletedRealItemCount!==lastNonDeletedRealItemCountCountRef.current) {\n            if ((lastNonDeletedRealItemCountCountRef.current===0) && (nonDeletedRealItemCount>0)) {\n                alsoBoughtShows.value = true;\n                alsoBoughtExists.value = true;\n            }\n            else if ((lastNonDeletedRealItemCountCountRef.current>0) && (nonDeletedRealItemCount===0)) {\n                alsoBoughtShows.value = false;\n            }\n            lastNonDeletedRealItemCountCountRef.current = nonDeletedRealItemCount;\n        }\n    },[nonDeletedRealItemCount]);    \n\n    const clearCartHandler = () => {\n        startClearCartAnimation();\n    };    \n\n    const backIsReadyRef = useRef(false);\n\n    const backClickHandler = () => {\n        if (backIsReadyRef.current) closeHandler();\n    };\n\n    const backRef = useRef<HTMLDivElement>();\n\n    const backTransitionEndHandler = (target: HTMLDivElement,propertyName: string) => {\n        if ((target===backRef.current) && (propertyName===\"opacity\")) {\n            backIsReadyRef.current = open;\n        }\n    };\n\n    const editCancelClickHandler = () => {\n        if (cart.editOrder) {\n            top.location = cart.editOrder.orderReturnUrl;\n        }        \n    };\n    const editSaveClickHandler = async () => {\n        if (!backIsReadyRef.current) return;\n        if (!cart.editOrder) return;\n        creatingCheckoutCaptionRef.current = \"Saving Order\";\n        creatingCheckoutOpen.value = true;\n        closeHandler();\n        const centVariantId = prebuildData.getCentVariantId();\n        const checkoutData = getCheckoutData();\n        const display = infoAttributesToDisplayString(checkoutData.infoAttributes);\n        const ps = genPackslipAttributeString(cart.items);        \n        try {\n            await apiEditOrder.saveOrder(cart.editOrder.id,checkoutData,display,ps,cart.editOrder.snapshotId,centVariantId,editNotifyCustomer.value,cart.note);\n            top.location = cart.editOrder.orderReturnUrl;\n        }\n        catch(err) {\n            alert(`error: ${err.message}`);\n        }        \n    };\n\n    const frequentlyBoughtTogetherProductIds = consumeBoughtTogetherClient(items.map(({productId}) => productId));\n\n    const salesInfoClickHandler = () => {\n        if (salesInfoOpen.value) {\n            clearConfirmClearCartAndSalesInfo();\n        }\n        else {\n            clearConfirmClearCart();\n            salesInfoOpen.value = true;    \n        }\n    };\n\n    const salesBreakdownCloseHandler = () => {\n        clearConfirmClearCartAndSalesInfo();\n    };\n\n    const { \n        cart: {\n            lineColor,\n            checkoutButtonColor,\n            checkoutButtonTextColor,\n            checkoutButtonDisabledColor,\n            isEmptyTextColor,\n            itemBackgroundColor,\n            infoToastColor,\n            infoToastTextColor,\n            editNoteButtonTextIconColor,\n            editNoteButtonTextIconHoverColor\n        }\n    } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div ref={backRef} className=\"back\" onTransitionEnd={(e) => backTransitionEndHandler(e.target as HTMLDivElement,e.propertyName)}>\n                    <div className=\"cross\">\n                        <Icon name=\"navbar-cross\" size={20} />\n                    </div>\n                    <EventPane zIndex={0} onClick={backClickHandler} />\n                </div>\n                <div className=\"slider\" ref={sliderRef} >\n                    <div \n                        className={`slider-inner ${sliderInnerClassName}`} \n                        ref={scrollerRef} \n                        onScroll={scrollHandler} \n                        onWheel={sliderWheelHandler}\n                        style={sliderInnerStyles}\n                    >\n                        <div className=\"mobile-top-gap\" ref={mobileTopGapRef} onClick={backClickHandler}></div>\n                        <div className=\"slider-back\">\n                            <div className=\"subtotal\">\n                                <div className=\"notch\"></div>\n                                <span className=\"subtotal-components\">\n                                    Subtotal <span className=\"price\"><span className=\"superscript\">$</span>{dollar}<span className=\"superscript\">{cents}</span></span>\n                                </span>\n                                {(subTotal!==undiscountedSubTotal)?(<>\n                                    <span className=\"subtotal-discount-amount\">\n                                        <PriceSavedDisplay priceDiff={subTotal-undiscountedSubTotal} />\n                                    </span>\n                                    <span className=\"subtotal-discount-info\">\n                                        <i className=\"icon-info\" />\n                                        <EventPane onClick={salesInfoClickHandler} hoverOnTouchDown />\n                                    </span>\n                                </>):\"\"}\n                            </div>\n                            {(subTotal!==undiscountedSubTotal)?(\n                                <div className=\"sales-breakdown\">\n                                    <SalesBreakdown discountBreakdown={discountBreakdown} open={salesInfoOpen.value} onClose={salesBreakdownCloseHandler} />\n                                </div>\n                            ):\"\"}                            \n                            <div className=\"checkout-wrapper\" ref={checkoutWrapperRef}>\n                                <div className={`checkout-button ${checkoutDisabled?\"disabled\":\"\"}`}>\n                                    Proceed to checkout ({itemCount} item{(itemCount!==1)?\"s\":\"\"})\n                                    <EventPane zIndex={0} onClick={() => checkoutClickHandler()} disabled={checkoutDisabled} />\n                                </div>\n                                <div className=\"editing-wrapper\">\n                                    <div className=\"button cancel\">\n                                        Cancel\n                                        <EventPane zIndex={0} onClick={() => editCancelClickHandler()} />\n                                    </div>\n                                    <div className=\"spacer\"></div>\n                                    <div className=\"button save\">\n                                        {cart.editOrderIsCreate?\"Create Order\":`Save${(cart.editOrder?.orderType===\"draft\")?\" Draft\":\"\"}`}\n                                        <EventPane zIndex={0} onClick={() => editSaveClickHandler()} disabled={saveDisabled.value} />\n                                    </div>\n                                </div>\n                                <div className=\"checkout-flap\"></div>\n                            </div>\n                            <div className=\"empty-cart-wrapper\">\n                                <div className=\"empty-cart\">\n                                    <div className=\"image-wrapper\">\n                                        <Image src={prebuildData.bustCache(\"/images/side_cart/empty_cart.svg\")} width={emptyCartSvg.width} height={emptyCartSvg.height} />\n                                    </div>\n                                    <div className=\"cart-is-empty\">\n                                        <span>Your cart is empty</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"edit-options-wrapper\">\n                                <div className=\"amount-wrapper\">\n                                    Difference: \n                                    <PriceDisplay price={editPriceDifference.value} size={23} />\n                                </div>\n                                <div className=\"checkbox-wrapper\">\n                                    <input type=\"checkbox\" checked={editNotifyCustomer.value} onChange={() => {}} />\n                                    <span>Send notification to customer</span>\n                                    <EventPane  onClick={() => editNotifyCustomer.value = !editNotifyCustomer.value} />\n                                </div>\n                            </div>\n                            <div className=\"note-group\">\n                                <div className=\"edit-note\">\n                                    <div className=\"edit-note-button\">\n                                        <div className=\"edit-note-image-wrapper\" style={{\n                                            width: `${editNoteSvg.width}rem`,\n                                            height: `${editNoteSvg.height}rem`\n                                        }}>\n                                            <Image src={prebuildData.bustCache(\"/images/side_cart/edit_note.svg\")} layout=\"fill\" />\n                                            <Image className=\"highlighted\" src={prebuildData.bustCache(\"/images/side_cart/edit_note.svg\")} layout=\"fill\" />\n                                        </div>\n                                        <div className=\"include-a-note\">\n                                            {noteOpened.value?(cart.editOrder?\"Hide staff note\":\"Hide note\"):((note!==\"\")?(cart.editOrder?\"Edit staff note\":\"Edit note\"):(cart.editOrder?\"Include a staff note\":\"Include a note\"))}\n                                        </div>\n                                        <EventPane onClick={handleEditNote} />\n                                    </div>\n                                </div>\n                                <div className=\"note-box\" onTransitionEnd={(e) => noteBoxTransitionEndHandler(e.target,e.propertyName)}>\n                                    <div className=\"note-container\">\n                                        <textarea \n                                            className={`note-text ${noteTextClassName}`} \n                                            ref={noteTextAreaRef} \n                                            onBlur={saveNoteHandler}\n                                            value={noteText}\n                                            onChange={(e) => setNoteText(e.target.value)}\n                                            style={noteTextStyles}\n                                        >\n                                        </textarea>\n                                    </div>\n                                    <div className=\"note-top-line\"></div>\n                                </div>\n                            </div>\n                            <div className=\"items-wrapper\">\n                                <div className=\"items\"\n                                    ref={itemsRef}\n                                    onTransitionEnd={(e) => itemsTransitionEndHandler(e.target as HTMLDivElement,e.propertyName)}\n                                >                                \n                                    {items.map((item) => <SideCartItem\n                                        key={item.id}\n                                        item={item}\n                                        onMobile={onMobile}\n                                        updateQuantity={(quantityDisplay) => clearConfirmClearCartAndSalesInfo() && updateItemQuantity(item.id,quantityDisplay)} \n                                        minusQuantity={() => {\n                                            clearConfirmClearCartAndSalesInfo() && minusItemQuantity(item.id);\n                                        }} \n                                        plusQuantity={() => clearConfirmClearCartAndSalesInfo() && plusItemQuantity(item.id)} \n                                        remove={() => clearConfirmClearCartAndSalesInfo() && removeItem(item.id)}\n                                        quantityBlur={() => clearConfirmClearCartAndSalesInfo() && itemQuantityBlur(item.id)}\n                                        hidden={highlightIds.includes(item.id)}\n                                        flashit={flashIds.includes(item.id)}\n                                        deleted={!!item.deleted}\n                                        closeSideCartHandler={closeHandler}\n                                    />)}\n                                </div>\n                            </div>\n                            <div className=\"clear_cart\">\n                                <ClearCart \n                                    onClear={clearCartHandler} \n                                    confirm={confirmClearCart.value}\n                                    setConfirm={(value) => {\n                                        clearSalesInfo();\n                                        confirmClearCart.value = value;\n                                    }}\n                                />\n                            </div>\n                            {/*}\n                            <div className=\"add-more-items\">\n                                <div className=\"add-more-items-button\">                                \n                                    Add More Items\n                                    <EventPane touchDownOnMouseDown />\n                                </div>\n                            </div>\n                            {*/}\n                            \n                            {alsoBoughtExists.value?(\n                                frequentlyBoughtTogetherProductIds?(\n                                    <div className=\"also-bought\">\n                                        <AlsoBought closeSideCartHandler={closeHandler} itemCount={items.length} show={alsoBoughtShows.value} onHidden={alsoBoughtHiddenHandler} productIds={frequentlyBoughtTogetherProductIds} />\n                                    </div>\n                                ):<CenteredSpinner />\n                            ):\"\"}                            \n                        </div>\n                    </div>\n                    <div className=\"subtotal-toast\">Subtotal <span className=\"price\"><span className=\"superscript\">$</span>{dollar}<span className=\"superscript\">{cents}</span></span></div>\n                    <div className=\"notesaved-toast\">Note Saved</div>\n                    <BackToTop \n                        show={showScrollToTop.value}\n                        handleScrollToTop={handleScrollToTop}\n                    />\n                </div>\n            </div>\n            <style jsx>{sliderInnerInjectedStyles}</style>\n            <style jsx>{noteTextInjectedStyles}</style>\n            <style jsx>{`\n                .container {\n                    --line-color: ${lineColor};\n                    position: fixed;\n                    left: 0rem;\n                    top: 0rem;\n                    right: 0rem;\n                    bottom: 0rem;\n                    z-index: 1000;\n                    visibility: hidden;\n                    --duration: 0.3s;\n                    transition: visibility var(--duration);\n                    --extra-desktop-padding-hori: 5rem;\n                }\n                .sales-breakdown {\n                    position: relative;\n                    top: 12rem;\n                    display: block;\n                    z-index: 100;\n                }\n                .container.mobile {\n                    --duration: 0.6s;\n                    --extra-desktop-padding-hori: 0rem;\n                }\n\n                .edit-options-wrapper {\n                    border-top: 1rem solid #ddd;\n                    border-bottom: 1rem solid #ddd;\n                    margin-top: 15rem;\n                    margin-bottom: 0rem;\n                    padding: 20rem 20rem;\n                    padding-bottom: 25rem;\n                    font-size: 16rem;\n                    color: #444;\n                    display: none;\n                }\n\n                .is-editing .edit-options-wrapper {\n                    display: block;\n                }\n\n                .is-editing.is-editing-draft .edit-options-wrapper {\n                    display: none;\n                }\n\n                .edit-options-wrapper .amount-wrapper {\n                    display: flex;\n                    justify-content: space-between;\n                    line-height: 30rem;\n                }\n\n                .edit-options-wrapper .checkbox-wrapper {\n                    margin-top: 10rem;\n                    position: relative;\n                }\n\n                .edit-options-wrapper .checkbox-wrapper span {\n                    padding-left: 5rem;\n                    font-size: 15rem;\n                    position: relative;\n                    top: -1rem;\n                }\n\n                .also-bought {\n                    padding: 0rem var(--extra-desktop-padding-hori);\n                }\n\n                .clear_cart {\n                    --duration: 0.3s;\n                    position: relative;\n                    top: -20rem;\n                    height: 0rem;\n                    opacity: 0;\n                    overflow: hidden;\n                    transition: opacity var(--duration),height var(--duration);\n                }\n\n                .at-least-two-real-items .clear_cart {\n                    height: 45rem;\n                    opacity: 1;\n                    transition-duration: 0s;\n                }\n\n                .mobile .mobile-top-gap {\n                    width: 100%;\n                    height: ${mobileCloseMechanism.initialVisibleTopGap}rem;\n                }\n\n                .container.open {\n                    visibility: visible;\n                }\n\n                .back {                    \n                    position: absolute;\n                    left: 0rem;\n                    top: 0rem;\n                    width: 100%;\n                    height: 100%;\n                    background-color: rgba(0,0,0,.5);\n                    opacity: 0;\n                    visibility: hidden;\n                    transition: opacity var(--duration),visibility var(--duration);\n                }\n\n                .back .cross {\n                    position: absolute;\n                    left: 29rem;\n                    top: 45rem;\n                    color: #FFFFFF;                \n                    display: none; /* removed for now */\n                }\n    \n                .container.open .back {\n                    opacity: 1;\n                    visibility: visible;\n                }\n\n                .slider {\n                    position: absolute;\n                    right: 0rem;\n                    width: 480rem;\n                    top: 0rem;\n                    bottom: 0rem;                    \n                    transform: translateX(100%);                    \n                    transition: transform var(--duration);\n                    --standard-hori-padding: calc(15rem + var(--extra-desktop-padding-hori));\n                }\n                .slider-back {\n                    /* background-color: var(--color-collection-menu); */\n                    background-color: var(--body-background-color);\n                    padding-bottom: 1rem;\n                    min-height: 100%;                    \n                }\n                .mobile .slider {\n                    width: 100%;\n                    transform: translateY(100%);\n                }\n                .slider-inner {\n                    position: absolute;\n                    left: 0rem;\n                    right: 0rem;\n                    top: 0rem;\n                    bottom: 0rem;\n                    overflow-y: auto;                    \n                }\n\n                .container.open .slider {\n                    transform: translateX(0rem);\n                }\n                \n                .container.mobile.open .slider {\n                    transform: translateY(0rem);\n                }\n\n                .slider .subtotal {        \n                    position: relative;\n                    padding: 0rem var(--standard-hori-padding);\n                    font-size: 22rem;\n                    padding-top: 20rem;\n                    margin-bottom: -7rem;                    \n                }\n\n                .slider .subtotal .price {\n                    font-weight: 600;\n                    font-size: 25rem;\n                }\n\n                .slider .subtotal .superscript {\n                    font-size: 0.6em;\n                    position: relative;\n                    top: -0.4666em;\n                }\n\n                .checkout-wrapper {\n                    padding: 0rem var(--standard-hori-padding);\n                    padding-top: 18rem;\n                    padding-bottom: 0rem;\n                    position: sticky;\n                    top: -1rem;\n                    z-index: 10;\n                    /* background-color: var(--color-collection-menu); */\n                    background-color: var(--body-background-color);\n                }\n                .container.is-checkout-sticky .checkout-wrapper {\n                    /* border-bottom: 1rem solid var(--line-color); */\n                }\n                .checkout-flap {\n                    position: absolute;\n                    height: 17rem;\n                    bottom: -17rem;\n                    left: 0rem;\n                    width: 100%;\n                    border-bottom: 1rem solid var(--line-color);\n                    background-color: var(--body-background-color);\n                    display: none;\n                }\n                .container.is-checkout-sticky .checkout-flap {\n                    display: block;\n                }\n\n                .is-editing .checkout-button {\n                    display: none;\n                }\n\n                .checkout-button,.add-more-items-button,.button {\n                    height: 48rem;\n                    line-height: 48rem;                    \n                    color: ${checkoutButtonTextColor};\n                    text-align: center;\n                    border-radius: 4rem;\n                    position: relative;\n                    transition: opacity 0.3s;\n                }\n                .editing-wrapper {\n                    display: none;\n                    width: 100%;\n                }\n\n                .editing-wrapper .button {\n                    flex: 1;\n                }\n\n                .is-editing .editing-wrapper {\n                    display: flex;\n                }\n\n                .editing-wrapper .spacer {\n                    flex: 0 0 8rem;\n                }\n\n                .button {\n                    background-color: #3387db;\n                }\n                .button.cancel {\n                    background-color: #404040;\n                }\n                .checkout-button {\n                    background-color: ${checkoutButtonColor};\n                }                \n\n                .checkout-button.hover,.checkout-button.touchdown,.button.hover,.button.touchdown {\n                    opacity: 0.8;\n                }\n\n                .subtotal-discount-amount {\n                    position: relative;\n                    top: -3rem;\n                    left: 10rem;\n                    z-index: 100;\n                }\n\n                .subtotal-discount-info {\n                    position: relative;\n                    top: 0rem;\n                    left: 12rem;\n                    z-index: 100;\n                    color: #999;\n                    padding: 5rem 10rem;\n                    transition: color 0.3s;\n                }\n\n                .subtotal-discount-info.hover {\n                    color: #777;\n                }\n\n                .sales-info-open .subtotal-discount-info {\n                    color: #555;\n                }\n\n                .sales-info-open .subtotal-discount-info.hover {\n                    color: #777;\n                }\n\n                .checkout-button.disabled,.save-disabled .button.save {\n                    background-color: ${checkoutButtonDisabledColor};\n                }\n\n                .empty-cart-wrapper {\n                    position: relative;\n                    width: 100%;\n                    height: 0rem;\n                }\n\n                .empty-cart {          \n                    position: absolute;          \n                    left: 0rem;\n                    top: 0rem;\n                    width: 100%;\n                    padding-top: 45rem;\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;                \n                    opacity: 1;\n                    transition: opacity 1.7s;\n                }     \n                .is-editing .empty-cart {\n                    top: 125rem;\n                }\n                .is-editing.is-editing-draft .empty-cart {\n                    top: 0rem;\n                }\n                .cart-has-items .empty-cart {\n                    opacity: 0;              \n                    transition-duration: 0s;      \n                }\n\n                .empty-cart .image-wrapper {\n\n                }\n\n                .cart-is-empty {\n                    padding-top: 18rem;                \n                }\n\n                .cart-is-empty span {\n                    font-weight: 600;\n                    font-size: 19rem;\n                    color: ${isEmptyTextColor};\n                }\n\n                div.container .hide {\n                    display: none;\n                }\n                .items-wrapper {\n                    --duration: 0.3s;\n                    overflow: hidden;                    \n                    opacity: 1;\n                }\n                .items-wrapper-fade-out .items-wrapper {\n                    opacity: 0;\n                    transition: height var(--duration),opacity var(--duration);\n                }\n                .items {\n                    border-bottom: 1rem solid var(--line-color);\n                    padding-top: 2rem;\n                    padding-bottom: 2rem;\n                    border-top: 1rem solid var(--line-color);\n                    margin-bottom: 20rem;                \n                    opacity: 0;\n                    transition: opacity 0.3s;\n                    background-color: ${itemBackgroundColor};\n                }\n                .cart-has-items .items {\n                    opacity: 1;\n                    transition-duration: 0s;\n                }\n                .subtotal-toast,.notesaved-toast {\n                    position: absolute;\n                    bottom: 31rem;\n                    left: 50%;\n                    transform: translateX(-50%);\n                    background-color: ${infoToastColor};\n                    border-radius: 20rem;\n                    color: ${infoToastTextColor};\n                    padding: 9rem 25rem;\n                    font-size: 18rem;\n                    padding-bottom: 11rem;            \n                    --duration: 0.5s;    \n                    opacity: 0;\n                    visibility: hidden;\n                    transition: opacity var(--duration),visibility var(--duration);\n                    white-space: nowrap;\n                }\n                .subtotal-toast .price {\n                    font-weight: 600;\n                }\n                .subtotal-toast .price .superscript {                    \n                    font-size: 10rem;\n                    position: relative;\n                    top: -5rem;\n                }\n                .container.show-subtotal-toast .subtotal-toast,.container.show-notesaved-toast .notesaved-toast {\n                    opacity: 1;\n                    visibility: visible;\n                }\n\n                .container.force-hide-toasts .subtotal-toast,.container.force-hide-toasts .notesaved-toast {\n                    transition: opacity 0s,visibility 0s;\n                }\n\n                .scroll-to-top {\n                    --size: 40rem;\n                    --duration: 0.3s;\n                    position: absolute;\n                    bottom: 33rem;\n                    right: 31rem;\n                    width: var(--size);\n                    height: var(--size);\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    border-radius: var(--size);\n                    background-color: rgba(0,0,0,0.25);              \n                    opacity: 0;\n                    visibility: hidden;\n                    transition: background-color var(--duration),opacity var(--duration),visibility var(--duration);\n                }\n\n                .scroll-to-top.hover,.scroll-to-top.touchdown {\n                    background-color: rgba(0,0,0,0.4);                \n                }\n                .container.show-scroll-to-top .scroll-to-top {\n                    opacity: 1;\n                    visibility: visible;                                    \n                }\n\n                .note-group {\n                    opacity: 0;\n                    transition: opacity 0.5s;\n                }\n                .cart-has-items .note-group {\n                    opacity: 1;\n                    transition-duration: 0s;\n                }\n\n                .is-editing.is-editing-draft .note-group {\n                    height: 0rem;\n                    overflow: hidden;\n                    margin-bottom: 27rem;\n                }\n\n                .edit-note {                    \n                    margin-top: -5rem;\n                    padding: 0rem 15rem;\n                    padding-bottom: 4rem;\n                    padding-top: 9rem;\n                }\n                .edit-note-button {\n                    --duration: 0.3s;\n                    position: relative;\n                    display: flex;\n                    justify-content: center;\n                    padding: 7rem 0rem;\n                    border-radius: 3rem;\n                }\n                .edit-note-button.hover .include-a-note,.edit-note-button.touchdown .include-a-note {\n                    color: ${editNoteButtonTextIconHoverColor};\n                }                \n\n                .edit-note-button img:global(.highlighted) {\n                    filter: invert(78%) sepia(38%) saturate(4474%) hue-rotate(182deg) brightness(99%) contrast(106%);\n                    opacity: 0;\n                    transition: opacity var(--duration);\n                }\n\n                .edit-note-button.hover img:global(.highlighted),.edit-note-button.touchdown img:global(.highlighted) {\n                    opacity: 1;\n                }\n                \n                .edit-note-image-wrapper {\n                    position: relative;\n                }\n                .include-a-note {\n                    padding-left: 8rem;\n                    color: ${editNoteButtonTextIconColor};\n                    padding-right: 25rem;\n                    transition: color var(--duration);\n                }\n                .note-box {\n                    --textbox-height: 143rem;\n                    height: 0rem;\n                    transition: height 0.3s;\n                    height: 0rem;\n                    background-color: #fff;    \n                    transition: height 0.5s;\n                    overflow: hidden;                    \n                    position: relative;\n                }\n\n                .container.note-opened .note-box {\n                    height: var(--textbox-height);                    \n                }\n                .note-container {\n                    padding: 0rem;\n                }\n                .note-text {\n                    width: 100%;\n                    height: var(--textbox-height);\n                    resize: none;\n                    padding: 24rem;                    \n                    outline: none;\n                    color: #666;\n                    line-height: 19rem;\n                    border-radius: 3rem;\n                    border: none;                    \n                    background-color: transparent;\n                    box-shadow: 0 1rem 4rem #0000000f inset;\n                }\n                .note-top-line {\n                    position: absolute;\n                    left: 0rem;\n                    top: 0rem;\n                    width: 100%;\n                    height: 1rem;\n                    background-color: var(--line-color);                    \n                }\n\n                .add-more-items {\n                    padding: 0rem 40rem;\n                }\n                .container .add-more-items-button {\n                    background-color: #242424;\n                    height: 44rem;\n                    line-height: 44rem;\n                }\n                .add-more-items-button.hover {}\n                .add-more-items-button.touchdown {}\n                .mobile .notch {\n                    position: absolute;\n                    left: 50%;\n                    top: 6rem;\n                    transform: translateX(-50%);\n                    width: 36rem;\n                    height: 5rem;\n                    background-color: #cfcfcf;\n                    border-radius: 5rem;                    \n                }\n                .mobile .slider-back {\n                    --border-radius: 6rem;\n                    border-top-left-radius: var(--border-radius);\n                    border-top-right-radius: var(--border-radius);\n                }\n                .mobile.mobile-hide-scrollbar .slider-inner {\n                    right: -50rem;\n                }\n\n                .mobile.mobile-hide-scrollbar .slider-back {\n                    width: calc(100% - 50rem);\n                }\n\n                .subtotal-components {\n                    position: relative;\n                    z-index: 100;\n                }\n\n                @media screen and (max-width: 350px) {\n                    .slider .subtotal {        \n                        font-size: 18rem;\n                    }                   \n\n                    .slider .subtotal .price {\n                        font-size: 22rem;\n                    }\n                }\n\n                @media screen and (max-width: 290px) {\n                    .slider .subtotal {        \n                        font-size: 16rem;\n                    }                   \n\n                    .slider .subtotal .price {\n                        font-size: 20rem;\n                    }\n                }\n            `}</style>\n        </>\n    );\n}","import { useCssStateManager } from \"../hooks/use_css_state_manager\";\nimport { prebuildData } from \"../lib/prebuild-data\";\n\nexport type CreatingCheckoutProps = {\n    open: boolean;\n    caption?: string;\n};\n\nexport default function CreatingCheckout({open,caption}:CreatingCheckoutProps)\n{\n    if (!caption) caption = \"Creating Checkout\";\n    const cssStateManager = useCssStateManager([\"container\"]);\n    cssStateManager.useProperty(open,\"open\")\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <img src={prebuildData.bustCache(\"/images/creating_checkout/loading.svg\")} />\n                <div className=\"text\">{caption}...</div>\n            </div>\n            <style jsx>{`\n            .container {\n                --duration: 0.4s;\n                position: fixed;\n                left: 0rem;\n                top: 0rem;\n                right: 0rem;\n                bottom: 0rem;\n                background-color: #f5f5f5;\n                visibility: hidden;\n                opacity: 0;\n                transition: visibility var(--duration),opacity var(--duration);\n                z-index: 999;\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                align-items: center;\n            }\n\n            .container.open {\n                visibility: visible;\n                opacity: 1;\n            }\n\n            .container img {\n                position: relative;\n                top: -26rem;\n            }\n\n            .text {\n                position: relative;\n                top: -72rem;\n                color: #939393;\n            }\n            `}</style>\n        </>\n    );\n}","import { KeyboardEvent } from \"react\";\n\ntype ControlKeys = {ctrl?: true;alt?: true,shift?: true};\ntype Entry = {\n    cb: () => void;\n    key: string;\n    controlKeys: ControlKeys;\n};\n\nclass KeyPress {\n    private entries: Entry[] = [];\n    private eventRegistered = false;\n\n    private matchesEntry(entry: Entry,event: globalThis.KeyboardEvent) {\n        const { key,controlKeys: { ctrl,alt,shift } } = entry;\n        if (event.key!==key) return false;\n        if ((!!ctrl) != event.ctrlKey) return false;\n        if ((!!alt) != event.altKey) return false;\n        if ((!!shift) != event.shiftKey) return false;\n        return true;\n    }\n\n    private registerEvent() {\n        if (this.eventRegistered) return;\n        document.addEventListener(\"keydown\",(event) => {\n            let called = false;\n            this.entries.forEach((entry) => {\n                if (this.matchesEntry(entry,event)) {\n                    entry.cb();\n                    called = true;\n                }\n            });\n            if (called) {\n                event.preventDefault();\n            }\n        });\n        this.eventRegistered = true;\n    }\n\n    onKey(cb: () => void,key: string,controlKeys: ControlKeys = {}) {\n        const entry: Entry = {\n            cb,\n            key,\n            controlKeys\n        };\n        this.entries.push(entry);\n        this.registerEvent();\n        return () => {\n            this.entries = this.entries.filter((_entry) => _entry!==entry);\n        };\n    }\n}\n\nexport const keypress = new KeyPress();","import { CSSProperties, useContext, useEffect, useRef } from \"react\";\nimport { LayoutStateContext } from \"../contexts/layout_state\";\nimport { WindowSizeContext } from \"../contexts/window_size\";\nimport { useCachedValue } from \"../hooks/use_cached_value\";\nimport { useCssStateManager } from \"../hooks/use_css_state_manager\";\nimport { useCustomRouter } from \"../hooks/use_custom_router\";\nimport { useDesktopScrollbar } from \"../hooks/use_desktop_scrollbar\";\nimport { consumeReviewsHeader } from \"../hooks/use_reviews_header\";\nimport { useSmartState } from \"../hooks/use_smart_state\";\nimport { keypress } from \"../lib/keypress\";\nimport { misc } from \"../lib/misc\";\nimport { prebuildData } from \"../lib/prebuild-data\";\nimport { libSearch, SearchResult } from \"../lib/search\";\nimport PriceDisplay from \"./common/price-display\";\nimport StarRating from \"./common/star_rating\";\nimport { EventPane } from \"./core/event_pane\";\nimport SquareImage from \"./core/square_image\";\n\ntype NoProductFoundProps = {\n};\n\nfunction NoProductFound({}:NoProductFoundProps)\n{\n    const cssStateManager = useCssStateManager([\"no-products-found\"]);\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                No Products Found\n            </div>\n            <style jsx>{`\n            .no-products-found {\n                height: 80rem;\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                padding-left: 32rem;\n                color: #ddd;\n                font-size: 19rem;\n                font-weight: 600;\n            }\n            `}</style>\n        </>\n    );\n}\n\ntype SearchResultItemProps = {\n    result: SearchResult;\n    selected: boolean;\n};\n\nfunction SearchResultItem({result: { productId,htmlCaption,collectionHtmlCaption },selected}:SearchResultItemProps)\n{\n    const cssStateManager = useCssStateManager([\"search-result-item\"]);\n    cssStateManager.useProperty(selected,\"selected\");\n    \n    const { smallImages } = prebuildData.getProductById(productId);\n    \n    const layout = useContext(LayoutStateContext);    \n    const { searchBarCommRef,mobileDetect } = layout;\n    const router = useCustomRouter();\n    const { current: searchBarComm } = searchBarCommRef;\n    const { widthCutoff: mobileCutoff,mobileSmallScreenCutoff  } = mobileDetect;\n\n    let { reviewsCount,starRating } = consumeReviewsHeader(productId,layout);\n\n    const reviewText = (reviewsCount!==-1)?((reviewsCount>0)?`${reviewsCount} review${(reviewsCount>1)?\"s\":\"\"}`:\"No reviews yet\"):\"---\";\n    starRating = Math.min(Math.max(Math.round(starRating*2)/2,0),5);\n    \n    const productPageRoute = useCachedValue(() => prebuildData.getProductPageRoute(productId),productId);\n\n    const handleClick = () => {\n        router.push(productPageRoute);\n        searchBarComm.endBlurDelay();\n    };\n\n    const handleTouchOrMouseDown = () => {\n        searchBarComm.openBlurDelay();\n    };\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"thumb-column\">\n                    <div className=\"thumb\">\n                        <SquareImage src={prebuildData.bustCache(smallImages[0].src)} />\n                    </div>\n                </div>\n                <div className=\"info\">\n                    <div className=\"caption\" dangerouslySetInnerHTML={{__html: htmlCaption}}></div>\n                    <div className=\"rating\">\n                        <StarRating rating={starRating} scale={0.75} />\n                        {/*}\n                        <div className=\"rating-count\">{reviewText}</div>\n                        {*/}\n                    </div>\n                    <div className=\"small-screen-footer\">\n                        <div className=\"collection-name\" dangerouslySetInnerHTML={{__html: collectionHtmlCaption}}></div>        \n                    </div>\n                </div>\n                <div className=\"collection-name-wrapper\">\n                    <div className=\"collection-name\" dangerouslySetInnerHTML={{__html: collectionHtmlCaption}}></div>\n                </div>    \n                <div className=\"selected-overlay\"></div>\n                <div className=\"hover-overlay\"></div>\n                <EventPane onClick={handleClick} onTouchOrMouseDown={handleTouchOrMouseDown} seoLinkUrl={productPageRoute} />\n            </div>\n            <style jsx>{`\n            .search-result-item {\n                padding: 0rem 10rem;\n                position: relative;\n                display: flex;\n                height: 80rem;\n                overflow-y: hidden;\n            }\n            .thumb-column {\n                height: 100%;\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n            }\n            .thumb {\n                width: 60rem;\n            }\n            .info {\n                margin-left: 15rem;\n                /* margin-top: 6rem; */\n                flex: 1 1;\n                height: 100%;\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n            }\n            .caption {\n                font-size: 18rem;\n                color: #444;\n            }\n\n            .caption :global(.highlight),.collection-name :global(.highlight) {\n                background-color: #e8e9ff;\n            }\n\n            .rating {\n                margin-top: 4rem;\n                display: flex;\n            }\n\n            .rating-count {\n                font-size: 14rem;\n                color: #8e9cf5;\n                margin-left: 3rem;\n            }\n\n            .small-screen-footer {\n                display: none;\n            }\n\n            .collection-name-wrapper {\n                margin-right: 9rem;\n                height: 100%;\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n            }\n\n            .collection-name {\n                color: #bbb;\n                font-weight: 600;\n                font-size: 17rem;\n            }\n\n            .hover-overlay,.selected-overlay {\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;\n                opacity: 0;                                \n            }\n\n            .hover-overlay {\n                background-color: rgba(0,0,0,0.06);\n                transition: opacity 0.2s;\n                \n            }\n\n            .selected-overlay {\n                background-color: rgba(0,0,0,0.09);\n                border-left: 5rem solid #b0beff;\n            }\n\n            .hover .hover-overlay {\n                opacity: 1;\n            }\n\n            .touchdown .hover-overlay {\n                opacity: 1;\n            }\n\n            .selected .selected-overlay {\n                opacity: 1;\n            }\n\n            @media screen and (max-width: ${mobileCutoff}px) {\n                .collection-name {\n                    font-size: 15rem;\n                }\n\n                .caption {\n                    font-size: 16rem;\n                }\n            }\n\n            @media screen and (max-width: ${mobileSmallScreenCutoff}px) {\n                .collection-name {\n                    display: none;\n                }\n\n                .caption {\n                    font-size: 14rem;\n                }\n\n                .thumb {\n                    width: 44rem;\n                }\n\n                .rating {\n                    display: none;\n                }\n\n                .small-screen-footer {\n                    display: block;\n                }\n\n                .small-screen-footer .collection-name {\n                    display: block;\n                    font-size: 13rem;\n                    padding-top: 5rem;\n                }\n            }            \n            `}</style>\n        </>\n    );\n}\n\nexport type SearchProps = {\n    open: boolean;\n};\n\ntype ShowInputTextState = \"Invisible\" | \"Offscreen\" | \"Visible\";\n\nexport default function Search({open}:SearchProps)\n{\n    const { searchBarCommRef,searchOpen,sideCartOpenRef,page,mobileDetect,openSearch,searchOpenType,searchCollectionId,navbarHeaderRef,scalePixelToRem } = useContext(LayoutStateContext);\n    const router = useCustomRouter();\n\n    if (globalThis.window) (globalThis.window as any)._searchRouter = router;\n    const { isActive: isMobile,widthCutoff: mobileCutoff,isSmallScreen,miniWidthCutoff } = mobileDetect;\n    \n    const { current: searchBarComm } = searchBarCommRef;\n    const searchResults = useSmartState<SearchResult[]>([]);\n    const searchInputTextRef = useRef(\"\");\n    const lastResultSignatureRef = useRef(\"\");\n\n    const windowSize = useContext(WindowSizeContext);\n\n    const marginFromWindow = 93;\n    const mobileMarginFromWindow = 40;\n    const collectionMarginFromWindow = 30;\n    const mobileCollectionMarginFromWindow = 32;\n    const smallScreenMarginFromWindow = 20;\n    const heightPerRow = 80;\n\n    const maxRows = useSmartState(8);\n    const overflows = searchResults.value.length>maxRows.value;\n\n    const disableKeyboard = useSmartState(false);\n    const selectedIndex = useSmartState(0);\n    const overlayTop = useSmartState(0);\n    const inputTop = useSmartState(0);\n    const resultsTop = useSmartState(0);\n    const mobileNavbarCoverTop = useSmartState(0);\n\n    useEffect(() => {\n        const hasTouchEvents = misc.hasTouchEvents();\n        disableKeyboard.value = hasTouchEvents;\n        if (hasTouchEvents) {\n            selectedIndex.value = -1;\n        }\n    },[]);\n\n    const isCollectionType = searchOpenType.value===\"collection\";\n\n    const placeholderText = isMobile.current?(searchCollectionId?`Search in ${prebuildData.getCollectionById(searchCollectionId).caption}`:\"\"):\"\";\n\n    let { ref: resultsRef,styles: resultsStyles,className: resultsClassName,injectedStyles: resultsInjectedStyles } = useDesktopScrollbar();        \n\n    let tmp: {left: number;top: number};\n\n    useEffect(() => {\n        if (resultsRef.current) {\n            const availableSpace = windowSize.height-(misc.getOffsetRelativeToParent(resultsRef.current,\".page\").top-page.scrollTop());\n            const potAns = Math.floor(availableSpace/heightPerRow);\n            maxRows.value = ((potAns>1)?potAns-1:potAns);\n        }\n        if (navbarHeaderRef.current) {\n            const headerTop = scalePixelToRem(misc.getOffsetRelativeToParent(navbarHeaderRef.current,\".page\").top);\n            const headerHeight = scalePixelToRem(navbarHeaderRef.current.offsetHeight);\n            overlayTop.value = headerTop+headerHeight+(isCollectionType && isMobile.current?41:0)+(isCollectionType && !isMobile.current?48:0);\n            inputTop.value = (isCollectionType?(isMobile.current?168:176):40)+headerTop-21;            \n            resultsTop.value = (isCollectionType?(isMobile.current?219:226):102)+headerTop-22;\n            mobileNavbarCoverTop.value = headerTop;\n        }        \n    },[windowSize.height,resultsRef.current?misc.getOffsetRelativeToParent(resultsRef.current,\".page\").top:0,searchOpen.value]);      \n    \n    const overlayStyles: CSSProperties = {\n        top: `${overlayTop.value}rem`\n    };\n    \n    const rightOpen = (isMobile.current?(isCollectionType?`${mobileCollectionMarginFromWindow}rem`:`${isSmallScreen.current?smallScreenMarginFromWindow:mobileMarginFromWindow}rem`):(isCollectionType?`${collectionMarginFromWindow}rem`:`${marginFromWindow}rem`));\n    const widthOpen = (isMobile.current?`calc(100% - ${(isCollectionType?mobileCollectionMarginFromWindow:(isSmallScreen.current?smallScreenMarginFromWindow:mobileMarginFromWindow))*2}rem)`:(isCollectionType?\"520rem\":\"calc(50% - 185rem)\"));\n    \n    const animationStyles: CSSProperties = {\n        top: `${inputTop.value}rem`,\n        right: open?rightOpen:`${isSmallScreen.current?smallScreenMarginFromWindow:marginFromWindow}rem`,\n        width: open?(isCollectionType?\"0rem\":widthOpen):\"0rem\"\n    };    \n\n    const inputWrapperStyles: CSSProperties = {\n        top: `${inputTop.value}rem`,\n        right: rightOpen,\n        width: widthOpen\n    };        \n    \n    const resultsMarginRight = isMobile.current?`${isCollectionType?mobileCollectionMarginFromWindow:(isSmallScreen.current?smallScreenMarginFromWindow:mobileMarginFromWindow)}rem`:(isCollectionType?`${collectionMarginFromWindow}rem`:`${marginFromWindow}rem`);\n    const resultsMarginLeft = ((isCollectionType && !isMobile.current)?\"40%\":resultsMarginRight);\n\n    resultsStyles = {\n        ...resultsStyles,        \n        left: resultsMarginLeft,\n        right: resultsMarginRight,\n        top: `${resultsTop.value}rem`\n    };\n\n    const mobileNavbarCoverStyles: CSSProperties = {\n        top: `${mobileNavbarCoverTop.value}rem`\n    };\n\n    useEffect(() => {\n        return keypress.onKey(() => {\n            if ((searchInputRef.current) && (!sideCartOpenRef.current)) {\n                if (page.scrollTop()>0) {\n                    page.scrollTo({\n                        top: 0,\n                        behavior: \"smooth\"\n                    });\n                    misc.waitForCondition(() => page.scrollTop()===0,() => {\n                        openSearch();\n                    });\n                }\n                else {\n                    openSearch();\n                }                \n            }\n        },\"s\",{ctrl: true});\n    },[]);\n\n    useEffect(() => {\n        const scrollIntoView = (index: number) => {\n            const overflows = searchResults.value.length>maxRows.value;\n            if (overflows) {\n                const viewportHeight = maxRows.value*heightPerRow;\n                const viewportStart = resultsRef.current.scrollTop;\n                const viewportEnd = viewportStart+viewportHeight;\n                const itemStart = index*heightPerRow;\n                const itemEnd = (index+1)*heightPerRow;\n                let diff = 0;\n                if (itemStart<viewportStart) {          \n                    diff = itemStart-viewportStart;\n                }\n                else if (itemEnd>viewportEnd) {\n                    diff = itemEnd-viewportEnd;\n                }\n                resultsRef.current.scrollTop+= diff; \n            }\n        };\n\n        searchBarComm.notifyMeOnPlaceholderAnimationStart = () => {\n            if (!isMobile.current) {\n                showInputText.value = \"Offscreen\";\n                if (inputWrapperRef.current) {\n                    misc.waitForStyleValue(inputWrapperRef.current,\"display\",\"block\",() => {\n                        if (searchInputRef.current) searchInputRef.current.focus();\n                    });\n                }                \n            }\n        };\n\n        searchBarComm.notifyMeOnPlaceholderAnimationEnd = () => {\n            showInputText.value = \"Visible\";\n            if (isMobile.current) {\n                if (inputWrapperRef.current) {\n                    misc.waitForStyleValue(inputWrapperRef.current,\"display\",\"block\",() => {\n                        if (searchInputRef.current) searchInputRef.current.focus();\n                    });\n                }                \n            }\n        };\n\n        searchBarComm.notifyMeOnBlurDelayEnd = () => {\n            handleSearchInputBlur();\n        };\n\n        searchBarComm.notifyMeOnArrowUpPressed = () => {\n            if (disableKeyboard.value) return;\n            let newValue: number;\n            if (selectedIndex.value>0) {\n                newValue = selectedIndex.value-1;\n            }\n            else {                \n                newValue = searchResults.value.length-1\n            }     \n            selectedIndex.value = newValue;\n            scrollIntoView(newValue);\n        };    \n        searchBarComm.notifyMeOnArrowDownPressed = () => {\n            if (disableKeyboard.value) return;\n            let newValue: number;\n            if (selectedIndex.value<searchResults.value.length-1) {\n                newValue = selectedIndex.value+1;\n            }\n            else {\n                newValue = 0;\n                selectedIndex.value = 0;\n            }\n            selectedIndex.value = newValue;\n            scrollIntoView(newValue);\n        };\n        searchBarComm.notifyMeOnEnterPressed = () => {\n            if (disableKeyboard.value) return;\n            const { productId } = searchResults.value[selectedIndex.value];\n            const productPageRoute = prebuildData.getProductPageRoute(productId);\n            router.push(productPageRoute);\n            if (searchInputRef.current) searchInputRef.current.blur();\n        };\n    },[]);\n\n    const cssStateManager = useCssStateManager([\"search\"]);\n    cssStateManager.useProperty((searchInputTextRef.current===\"\") || (!open),\"no-search\");    \n    cssStateManager.useProperty(open,\"open\");\n    cssStateManager.useProperty(overflows,\"overflows\");\n    cssStateManager.useProperty(isCollectionType,\"is-collection-type\");\n    const showInputText = useSmartState<ShowInputTextState>(\"Invisible\");\n    cssStateManager.useProperty(showInputText.value===\"Offscreen\",\"show-input-text-offscreen\");\n    cssStateManager.useProperty(showInputText.value===\"Visible\",\"show-input-text\");\n\n    const singleCharSearchTimeoutHandleRef = useRef(0);\n\n    const searchInputText = useSmartState(\"\");\n\n    const searchInputRef = useRef<HTMLInputElement>();\n\n    const handleSearchInputBlur = () => {\n        if (!searchBarComm.isBlurDelayed()) {\n            searchInputText.value = \"\";\n            handleSearchInputChange(\"\");\n            searchOpen.value = false;    \n            showInputText.value = \"Invisible\";\n        }\n        else {\n            searchBarComm.declareBlurWasBlocked();\n        }\n    };\n\n    const handleSearchInputChange = (value: string) => {\n        searchInputText.value = value;\n        if (singleCharSearchTimeoutHandleRef.current!==0) {\n            clearTimeout(singleCharSearchTimeoutHandleRef.current);\n            singleCharSearchTimeoutHandleRef.current = 0;\n        }\n        searchInputTextRef.current = value;           \n        const results = libSearch.search(value,isCollectionType?searchCollectionId:undefined);\n        const signature = results.map(({productId}) => productId).join(\"-\");\n        const signatureChanged = lastResultSignatureRef.current!==signature;\n        lastResultSignatureRef.current = signature;\n        if (value.length===1) {\n            const limit = Math.round(maxRows.value*1.5);\n            if (results.length>=limit) {\n                const tmp = [...results];\n                tmp.length = limit;\n                searchResults.value = tmp;\n                singleCharSearchTimeoutHandleRef.current = setTimeout(() => {\n                    searchResults.value = results;\n                    singleCharSearchTimeoutHandleRef.current = 0;\n                },750) as unknown as number;\n            }\n            else {\n                searchResults.value = results;\n            }\n        }\n        else {\n            searchResults.value = results;\n        }   \n        if (signatureChanged) {\n            if (resultsRef.current) resultsRef.current.scrollTop = 0;\n            if (!disableKeyboard.value) {\n                selectedIndex.value = 0;            \n            }\n        }\n    };\n\n    const handleSearchInputKeyDown = (key: string,preventDefault: () => void) => {\n        if (key===\"Escape\") {\n            if (searchInputRef.current) searchInputRef.current.blur();\n        };\n        if (key===\"ArrowUp\") {\n            preventDefault();\n            searchBarComm.notifyMeOnArrowUpPressed();\n        }\n        if (key===\"ArrowDown\") {\n            preventDefault();\n            searchBarComm.notifyMeOnArrowDownPressed();\n        }\n        if (key===\"Enter\") {\n            preventDefault();\n            searchBarComm.notifyMeOnEnterPressed();\n        }\n    };\n\n    const percentSideMargins = 10;\n\n    const inputBackAnimationRef = useRef<HTMLDivElement>();\n    const inputWrapperRef = useRef<HTMLDivElement>();\n\n    const backAnimationTransitionEndHandler = (target: HTMLDivElement,propertyName: string) => {\n        if ((inputBackAnimationRef.current===target) && (propertyName===\"width\") && (searchOpen.value)) {\n            searchBarComm.notifyMeOnPlaceholderAnimationEnd();\n        }\n    };    \n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"overlay\" style={overlayStyles}>\n                    <EventPane />\n                </div>\n                <div className=\"mobile-navbar-cover\" style={mobileNavbarCoverStyles}>\n                </div>\n                <div \n                    ref={inputBackAnimationRef} \n                    className=\"input-back-animation\" \n                    onTransitionEnd={(e) => backAnimationTransitionEndHandler(e.target as HTMLDivElement,e.propertyName)}\n                    style={animationStyles}\n                ></div>\n                <div ref={inputWrapperRef} className=\"input-wrapper\" style={inputWrapperStyles}>\n                    <input \n                        ref={searchInputRef} \n                        className=\"input\" \n                        type=\"text\" \n                        value={searchInputText.value} \n                        onChange={(e) => handleSearchInputChange(e.target.value)}\n                        onBlur={handleSearchInputBlur}\n                        onKeyDown={(e) => handleSearchInputKeyDown(e.code,e.preventDefault.bind(e))}\n                        placeholder={placeholderText}\n                    />\n                    <div className=\"search-icon\">\n                        <i className=\"icon-navbar-search\" />\n                    </div>\n                    <div className=\"search-close\">\n                        <i className=\"icon-navbar-cross\" />\n                        <EventPane onClick={handleSearchInputBlur} />\n                    </div>\n                </div>\n                <div ref={resultsRef} className={`results ${resultsClassName}`} style={{\n                    ...(overflows?{height: `${heightPerRow*maxRows.value}rem`}:{}),\n                    ...resultsStyles\n                }}>\n                    {searchResults.value.map((result,index) => <SearchResultItem key={result.productId} result={result} selected={selectedIndex.value===index} />)}\n                    {((searchInputTextRef.current.trim()!==\"\") && (searchResults.value.length===0))?<NoProductFound />:\"\"}\n                </div>\n            </div>\n            <style jsx>{resultsInjectedStyles}</style>\n            <style jsx>{`\n            .search {\n                --duration: var(--search-open-duration);\n            }\n\n            .no-search .results {\n                visibility: hidden;\n            }\n\n            .mobile-navbar-cover {\n                z-index: 98;\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: 22rem;\n                height: 80rem;\n                background-color: var(--color-header);\n                visibility: hidden;\n                opacity: 0;\n                transition: opacity var(--duration),visibility var(--duration);\n            }\n\n            .input-wrapper {\n                position: absolute;\n                height: 37rem;\n\n                z-index: 99;         \n                display: none; \n            }\n\n            .is-collection-type .input-wrapper {\n            }\n\n            .show-input-text .input-wrapper {\n                display: block; \n            }\n\n            .show-input-text-offscreen .input-wrapper {\n                display: block;\n                transform: translateX(-5000rem);\n            }\n\n            .input {\n                width: 100%;\n                font-size: 16rem;\n                padding-right: 10rem;\n                padding-top: 11rem;    \n                padding-bottom: 9rem;    \n                padding-left: 40rem;            \n                border-radius: 6rem;\n                color: #555;               \n                outline: none;\n                border: 1rem solid #aaa; \n            }\n\n            .input::placeholder {\n                color: #aaa;\n                font-size: 15rem;\n                font-family: \"Open Sans\", \"Arial\", \"Helvetica\", sans-serif;\n            }\n\n            .search-icon {\n                position: absolute;\n                font-size: 20rem;\n                color: #777;\n                left: 11rem;\n                top: 7rem;\n            }\n\n            .search-close {\n                position: absolute;\n                right: 5rem;\n                top: 3rem;\n                font-size: 14rem;\n                color: #aaa;\n                --size: 32rem;\n                width: var(--size);\n                height: var(--size);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n\n            .overlay {\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                bottom: 0rem;\n                z-index: 96;\n                background-color: rgba(0,0,0,0.5);                \n                opacity: 0;\n                visibility: hidden;\n                transition: opacity var(--duration),visibility var(--duration);\n            }\n\n            :not(.is-collection-type) .overlay {\n                z-index: 98;\n            }\n\n            .is-collection-type .overlay {\n                top: 150rem;\n            }\n\n            .open .overlay {\n                opacity: 1;\n                visibility: visible;\n            }\n\n            .results {\n                position: absolute;\n                background-color: #fff;\n                z-index: 99;\n                border: 1rem solid #666;\n            }\n\n            .is-collection-type .results {\n            }\n\n            .overflows .results {\n                overflow-y: auto;\n            }\n\n            .input-back-animation {\n                position: absolute;\n                height: 40rem;\n                background-color: #FFF;\n                z-index: 98;\n                border-radius: 6rem;\n                opacity: 0;\n                transition: width var(--duration), right var(--duration), opacity var(--duration);\n            }\n\n            .open .input-back-animation {\n                opacity: 1;\n            }\n\n            @media screen and (max-width: ${mobileCutoff}px) {\n                :not(.is-collection-type).open .mobile-navbar-cover {\n                    opacity: 1;\n                    visibility: visible;\n                }\n\n                .is-collection-type .input-wrapper {\n                }\n\n                .is-collection-type .results {\n                }\n\n                .is-collection-type .overlay {\n                }\n\n                input {\n                    font-size: 15rem;\n                }\n            }\n\n            @media screen and (max-width: ${miniWidthCutoff}px) {\n                .input::placeholder,.input {\n                    font-size: 14rem;\n                }\n\n                .input {\n                    padding-top: 12rem;    \n                    padding-bottom: 10rem;    \n                }\n            }            \n            `}</style>\n        </>\n    );\n}","export type WindowMessageEvent = {\n    type: string;\n};\n\ntype Subscription = {\n    types: string[];\n    cb: (event: WindowMessageEvent) => void;\n};\n\nclass WindowMessages {\n    private initialized = false;\n    private subscriptions: Subscription[] = []\n\n    initialize() {\n        if (this.initialized) return;\n        window.onmessage = (e: MessageEvent<WindowMessageEvent>) => {            \n            this.subscriptions.forEach(({types,cb}) => {\n                if (types.indexOf(e.data?.type)!==-1) {\n                    cb(e.data);\n                }\n            });\n        };\n        this.initialized = true;\n    }\n\n    subscribe<T extends WindowMessageEvent = WindowMessageEvent>(types: string[],cb: (event: T) => void) {\n        const subObj = { \n            types,\n            cb\n        };\n        this.subscriptions.push(subObj);\n        \n        return () => {\n            const tmp = this.subscriptions.filter((sub) => sub!==subObj);\n            this.subscriptions.length = 0;\n            this.subscriptions.push(...tmp);\n        };\n    }\n}\n\nexport const libWindowMessages = new WindowMessages();","import { useRouter } from \"next/router\";\nimport { useContext, useEffect } from \"react\";\nimport { LayoutStateContext, SmileState } from \"../../contexts/layout_state\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { SmartState } from \"../../hooks/use_smart_state\";\nimport { libWindowMessages } from \"../../lib/windowmessages\";\nimport CenteredSpinner from \"../common/centered-spinner\";\nimport { EventPane } from \"../core/event_pane\";\n\ntype ReadyEvent = {\n    type: \"ready_from_iframe\";\n};\n\ntype CloseEvent = {\n    type: \"close_from_iframe\";\n};\n\ntype Event = ReadyEvent | CloseEvent;\n\n\nexport type SmileProps = {\n    smileState: SmartState<SmileState>;\n};\n\nexport default function Smile({smileState}:SmileProps)\n{\n    const { mobileDetect: { widthCutoff: mobileCutoff },smileAccessToken } = useContext(LayoutStateContext);\n\n    const reactRouter = useRouter();\n    const urlPath = reactRouter.asPath.split(\"?\")[0];\n\n    const cssStateManager = useCssStateManager([\"smile\"]);\n    cssStateManager.useProperty(smileState.value===\"iframe-normal\",\"iframe-normal\");\n    cssStateManager.useProperty(smileState.value===\"login-confirmation\",\"login-confirmation\");    \n    const iframeVisible = cssStateManager.useState(false,\"iframe-visible\")\n\n    const clickHandler = () => {\n        smileState.value = \"none\";\n    };\n\n    useEffect(() => {\n        return libWindowMessages.subscribe<Event>([\"ready_from_iframe\",\"close_from_iframe\"],(event) => {\n            if (event.type===\"ready_from_iframe\") {\n                iframeVisible.value = true;\n            }\n            else if (event.type===\"close_from_iframe\") {\n                smileState.value = \"none\";\n            }\n        });\n    },[]);\n\n    useEffect(() => {                \n        if (smileState.value===\"iframe-normal\") {\n            iframeVisible.value = false;\n        }\n    },[smileState.value]);\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"overlay\">\n                    <div className=\"spinner-wrapper\">\n                        <CenteredSpinner />\n                    </div>\n                    <EventPane onClick={clickHandler} />\n                </div>\n                {(smileState.value===\"iframe-normal\")?(\n                    <div className=\"iframe-wrapper\">                        \n                        <iframe frameBorder=\"0\" src={smileAccessToken?`https://d20kvjti7j73kv.cloudfront.net?smile_access_token=${encodeURIComponent(smileAccessToken)}&smile_status=success`:`https://d20kvjti7j73kv.cloudfront.net${urlPath}#smile-home`} allowTransparency></iframe>\n                    </div>\n                ):\"\"}     \n                {(smileState.value===\"login-confirmation\")?(\n                    <div className=\"check-your-email-wrapper hori-verti-centered\">\n                        <div className=\"check-your-email\">\n                            <div className=\"mail-icon hori-verti-centered\">\n                                <i className=\"icon-mail\"></i>                                \n                            </div>\n                            <div className=\"title\">Check your email</div>\n                            <div className=\"text\">We just sent you a secure link you can use to sign in to your account - no password needed!</div>\n                            <div className=\"cross hori-verti-centered\">\n                                <i className=\"icon-navbar-cross\"></i>                                \n                                <EventPane onClick={clickHandler} />\n                            </div>\n                        </div>\n                    </div>\n                ):\"\"}                \n            </div>\n            <style jsx>{`\n            .smile {\n                --duration: 0.3s;\n                position: fixed;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;\n                opacity: 0;\n                visibility: hidden;\n                transition: opacity var(--duration),visibility var(--duration);                \n                z-index: 1010;\n            }\n\n            .smile.iframe-normal,.smile.login-confirmation {\n                opacity: 1;\n                visibility: visible;\n            }\n\n            .overlay {\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;                \n                background-color: rgba(0,0,0,0.5);\n            }\n\n            .spinner-wrapper {\n                position: absolute;\n                right: 0rem;\n                bottom: 0rem;\n                height: 316rem;\n                width: 400rem;\n                opacity: 0;\n            }\n\n            .iframe-normal .spinner-wrapper {\n                opacity: 1;\n            }\n\n            .iframe-visible .spinner-wrapper {\n                opacity: 0;\n            }\n\n            .iframe-wrapper {\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;                \n                transform: translateX(-100%);\n            }\n\n            .iframe-visible .iframe-wrapper {\n                transform: translateX(0rem);\n            }\n\n            .iframe-wrapper iframe {\n                background-color: transparent;\n                width: 100%;\n                height: 100%;\n            }\n\n            .check-your-email-wrapper {\n                pointer-events: none;\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;                \n            }\n\n            .check-your-email {\n                pointer-events: all;\n                position: relative;\n                width: 380rem;\n                height: 220rem;\n                background-color: #fff;\n                border-radius: 10rem;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n            }\n\n            .check-your-email .mail-icon {\n                --size: 60rem;\n                font-size: 24rem;\n                color: #000;\n                background-color: #f5f5f5;\n                padding: 10rem;\n                margin-top: 25rem;\n                width: var(--size);\n                height: var(--size);\n                border-radius: var(--size);\n            }\n\n            .check-your-email .title {\n                margin-top: 15rem;\n                font-size: 15rem;\n                font-weight: 600;\n                color: #444;                \n            }\n\n            .check-your-email .text {\n                margin-top: 25rem;\n                font-size: 13rem;\n                color: #444;\n                text-align: center;\n                padding: 0rem 30rem;\n            }\n\n            .check-your-email .cross {\n                --size: 40rem;\n                --padding: 6rem;\n                font-size: 12rem;\n                width: var(--size);\n                height: var(--size);\n                position: absolute;\n                right: var(--padding);\n                top: var(--padding);\n                color: #aaa;\n                transition: color 0.3s,background-color 0.3s;\n            }\n\n            .check-your-email .cross.hover {\n                color: #888;\n            }\n\n            .check-your-email .cross.touchdown {\n                background-color: rgba(0,0,0,0.04);\n            }\n\n            @media screen and (max-width: ${mobileCutoff}px) {\n                .spinner-wrapper {\n                    height: 100%;\n                    width: 100%;\n                    display: flex;\n                    flex-direction: column;\n                    justify-content: center;\n                }               \n            }\n            `}</style>\n        </>\n    );\n}","import { useCssStateManager } from \"../hooks/use_css_state_manager\";\nimport { EditOrderOrder } from \"../lib/api/editorder\";\nimport { cart } from \"../lib/services/cart/cart\";\n\nexport type EditBottomBarProps = {\n    editOrder?: EditOrderOrder;\n};\n\nexport default function EditBottomBar({editOrder}:EditBottomBarProps)\n{\n    const cssStateManager = useCssStateManager([\"edit-bottom-bar\"]);\n    if (!editOrder) return null;\n    const { name,customer } = editOrder;\n    const centerText = cart.editOrderIsCreate?\"Creating Order\":`Editing ${(editOrder.orderType===\"draft\")?\"Draft \":\"\"}Order`;\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"name\">{name}</div>\n                <div className=\"center hori-verti-centered\">{centerText}</div>\n                <div className=\"customer\">\n                    {customer?(<>\n                        <div>{customer.displayName}</div>\n                        <div className=\"email\">{customer.email}</div>\n                    </>):<><br />No Customer<br/><br/> </>}\n                </div>\n            </div>\n            <style jsx>{`\n            .edit-bottom-bar {\n                position: fixed;\n                z-index: 50;\n                bottom: 0rem;\n                left: 0rem;\n                right: 0rem;\n                /* height: 200rem; */\n                background-color: blue;\n                color: #FFF;\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                padding: 7rem 20rem;\n                font-size: 18rem;\n            }\n            .name {\n                font-size: 16rem;\n            }\n            .center {\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;\n            }\n            .customer {\n                font-size: 14rem;\n                text-align: right;\n            }\n\n            .email {\n                color: #ccc;\n                margin-top: 3rem;\n            }\n            `}</style>\n        </>\n    );\n}","import { useContext, useEffect, useRef } from \"react\";\nimport { LayoutStateContext } from \"../contexts/layout_state\";\nimport { useCssStateManager } from \"./use_css_state_manager\";\nimport { useSmartState } from \"./use_smart_state\";\n\nexport type ErrorSlideShowProps = {\n    message: string;\n};\n\nexport default function ErrorSlideShow({message}:ErrorSlideShowProps)\n{\n    const cssStateManager = useCssStateManager([\"error-slideshow\"]);\n    cssStateManager.useProperty(message!==\"\",\"has-message\");\n    const { scalePixelToRem } = useContext(LayoutStateContext);\n    \n    const height = useSmartState(0);\n\n    const inlineRef = useRef<HTMLDivElement>();\n    const marginBottom = 4;\n\n    useEffect(() => {\n        if (message.length>0) {\n            setTimeout(() => {\n                if (inlineRef.current) {\n                    const { current: inlineElem } = inlineRef;\n                    height.value = scalePixelToRem(inlineElem.offsetHeight)+marginBottom;\n                }\n            },100);\n        }\n        else {\n            height.value = 0;\n        }\n    },[message.length>0]);\n    \n    return (\n        <>\n            <div className={cssStateManager.getClassNames()} style={{\n                    height: `${height.value}rem`\n                }}>\n                <div ref={inlineRef} >\n                    {message}\n                </div>\n            </div>\n            <style jsx>{`\n            .error-slideshow {\n                --duration: 0.3s;\n                transition: height var(--duration);\n                overflow: hidden;\n                text-align: center;\n                color: #f00;\n                font-size: 14rem;\n            }\n            `}</style>\n        </>\n    );\n}\n\nexport const useErrorSlideShow = () => {    \n    const message = useSmartState(\"\");\n\n    const actions = {\n        show(messageText: string) {            \n            message.value = messageText;\n        },\n        close() {\n            message.value = \"\";\n        }\n    };\n\n    const component = <ErrorSlideShow message={message.value} />;\n\n    return {\n        actions,\n        component\n    };\n};","import serverRefs from \"../../server-refs.json\";\nimport { misc } from \"../misc\";\n\nclass ApiBugReporter {\n    async submitBugReport(email: string,name: string,description: string) {\n        const baseUrl = (process.env.NODE_ENV===\"development\")?\"http://localhost:9000\":serverRefs.apis.api;\n        let url = `${baseUrl}/bugreport`;\n\n        const res = await fetch(url,{\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                email,\n                name,\n                description\n            })\n        });\n        const jsonRes = await res.json();\n        if (jsonRes?.type===\"error\") {\n            throw new Error(jsonRes?.errorMessage || \"Unexpected response from server\");\n        }\n        else if (jsonRes?.type===\"success\") {\n            return;\n        }\n        else {\n            throw new Error(\"Unexpected response from server\");\n        }\n    }\n}\nexport const apiBugReporter = new ApiBugReporter();","import { useContext, useRef } from \"react\";\nimport { LayoutStateContext } from \"../contexts/layout_state\";\nimport { useCssStateManager } from \"../hooks/use_css_state_manager\";\nimport { useErrorSlideShow } from \"../hooks/use_error_slide_show\";\nimport { SmartState, useSmartState } from \"../hooks/use_smart_state\";\nimport { apiBugReporter } from \"../lib/api/bugreporter\";\nimport CenteredSpinner from \"./common/centered-spinner\";\nimport { EventPane } from \"./core/event_pane\";\n\nexport type DialogSingleButtonProps = {\n    caption: string;\n    onClick?: () => void;\n};\n\nfunction DialogSingleButton({caption,onClick = () => {}}:DialogSingleButtonProps)\n{\n    const cssStateManager = useCssStateManager([\"dialog-single-button\"],{horiVertiCentered: true});\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"button\">\n                    {caption}\n                    <EventPane onClick={onClick} hoverOnTouchDown />\n                </div>\n            </div>\n            <style jsx>{`\n            .dialog-single-button {\n                margin-top: 10rem;\n            }\n\n            .button {\n                background-color: #607afd;\n                color: #fff;\n                padding: 8rem 26rem;\n                border-radius: 6rem;\n                position: relative;\n                opacity: 0.8;\n                font-size: 15rem;\n            }\n\n            .button.hover {\n                opacity: 1;\n                transition: opacity 0.3s;\n            }\n            `}</style>\n        </>\n    );\n}\n\n\nexport type DialogProps = {\n    onClose?: () => void;\n    show: boolean;\n    message: string;\n    buttonCaption: string;\n};\n\nexport function Dialog({onClose = () => {},show,message,buttonCaption}:DialogProps) {\n    const cssStateManager = useCssStateManager([\"dialog\"],{horiVertiCentered: true});\n    cssStateManager.useProperty(show,\"show\");\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"form\">\n                    <div className=\"text\">\n                        {message}\n                    </div>\n                    <DialogSingleButton caption={buttonCaption} onClick={onClose} />\n                </div>\n            </div>\n            <style jsx>{`\n            .dialog {\n                --duration: 0.4s;\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;\n                opacity: 0;\n                visibility: hidden;\n                transition: opacity var(--duration),visibility var(--duration);\n                pointer-events: none;\n                padding: 0rem 10rem;\n            }\n\n            .dialog.show {\n                opacity: 1;\n                visibility: visible;\n            }\n\n            .form {\n                position: relative;\n                width: 100%;\n                max-width: 500rem;\n                /* height: 100rem; */\n                background-color: white;\n                border-radius: 10rem;\n                padding: 30rem 40rem;\n                padding-bottom: 25rem;\n            }\n            .text {\n                font-size: 15rem;\n                padding-bottom: 15rem;\n                text-align: center;\n            }\n            `}</style>\n        </>\n    );\n}\n\nexport type SuccessDialogProps = {\n    onClose?: () => void;\n    show: boolean;\n};\n\nfunction SuccessDialog({onClose = () => {},show}:SuccessDialogProps) {\n    return <Dialog {...{onClose,show}} message=\"Thank you for helping us improve the site. We will be looking into your bug report very soon.\" buttonCaption=\"Close\" />;\n    // const cssStateManager = useCssStateManager([\"success-dialog\"],{horiVertiCentered: true});\n    // cssStateManager.useProperty(show,\"show\");\n\n    // return (\n    //     <>\n    //         <div className={cssStateManager.getClassNames()}>\n    //             <div className=\"form\">\n    //                 <div className=\"text\">\n    //                     Thank you for helping us improve the site. We will be looking into your bug report very soon.\n    //                 </div>\n    //                 <DialogSingleButton caption=\"Close\" onClick={onClose} />\n    //             </div>\n    //         </div>\n    //         <style jsx>{`\n    //         .success-dialog {\n    //             --duration: 0.4s;\n    //             position: absolute;\n    //             left: 0rem;\n    //             right: 0rem;\n    //             top: 0rem;\n    //             bottom: 0rem;\n    //             opacity: 0;\n    //             visibility: hidden;\n    //             transition: opacity var(--duration),visibility var(--duration);\n    //             pointer-events: none;\n    //             padding: 0rem 10rem;\n    //         }\n\n    //         .success-dialog.show {\n    //             opacity: 1;\n    //             visibility: visible;\n    //         }\n\n    //         .form {\n    //             position: relative;\n    //             width: 100%;\n    //             max-width: 500rem;\n    //             /* height: 100rem; */\n    //             background-color: white;\n    //             border-radius: 10rem;\n    //             padding: 30rem 40rem;\n    //             padding-bottom: 25rem;\n    //         }\n    //         .text {\n    //             font-size: 15rem;\n    //             padding-bottom: 15rem;\n    //             text-align: center;\n    //         }\n    //         `}</style>\n    //     </>\n    // );\n}\n\n\nexport type BugReporterProps = {\n    open: SmartState<boolean>;\n};\n\nexport default function BugReporter({open}:BugReporterProps)\n{\n    const cssStateManager = useCssStateManager([\"bug-reporter\"],{horiVertiCentered: true});\n    cssStateManager.useProperty(open.value,\"open\");\n    const working = cssStateManager.useState(false,\"working\");\n    const showForm = useSmartState(true);\n    cssStateManager.useProperty(showForm.value && open.value,\"show-form\");\n    const { resetBugReporter } = useContext(LayoutStateContext);\n\n    const email = useSmartState(\"\");\n    const name = useSmartState(\"\");\n    const description = useSmartState(\"\");\n\n    const errorSlideShow = useErrorSlideShow();\n\n    const closeHandler = () => {\n        open.value = false;\n    };\n\n    const submitClickHandler = async () => {\n        let { value: emailValue } = email;\n        let { value: nameValue } = name;\n        let { value: descriptionValue } = description;\n        const errorMessage = (() => {\n            emailValue = emailValue.trim();\n            nameValue = nameValue.trim();\n            descriptionValue = descriptionValue.trim();\n            if (!emailValue) return \"Your email address is required\";\n            if (!/.+@.+/.test(emailValue)) return \"The email address you provided is not valid\";\n            if (descriptionValue.length<20) return \"The bug description must be at least 20 characters long\";\n            return null;    \n        })();\n        if (errorMessage) {\n            errorSlideShow.actions.show(errorMessage);\n        }\n        else {\n            errorSlideShow.actions.close();\n\n            working.value = true;\n            try {\n                await apiBugReporter.submitBugReport(emailValue,nameValue,descriptionValue);\n                showSuccessDialog.value = true;\n                showForm.value = false;\n                // closeHandler();\n            }\n            catch (err) {\n                setTimeout(() => {\n                    errorSlideShow.actions.show(err.message);\n                    working.value = false;\n                },100);\n            }\n            \n        }        \n    };\n\n    const showSuccessDialog = useSmartState(false);\n\n    const containerRef = useRef<HTMLDivElement>();\n\n    const transitionEndHandler = (target: HTMLDivElement,propertyName: string) => {\n        if ((target===containerRef.current) && (propertyName===\"opacity\")) {\n            if (open.value) {\n                const emailInputElem = target.querySelector(\"input.email\") as HTMLInputElement;\n                if (emailInputElem) {\n                    emailInputElem.focus();\n                }    \n            }\n            else {\n                resetBugReporter();\n            }\n        }\n    };\n\n    return (\n        <>\n            <div ref={containerRef} className={cssStateManager.getClassNames()} onTransitionEnd={(e) => transitionEndHandler(e.target as HTMLDivElement,e.propertyName)}>\n                <div className=\"overlay\">\n                    <EventPane onClick={closeHandler} />\n                </div>\n                <SuccessDialog onClose={closeHandler} show={showSuccessDialog.value && open.value} />\n                <div className=\"form\">\n                    <div className=\"close-wrapper\">\n                        <div className=\"close-frame\">\n                            <i className=\"icon-navbar-cross\" />\n                            <EventPane onClick={closeHandler} />\n                        </div>                        \n                    </div>\n                    <div className=\"title\">Report a bug</div>\n                    <div className=\"controls\">                        \n                        <input className=\"email\" type=\"text\" placeholder=\"Email\" value={email.value} onChange={(e) => {errorSlideShow.actions.close();email.value = e.target.value}} />\n                        <input type=\"text\" placeholder=\"Name (optional)\" value={name.value} onChange={(e) => {errorSlideShow.actions.close(); name.value = e.target.value}} />\n                        <textarea \n                            placeholder=\"Description\" \n                            value={description.value}\n                            onChange={(e) => {errorSlideShow.actions.close();description.value = e.target.value}}\n                        />\n                    </div>\n                    {errorSlideShow.component}\n                    <div className=\"spinner-wrapper\">\n                        <div className=\"spinner-frame\">\n                            <CenteredSpinner scale={0.6} />\n                        </div>\n                    </div>\n                    <div className=\"button-wrapper hori-verti-centered\">\n                        <div className=\"button\">\n                            Submit\n                            <EventPane onClick={submitClickHandler} hoverOnTouchDown disabled={working.value} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <style jsx>{`\n            .bug-reporter {\n                --duration: 0.4s;\n                position: fixed;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;\n                z-index: 1500;\n                opacity: 0;\n                visibility: hidden;\n                transition: opacity var(--duration),visibility var(--duration);\n                padding: 0rem 10rem;\n            }\n\n            .close-wrapper {\n                position: relative;\n                height: 0rem;\n            }\n\n            .close-frame {\n                position: absolute;\n                right: -21rem;\n                top: -6rem;\n                width: 34rem;\n                height: 34rem;\n                text-align: center;\n                padding-top: 8rem;\n                font-size: 13rem;\n                color: #aaa;\n            }\n\n            .close-frame.touchdown {\n                background-color: #eee;\n            }\n\n            .spinner-wrapper {\n                position: relative;\n                height: 0rem;\n                display: none;\n            }\n\n            .working .spinner-wrapper {\n                display: block;\n            }\n\n            .spinner-frame {\n                position: absolute;\n                right: 0rem;\n                top: 15rem;\n                width: 34rem;\n                height: 50rem;\n            }\n\n            .open {\n                opacity: 1;\n                visibility: visible;                \n            }\n\n            .controls {\n                padding-top: 0rem;\n            }\n\n            .button-wrapper {\n\n            }\n\n            .controls input,.controls textarea {\n                width: 100%;\n                border: 1rem solid #aaa;\n                border-radius: 3rem;\n                padding: 10rem 10rem;\n                margin-top: 15rem;\n                font-family: Arial;           \n                outline-color: #999;     \n            }\n\n            .controls input::placeholder,.controls textarea::placeholder {\n                color: #aaa;\n            }   \n\n            .controls textarea {\n                height: 150rem;\n                resize: vertical;\n            }                    \n\n            .form {\n                --duration: 0.4s;\n                position: relative;\n                width: 100%;\n                max-width: 500rem;\n                /* height: 100rem; */\n                background-color: white;\n                border-radius: 10rem;\n                padding: 15rem 30rem;\n                opacity: 0;\n                visibility: hidden;\n                transition: opacity var(--duration),visibility var(--duration);\n            }\n\n            .show-form .form {\n                opacity: 1;\n                visibility: visible;\n            }\n\n            .title {\n                text-align: center;\n                color: #555;\n                font-weight: 400;\n            }\n\n            .overlay {\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;\n                background-color: rgba(0,0,0,0.45);\n            }\n\n            .button-wrapper {\n                margin-top: 10rem;\n            }\n\n            .button {\n                background-color: #607afd;\n                color: #fff;\n                padding: 8rem 26rem;\n                border-radius: 6rem;\n                position: relative;\n                opacity: 0.8;\n                font-size: 15rem;\n            }\n\n            .working .button {\n                background-color: #aaa;\n            }\n\n            .button.hover {\n                opacity: 1;\n                transition: opacity 0.3s;\n            }\n            `}</style>\n        </>\n    );\n}","import { useRouter } from \"next/router\";\nimport { useCssStateManager } from \"../hooks/use_css_state_manager\";\nimport { SmartState } from \"../hooks/use_smart_state\";\nimport { misc } from \"../lib/misc\";\nimport { Dialog } from \"./bug-reporter\";\nimport { EventPane } from \"./core/event_pane\";\n\nexport type SalesStartEndNoticeProps = {\n    open: SmartState<boolean>;\n    message: string;\n    fromCheckout: boolean;\n};\n\nexport default function SalesStartEndNotice({open,message,fromCheckout}:SalesStartEndNoticeProps) {\n    const cssStateManager = useCssStateManager([\"sales-start-end-notice\"]);\n    cssStateManager.useProperty(open.value,\"open\");\n\n    const reactRouter = useRouter();\n\n    const closeHandler = () => {\n        setTimeout(() => {\n            if (fromCheckout) {\n                window.location.href = misc.addQueryParamToUrl(window.location.href,\"from-checkout\",\"true\");\n            }\n            else {\n                reactRouter.reload();\n            }\n        },0);\n    };\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"overlay\">\n                    <EventPane onClick={closeHandler} />\n                </div>\n                <Dialog show onClose={closeHandler} message={message} buttonCaption=\"Continue\" />\n            </div>\n            <style jsx>{`\n            .sales-start-end-notice {\n                --duration: 0.4s;\n                position: fixed;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;\n                z-index: 1501;\n                opacity: 0;\n                visibility: hidden;\n                transition: opacity var(--duration),visibility var(--duration);\n                padding: 0rem 10rem;\n            }\n\n            .open {\n                opacity: 1;\n                visibility: visible;                \n            }\n\n            .overlay {\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;\n                background-color: rgba(0,0,0,0.45);\n            }\n            `}</style>\n        </>\n    );\n}","import { CSSProperties, useEffect, useRef } from \"react\";\nimport { useCssStateManager } from \"../../hooks/use_css_state_manager\";\nimport { useSmartState } from \"../../hooks/use_smart_state\";\n\nexport type LinearTopWorkingIndicatorProps = {\n    running: boolean;\n};\n\ntype PhaseSide = {\n    size: number;\n    speed: number;\n};\n\ntype Phase = {\n    left: PhaseSide;\n    right: PhaseSide;\n};\n\nexport default function LinearTopWorkingIndicator({running}:LinearTopWorkingIndicatorProps) {\n    const cssStateManager = useCssStateManager([\"lineartopworkingindicator\"]);\n    cssStateManager.useProperty(running,\"running\");\n    const runningRef = useRef(running);\n    runningRef.current = running;\n\n    const phases: Phase[] = [{\n        left: {\n            size: 0,\n            speed: 0\n        },\n        right: {\n            size: 1,\n            speed: 0\n        }\n    },{\n        left: {\n            size: 0.0001,\n            speed: 1\n        },\n        right: {\n            size: 0.5,\n            speed: 1\n        }\n    },{\n        left: {\n            size: 0.5,\n            speed: 1\n        },\n        right: {\n            size: 0,\n            speed: 1\n        }\n    },{\n        left: {\n            size: 1,\n            speed: 0.6\n        },\n        right: {\n            size: 0,\n            speed: 0\n        }\n    },{\n        left: {\n            size: 0,\n            speed: 0.0001\n        },\n        right: {\n            size: 1,\n            speed: 0.0001\n        }\n    },{\n        left: {\n            size: 0.0001,\n            speed: 0.9\n        },\n        right: {\n            size: 0.4,\n            speed: 0.9\n        }\n    },{\n        left: {\n            size: 1,\n            speed: 0.7\n        },\n        right: {\n            size: 0,\n            speed: 0.6\n        }\n    },{\n        left: {\n            size: 0,\n            speed: 0.0001\n        },\n        right: {\n            size: 1,\n            speed: 0.0001\n        }\n    }];\n    const phaseIndex = useSmartState(0);\n\n    const leftSize = phases[phaseIndex.value].left.size;\n    const leftSpeed = phases[phaseIndex.value].left.speed;\n    const leftStyles: CSSProperties = {\n        width: `${leftSize*100}%`,\n        transition: `width ${leftSpeed}s linear`\n    };\n    const rightSize = phases[phaseIndex.value].right.size;\n    const rightSpeed = phases[phaseIndex.value].right.speed;\n    const rightStyles: CSSProperties = {\n        width: `${rightSize*100}%`,\n        transition: `width ${rightSpeed}s linear`\n    };\n    useEffect(() => {\n        if (running) {\n            phaseIndex.value = 1;\n        }\n        else {\n            phaseIndex.value = 7;\n        }\n    },[running]);\n\n    const refLeft = useRef<HTMLDivElement>();\n\n    const handleTransitionEnd = (target: HTMLDivElement,propertyName: string) => {\n        if ((target===refLeft.current) && (propertyName===\"width\") && runningRef.current) {\n            phaseIndex.value = (phaseIndex.value===7)?1:phaseIndex.value+1;\n        }\n    };\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div ref={refLeft} className=\"left strip\" style={leftStyles} onTransitionEnd={(e) => handleTransitionEnd(e.target as HTMLDivElement,e.propertyName)}></div>\n                <div className=\"right strip\" style={rightStyles}></div>\n            </div>\n            <style jsx>{`\n            .lineartopworkingindicator {\n                position: fixed;\n                left: 0rem;\n                top: 0rem;\n                height: 4rem;\n                width: 100%;\n                z-index: 10000;\n                /* background-color: #a1a1fd; */\n                background-color: #5d5de5;\n                opacity: 0;\n                visibility: hidden;\n                --duration: 0.3s;\n                transition: visibility var(--duration),opacity var(--duration);\n            }\n\n            .running {\n                opacity: 1;\n                visibility: visible;                \n            }\n\n            .strip {\n                position: absolute;\n                top: 0rem;\n                height: 100%;\n                background-color: #a1a1fd;\n            }\n            .left {\n                left: 0rem;\n            }\n            .right {\n                right: 0rem;\n            }\n            `}</style>\n        </>\n    );\n}","import React, { Fragment, useContext, useEffect, useRef, useState } from \"react\";\nimport Head from \"next/head\"\nimport Navbar from \"./navbar\"\nimport Footer from \"./footer\"\nimport { MiniNavBar } from \"./mini_navbar\"\nimport { SideMenu } from \"./side_menu\"\nimport { LayoutStateContext, MobileDetectType, MobileDetectUseEffectCallback, ScaleFactorDetectUseEffectCallback, SearchOpenType, SmileState, TCollectionItems, TLayoutState, TManagedScrollTopAnimationDuration } from \"../contexts/layout_state\";\nimport { misc } from \"../lib/misc\";\nimport { DimensionsStateContext, TDimensionsState, useSettableValue } from \"../contexts/dimensions_state\";\nimport { useRouter } from \"next/router\";\nimport { Router } from 'next/dist/client/router';\nimport collectionItems from \"../config/collections.json\";\nimport { CollectionFilterState, CollectionFilterStateContext, FilterBarSubscriptionCB, FilterMap, SortOrder } from \"../contexts/collection_filter_state\";\nimport { routerTransition, RouterTransition } from \"./core/router_transition\";\nimport { createCart } from \"../lib/api/storefront\";\nimport SideCart from \"./side_cart\";\nimport { cart, useCart } from \"../lib/services/cart/cart\";\nimport MobileCartHolder from \"./mobile_cart_holder\";\nimport { SmartState, useSmartState } from \"../hooks/use_smart_state\";\nimport { getWindowSize, TWindowSize, WindowSizeContext } from \"../contexts/window_size\";\nimport { useDesktopScrollbar } from \"../hooks/use_desktop_scrollbar\";\nimport CreatingCheckout from \"./creating_checkout\";\nimport { useReviewsHeader } from \"../hooks/use_reviews_header\";\nimport { useBoughtTogetherClient } from \"../hooks/use_bought_together_client\";\nimport { libSearch } from \"../lib/search\";\nimport Search from \"./search\";\nimport { SearchBarComm } from \"./navbar/promo_left\";\nimport { libWindowMessages } from \"../lib/windowmessages\";\nimport { prebuildData } from \"../lib/prebuild-data\";\nimport AgeCheckerNet from \"./integrations/age-checker-net\";\nimport Smile from \"./integrations/smile\";\nimport EditBottomBar from \"./edit-bottom-bar\";\nimport BugReporter from \"./bug-reporter\";\nimport serverRefs from \"../server-refs.json\";\nimport SalesStartEndNotice from \"./sales-start-end-notice\";\nimport { useAccount } from \"../hooks/use_account\";\nimport AccountBar from \"./account-bar\";\nimport LinearTopWorkingIndicator from \"./common/linear-top-working-indicator\";\nimport { apiLocation } from \"../lib/api/location\";\n\nexport const getInjectableHeaderTags = (title: string,description: string,url: string) => {\n    url = `https://www.tbdliquids.com${url}`;\n    return (\n      <>\n          <title>{title}</title>\n          <meta name=\"description\" content={description} />\n          <link rel=\"canonical\" href={url} />\n          <meta property=\"og:title\" content={title} />\n          <meta property=\"og:description\" content={description} />\n          <meta property=\"og:url\" content={url} />\n      </>\n    );\n};\n  \nexport default function Layout({ children,windowSize }: {children: React.ReactNode; windowSize: TWindowSize}): JSX.Element {\n    const isFirstRender = useSmartState(true);\n\n    const sideMenuOpenIdRef = useRef(0);\n    const [showSideMenu,setShowSideMenu] = useState(false);\n    const [fontReady,setFontReady] = useState(false);\n    const [importOpenSans,setImportOpenSans] = useState(false);\n    const { ref: pageRef,styles: pageStyles,className: pageClassName,injectedStyles,hideOverlayScrollbar: pageHideOverlayScrollbar } = useDesktopScrollbar();\n    const [innerPageLock,setInnerPageLock] = useState<{scrollHeight: number}>(null);\n\n    const { ref: pageHoriRef,styles: pageHoriStyles,className: pageHoriClassName,injectedStyles: pageHoriInjectedStyles } = useDesktopScrollbar();\n\n    const router = useRouter();\n    const routerRef = useRef(router);\n    routerRef.current = router;\n\n    const pageEventHandlersRef = useRef<{[eventName: string]: (() => void)[]}>({});\n\n    const routingTransitionIsOpenRef = useRef(false);\n\n    const salesNoticeMessageRef = useRef(\"\");\n    const salesNoticeFromCheckoutRef = useRef(false);\n    const salesNoticeOpen = useSmartState(false);\n\n    const openSalesNotice = (message: string,fromCheckout = false) => {\n        salesNoticeMessageRef.current = message;\n        salesNoticeFromCheckoutRef.current = fromCheckout;\n        salesNoticeOpen.value = true;\n    };\n\n    const loginPreloadedEmail = useSmartState(\"\");\n    const loginPreloadedType = useSmartState(\"\");\n    \n    const registerError = useSmartState(\"\");    \n\n    useEffect(() => {\n        if (isFirstRender.value) return;\n\n        const urlSearchParams = new URLSearchParams(window.location.search);\n        const params = Object.fromEntries(urlSearchParams.entries());        \n        if (params[\"from-checkout\"]===\"true\") {                        \n            router.push(misc.removeQueryParamsFromUrl(router.asPath,\"from-checkout\"));\n            setSideCartOpen(true);\n        }        \n        else if (params[\"smile_status\"]===\"success\") {\n            if (params[\"smile_access_token\"]) {\n                router.push(misc.removeQueryParamsFromUrl(router.asPath,\"smile_access_token\",\"smile_status\"));\n                openSmileIframe(params[\"smile_access_token\"] as string);\n            }\n            else {\n                router.push(misc.removeQueryParamsFromUrl(router.asPath,\"smile_status\"));                \n                smileState.value = \"login-confirmation\";    \n            }\n        }        \n        else if ((window.location.pathname===\"/login\") && (params[\"activated\"] || params[\"reset\"])) {\n            loginPreloadedEmail.value = params[\"activated\"] || params[\"reset\"];            \n            loginPreloadedType.value = params[\"activated\"]?\"activated\":\"reset\";\n            router.push(misc.removeQueryParamsFromUrl(router.asPath,\"activated\",\"reset\"));\n        }\n        else if ((window.location.pathname===\"/register\") && (params[\"error\"])) {\n            registerError.value = params[\"error\"];            \n            router.push(misc.removeQueryParamsFromUrl(router.asPath,\"error\"));\n        }\n    },[router.asPath,isFirstRender.value]);\n\n    const highlightIdsRef = useRef<string[]>([]);\n    const flashIdsRef = useRef<string[]>([]);\n\n    const scaleFactor = useSmartState(1);\n    const screenRatio = useSmartState(1);\n\n    const smallDesktopWidthCutoff = 1315;\n    const mobileWidthCutoff = 830;\n    const mobileSmallWidthCutoff = 600;\n    const mobileMiniScreenWidthCutoff = 380;\n    const mobileActive = useSmartState(-1);\n    const mobileActiveLiveCheck = () => {\n        // const scaleFactorValue = calcScaleFactor();\n        // const scaleRemToPixel = (remValue: number) => remValue*scaleFactorValue;\n        const scaleRemToPixel = (x: number) => x;\n        return (getWindowSize().width<=scaleRemToPixel(mobileWidthCutoff));\n    };\n    const mobileSmallScreen = useSmartState(-1);\n    const mobileSmallScreenLiveCheck = () => {\n        // const scaleFactorValue = calcScaleFactor();\n        // const scaleRemToPixel = (remValue: number) => remValue*scaleFactorValue;\n        const scaleRemToPixel = (x: number) => x;\n        return (getWindowSize().width<=scaleRemToPixel(mobileSmallWidthCutoff));\n    };\n    const mobileMiniScreen = useSmartState(-1);\n    const mobileMiniScreenLiveCheck = () => {\n        // const scaleFactorValue = calcScaleFactor();\n        // const scaleRemToPixel = (remValue: number) => remValue*scaleFactorValue;\n        const scaleRemToPixel = (x: number) => x;\n        return (getWindowSize().width<=scaleRemToPixel(mobileMiniScreenWidthCutoff));\n    };\n    const smallDesktopScreen = useSmartState(-1);\n    const smallDesktopScreenLiveCheck = () => {\n        // const scaleFactorValue = calcScaleFactor();\n        // const scaleRemToPixel = (remValue: number) => remValue*scaleFactorValue;\n        const scaleRemToPixel = (x: number) => x;\n        return (getWindowSize().width<=scaleRemToPixel(smallDesktopWidthCutoff));\n    };    \n\n    const calcScaleFactor = () => (window.screen.width>window.screen.height)?(window.screen.height/1080):1;\n\n    const reviewsHeader = useReviewsHeader();    \n    const boughtTogetherClient = useBoughtTogetherClient();\n\n    const mobileDetectUseEffect = (cb: MobileDetectUseEffectCallback,listenToChanges: React.DependencyList = [],type: MobileDetectType = \"main\") => {\n        const callbackRef = useRef(cb);\n        callbackRef.current = cb;\n\n        const selectListenValue = () => {\n            if (type===\"main\") {\n                return mobileActive.value;     \n            }\n            else if (type===\"small\") {\n                return mobileSmallScreen.value;     \n            }\n            else if (type===\"mini\") {\n                return mobileMiniScreen.value;     \n            }\n            else /* if (type===\"small_desktop\") */ {\n                return smallDesktopScreen.value;     \n            }\n        };\n\n        const liveCheck = () => {\n            if (type===\"main\") {\n                return mobileActiveLiveCheck();\n            }\n            else if (type===\"small\") {\n                return mobileSmallScreenLiveCheck();\n            }\n            else if (type===\"mini\") {\n                return mobileMiniScreenLiveCheck();\n            }\n            else /* if (type===\"small_desktop\") */ {\n                return smallDesktopScreenLiveCheck();\n            }\n        };\n\n        useEffect(() => {\n            callbackRef.current(liveCheck());\n        },[selectListenValue(),...listenToChanges]);\n    };\n    \n    const scaleFactorDetectUseEffect = (cb: ScaleFactorDetectUseEffectCallback,listenToChanges: React.DependencyList = []) => {\n        const callbackRef = useRef(cb);\n        callbackRef.current = cb;\n\n        useEffect(() => {\n            const scaleFactorValue = calcScaleFactor();\n            const scalePixelToRem = (pixelValue: number) => pixelValue/scaleFactorValue;\n            const scaleRemToPixel = (remValue: number) => remValue*scaleFactorValue;\n            callbackRef.current(scalePixelToRem,scaleRemToPixel);\n        },[scaleFactor.value,...listenToChanges]);\n    };\n\n    const searchBarOffsetLeft = useSmartState(0);\n    const searchInputTextPointer = useSmartState<SmartState<string>>(null);\n    const searchOpen = useSmartState(false);\n    const collectionSearchBarOpen = useSmartState(false);\n    const searchOpenType = useSmartState<SearchOpenType>(\"site-width\");\n    const searchCollectionIdRef = useRef(\"\");\n    const searchBarCommRef = useRef(new SearchBarComm());\n    const [sideCartOpen,setSideCartOpen] = useState(false);\n    const sideCartOpenRef = useRef(sideCartOpen);\n    sideCartOpenRef.current = sideCartOpen;\n\n    const pageMinWidth = 1315;    \n\n    const configuredBannerHeightRef = useRef({\n        height: -1\n    });\n\n    const openSearch = (type: SearchOpenType = \"site-width\",collectionId = \"\") => {\n        searchBarCommRef.current.notifyMeOnPlaceholderAnimationStart();\n        searchCollectionIdRef.current = collectionId;\n        searchOpenType.value = type;\n        searchOpen.value = true;\n    };\n\n    const isMobileActiveRef = useRef((mobileActive.value===1));\n    isMobileActiveRef.current = (mobileActive.value===1);\n\n    const isMobileSmallScreenRef = useRef((mobileSmallScreen.value===1));\n    isMobileSmallScreenRef.current = (mobileSmallScreen.value===1);\n\n    const isMiniScreenRef = useRef((mobileMiniScreen.value===1));\n    isMiniScreenRef.current = (mobileMiniScreen.value===1); \n\n    const isSmallDesktopScreenRef = useRef((smallDesktopScreen.value===1));\n    isSmallDesktopScreenRef.current = (smallDesktopScreen.value===1);     \n\n    const bugReporterOpen = useSmartState(false);\n    const bugReporterCounter = useSmartState(0);\n    const openBugReporter = () => {\n        bugReporterOpen.value = true;\n    };\n    const resetBugReporter = () => {\n        bugReporterCounter.value++;\n    };\n\n\n    const smileState = useSmartState<SmileState>(\"none\");\n    const smileAccessTokenRef = useRef(\"\");\n\n    const openSmileIframe = (accessToken = \"\") => {\n        smileAccessTokenRef.current = accessToken;\n        smileState.value = \"iframe-normal\";\n    };\n\n    const productPageLoadCounter = useSmartState(0);\n\n    const creatingCheckoutCaptionRef = useRef<string>(\"\");\n\n    const navbarHeaderRef = useRef<HTMLDivElement>();\n\n    const account = useAccount();\n\n    const widthCutoffStyleSection = (content: string) => {\n        return `@media screen and (max-width: ${mobileWidthCutoff}px) {\n            ${content}\n        }`;        \n    };\n\n    const clearLoginPreloaded = () => {\n        loginPreloadedEmail.value = \"\";\n        loginPreloadedType.value = \"\";\n    };\n\n    const linearTopWorkingIndicatorRunning = useSmartState(false);\n\n    const routerIsLocked = useSmartState(false);\n\n    const layoutStateContextValue: TLayoutState = {\n        routerIsLocked,\n        account,\n        linearTopWorkingIndicatorRunning,\n        registerError: registerError.value,\n        loginPreloadedEmail: loginPreloadedEmail.value,\n        loginPreloadedType: loginPreloadedType.value,\n        clearLoginPreloaded,\n        openSalesNotice,\n        navbarHeaderRef,\n        openBugReporter,\n        resetBugReporter,\n        creatingCheckoutCaptionRef,\n        productPageLoadCounter,\n        smileState,\n        smileAccessToken: smileAccessTokenRef.current,\n        openSmileIframe,\n        pageRef,\n        collectionSearchBarOpen,\n        searchCollectionId: searchCollectionIdRef.current,\n        openSearch,\n        configuredBannerHeight: configuredBannerHeightRef.current,\n        pageMinWidth,\n        sideCartOpenRef,\n        searchBarCommRef,\n        searchOpen,\n        searchOpenType,\n        searchInputTextPointer,\n        searchBarOffsetLeft,\n        reviewsHeader,\n        boughtTogetherClient,\n        mobileDetect: {\n            widthCutoff: mobileWidthCutoff,\n            widthCutoffStyleSection: widthCutoffStyleSection,\n            smallWidthCutoff: mobileSmallWidthCutoff,\n            miniWidthCutoff: mobileMiniScreenWidthCutoff,\n            smallDesktopWidthCutoff,\n            isActive: isMobileActiveRef,\n            isSmallScreen: isMobileSmallScreenRef,\n            isMiniScreen: isMiniScreenRef,\n            isSmallDesktopScreen: isSmallDesktopScreenRef,\n            mobileSmallScreenCutoff: mobileSmallWidthCutoff            \n        },        \n        mobileDetectUseEffect,\n        scaleFactorDetectUseEffect,\n        scaleFactor: scaleFactor.value,\n        screenRatio: screenRatio.value,\n        scalePixelToRem: (pixelValue: number) => pixelValue/scaleFactor.value,\n        scaleRemToPixel: (remValue: number) => remValue*scaleFactor.value,\n        sideMenu: {\n            openId: sideMenuOpenIdRef.current,\n            show: showSideMenu,\n            setShow: (value) => {\n                if (value) sideMenuOpenIdRef.current++;\n                setShowSideMenu(value);\n                if (value)\n                {\n                    document.body.classList.add(\"side_menu_open\");\n                }\n                else\n                {\n                    document.body.classList.remove(\"side_menu_open\");\n                }\n            }\n        },\n        collectionItems: collectionItems as TCollectionItems,        \n        page: {\n            addScrollEventListener(handler)\n            {\n                const { current: pageElem } = pageRef;\n                if (pageElem)\n                {\n                    const listener = () => \n                    {\n                        handler({top: pageElem.scrollTop,left: pageElem.scrollLeft,topMax: pageElem.scrollHeight-pageElem.clientHeight,leftMax: pageElem.scrollWidth-pageElem.clientWidth});\n                    };\n                    pageElem.addEventListener(\"scroll\",listener);\n                    return () => \n                    {\n                        pageElem.removeEventListener(\"scroll\",listener);\n                    };\n                }\n                else\n                {\n                    return () => {};\n                }                \n            },\n            hideOverlayScrollbar: () => {\n                pageHideOverlayScrollbar.value = true;\n            },\n            showOverlayScrollbar: () => {\n                pageHideOverlayScrollbar.value = false;\n            },\n            scrollTop()\n            {\n                const { current: pageElem } = pageRef;\n                return pageElem?pageElem.scrollTop:0;\n            },\n            scrollToTopWithCallback(cb: () => void,target = 0) {\n                target = Math.round(target);\n                if (layoutStateContextValue.page.scrollTop()===target) {\n                    cb();\n                }\n                else {\n                    layoutStateContextValue.page.scrollTo({top: target,behavior: \"smooth\"});\n                    misc.waitForCondition(() => {\n                        return (Math.abs(layoutStateContextValue.page.scrollTop()-target)<1);\n                    },cb);\n                };\n            },\n            setScrollTop(value: number)\n            {\n                const { current: pageElem } = pageRef;\n                if (pageElem)\n                {\n                    pageElem.scrollTop = value;\n                }\n            },\n            animateScrollTop(value: number,durationMilliseconds: number,cb: () => void = () => {})\n            {\n                const { current: pageElem } = pageRef;\n                if (pageElem)\n                {\n                    const startedAt = (new Date()).getTime();\n                    const startScrollTop = pageElem.scrollTop;\n                    const next = () => \n                    {\n                        const elapsed = Math.min((new Date()).getTime()-startedAt,durationMilliseconds);                        \n                        const t = elapsed/durationMilliseconds;\n                        const ratio = t * t * (3 - 2 * t);\n                        pageElem.scrollTop = startScrollTop+((ratio)*(value-startScrollTop));\n                        if (elapsed<durationMilliseconds) \n                        {\n                            requestAnimationFrame(next);\n                        }\n                        else\n                        {\n                            cb();\n                        }\n                    };\n                    requestAnimationFrame(next);\n                }\n            },\n            animateScrollTopManaged(target: number,{durationMs = 220,threshold = 200,direction = TManagedScrollTopAnimationDuration.Up},cb?: () => void)\n            {\n                const { page } = layoutStateContextValue;\n                let scrollTop = page.scrollTop();\n                if ((direction===TManagedScrollTopAnimationDuration.Up) && (scrollTop<=target)) return;\n                if ((direction===TManagedScrollTopAnimationDuration.Down) && (scrollTop>=target)) return;\n                if (scrollTop===target) return;\n\n                let duration = 0;\n\n                if (scrollTop>target)\n                {\n                    if ((scrollTop-target)>threshold) page.setScrollTop(scrollTop=target+threshold);\n                    duration = ((scrollTop-target)/threshold)*durationMs;\n                }\n                else \n                {\n                    if ((target-scrollTop)>threshold) page.setScrollTop(scrollTop=target-threshold);\n                    duration = ((target-scrollTop)/threshold)*durationMs;\n                }\n\n                page.animateScrollTop(target,duration,() =>\n                {\n                    if (cb) cb();\n                });\n            },\n            scrollLeft()\n            {\n                const { current: pageElem } = pageRef;\n                return pageElem?pageElem.scrollLeft:0;\n            },\n            setScrollLeft(value: number)\n            {\n                const { current: pageElem } = pageRef;\n                if (pageElem)\n                {\n                    pageElem.scrollLeft = value;\n                }\n            },\n            scrollTopMax()\n            {\n                const { current: pageElem } = pageRef;\n                return pageElem?pageElem.scrollHeight-pageElem.clientHeight:0;\n            },\n            scrollLeftMax()\n            {\n                const { current: pageElem } = pageRef;\n                return pageElem?pageElem.scrollWidth-pageElem.clientWidth:0;\n            },\n            scrollTo(options)\n            {\n                const { current: pageElem } = pageRef;\n                if (pageElem)\n                {\n                    pageElem.scrollTo(options);\n                }\n            },\n            scrollWidth()\n            {\n                const { current: pageElem } = pageRef;\n                return pageElem?pageElem.scrollWidth:0;\n            },\n            scrollHeight()\n            {\n                const { current: pageElem } = pageRef;\n                return pageElem?pageElem.scrollHeight:0;\n            },\n            clientWidth()\n            {\n                const { current: pageElem } = pageRef;\n                return pageElem?pageElem.clientWidth:0;\n            },\n            clientHeight()\n            {\n                const { current: pageElem } = pageRef;\n                return pageElem?pageElem.clientHeight:0;\n            },\n            addEventListener<K extends keyof HTMLElementEventMap>(type: K,listener: (this: HTMLDivElement,ev: HTMLElementEventMap[K]) => any)\n            {\n                const { current: pageElem } = pageRef;\n                if (pageElem) pageElem.addEventListener(type,listener);\n            },\n            removeEventListener<K extends keyof HTMLElementEventMap>(type: K,listener: (this: HTMLDivElement,ev: HTMLElementEventMap[K]) => any)\n            {\n                const { current: pageElem } = pageRef;\n                if (pageElem) pageElem.removeEventListener(type,listener);\n            },\n            scrollBarWidth()\n            {\n                const { current: pageElem } = pageRef;\n                return pageElem?pageElem.offsetWidth-pageElem.clientWidth:0;\n            },\n            lockScroll()\n            {\n                const { current: pageElem } = pageRef;\n                if (pageElem)\n                {\n                    setInnerPageLock({scrollHeight: pageElem.scrollHeight});\n                }\n            },\n            unlockScroll()\n            {\n                setInnerPageLock(null);\n            },\n            isScrollLocked: innerPageLock?true:false,\n            on(eventName,handler)\n            {\n                const { current: pageEventHandlers } = pageEventHandlersRef;\n                pageEventHandlers[eventName] = pageEventHandlers[eventName] || [];\n                if (pageEventHandlers[eventName].filter((h) => h===handler).length===0)\n                {\n                    pageEventHandlers[eventName].push(handler);\n                    if ((eventName===\"before-router-scroll-up\") && (routingTransitionIsOpenRef.current))\n                    {\n                        handler();\n                    }\n                }\n            },\n            off(eventName,handler)\n            {\n                const { current: pageEventHandlers } = pageEventHandlersRef;\n                if (pageEventHandlers[eventName])\n                {\n                    pageEventHandlers[eventName] = pageEventHandlers[eventName].filter((h) => h!==handler);\n                }\n            }\n        },\n        font: {\n            ready: fontReady,\n            setReady: (value) => {\n                setFontReady(value);\n            }\n        },\n        misc: {\n            filterBarItemClassNameIdentifier: \"__filterbar_controls_item__\"\n        },\n        sideCart: {\n            open({highlightIds = [],flashIds = []}: {highlightIds?: string[]; flashIds?: string[]} = {}) {\n                highlightIdsRef.current = [...highlightIds];\n                flashIdsRef.current = [...flashIds];\n                setSideCartOpen(true);\n            }\n        }\n    };    \n\n    useEffect(() => {\n        if (isFirstRender.value) return;\n\n        (window as any).prebuildData = prebuildData;\n        (window as any).cartController = cartController;\n        (window as any).misc = misc;\n        (window as any).apiLocation = apiLocation;        \n        (window as any).reactRouter = reactRouter;\n        libSearch.buildTable();\n        libWindowMessages.initialize();\n\n        let routeChangeCompleteHandler = () => \n        {\n            try\n            {\n                const { page } = layoutStateContextValue;\n                const { current: pageEventHandlers } = pageEventHandlersRef;\n                const duration = 220;\n                const threshold = 200;\n                if (page.scrollTop()>0)\n                {\n                    pageEventHandlers[\"before-router-scroll-up\"]?.forEach((h) => h());\n                    routingTransitionIsOpenRef.current = true;\n                    page.scrollToTopWithCallback(() => {\n                        setTimeout(() => {\n                            page.unlockScroll();\n                            pageEventHandlers[\"after-router-scroll-up\"]?.forEach((h) => h());\n                            routingTransitionIsOpenRef.current = false;    \n                        },0);\n                    })\n                }\n                else\n                {\n                    page.unlockScroll();\n                }    \n            }\n            finally\n            {\n                routerTransition.stop();\n            }            \n        };\n        Router.events.on(\"routeChangeComplete\",routeChangeCompleteHandler);\n        return () => \n        {\n            Router.events.off(\"routeChangeComplete\",routeChangeCompleteHandler);\n        };\n    },[isFirstRender.value]);\n\n    const navbarHeight = useSettableValue(0);\n    const bannerHeight = useSettableValue(0);\n    const miniNavbarHeight = useSettableValue(0);\n    const collectionGridHeight = useSettableValue(0);\n    const filterBarControlsHeight = useSettableValue(0);    \n    const scrollBottomPadding = useSettableValue(0);\n    \n    const dimensionsStateContextValue: TDimensionsState = {\n        navbarHeight,\n        bannerHeight,\n        miniNavbarHeight,\n        collectionGridHeight,\n        filterBarControlsHeight,\n        scrollBottomPadding\n    };    \n\n    const isSwitching = useSettableValue(false);\n\n    const processFilterBarAction = (cb: () => void) => {\n        layoutStateContextValue.page.scrollToTopWithCallback(cb);\n    };\n\n    const sortOrder = useSettableValue<SortOrder>(\"popular\",(fromValue,toValue) => \n    {\n        if (toValue!==fromValue)\n        {\n            processFilterBarAction(() => {\n                isSwitching.set(true);\n                layoutStateContextValue.page.lockScroll();\n                routerTransition.start();\n                if (refreshSwitch.value===0)\n                {\n                    refreshSwitch.set(1);\n                }\n                else if (refreshSwitch.value===2)\n                {\n                    refreshSwitch.set(3);\n                }                            \n            });\n        }\n    });\n    const filter = useSettableValue<FilterMap>({},(fromValue,toValue) => \n    {        \n        if (Object.keys(toValue).sort().join(\"-\")!==Object.keys(fromValue).sort().join(\"-\"))\n        {\n            processFilterBarAction(() => {\n                isSwitching.set(true);\n                layoutStateContextValue.page.lockScroll();\n                routerTransition.start();\n                if (refreshSwitch.value===0)\n                {\n                    refreshSwitch.set(1);\n                }\n                else if (refreshSwitch.value===2)\n                {\n                    refreshSwitch.set(3);\n                }                            \n            });\n        }\n    });\n    const refreshSwitch = useSettableValue(0);\n    \n    const collectionFilterStateContentValue: CollectionFilterState = {\n        sortOrder,\n        filter,\n        refreshSwitch,\n        isSwitching\n    };\n\n    useEffect(() => {\n        if (isFirstRender.value) return;\n\n        const fontFamily = \"Open Sans\";\n        if (misc.isFontAvailable(fontFamily))\n        {\n            setTimeout(() => setFontReady(true),0);\n        }\n        else\n        {            \n            setImportOpenSans(true);\n            misc.awaitFont(fontFamily,3000,() => \n            {\n                setFontReady(true);\n            });\n        }        \n    },[isFirstRender.value]);\n\n    const [pageInnerTranslateY,setPageInnerTranslateY] = useState(0);\n\n    const reactRouter = useRouter();\n    const hideLayout = (reactRouter.pathname===\"/preview/[id]\") || (reactRouter.pathname===\"/banner-height/[height]\");\n    \n    const onMobile = (windowSize.width<=600);\n\n    const cartOpenHandler = () => {        \n        setSideCartOpen(true);\n    };\n\n    const cartCloseHandler = () => {\n        highlightIdsRef.current = [];\n        flashIdsRef.current = [];\n        setSideCartOpen(false);\n    };\n\n    const cartController = useCart(isFirstRender.value);\n    const cartItemCount = cartController.getItemCount();\n    const mobileCartOpen = useSmartState(false);\n    const creatingCheckoutOpen = useSmartState(false);\n\n    useEffect(() => {\n        if (isFirstRender.value) return;\n\n        scaleFactor.value = calcScaleFactor();\n        screenRatio.value = window.screen.width/window.screen.height;        \n        mobileActive.value = mobileActiveLiveCheck()?1:0;        \n        mobileSmallScreen.value = mobileSmallScreenLiveCheck()?1:0;        \n        mobileMiniScreen.value = mobileMiniScreenLiveCheck()?1:0;        \n        smallDesktopScreen.value = smallDesktopScreenLiveCheck()?1:0;\n    },[`${windowSize.width},${windowSize.height}`,isFirstRender.value]);\n\n    if ((reactRouter.pathname.startsWith(\"/nov/\")) || (reactRouter.pathname.startsWith(\"/landing/\"))) {\n        return children as JSX.Element;\n    }   \n    \n    if (isFirstRender.value) {\n        prebuildData.registerOpenSalesNotice(openSalesNotice);\n        prebuildData.loadSnapshot();\n        prebuildData.processSales();        \n        isFirstRender.value = false;\n    }\n\n    const { general: { bodyBackgroundColor } } = prebuildData.getActiveTheme();    \n\n    const serverTimeScript = (process.env.NODE_ENV===\"development\")?<script>{`globalThis.TBDLServerTimeDiff = 0;`}</script>:<script src={`${serverRefs.apis.api}/server_time`}></script>;\n\n    return (\n      <>\n        <Head>\n            {serverTimeScript}\n            <link rel=\"icon\" href={prebuildData.bustCache(\"/favicon.ico\")} />\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"></meta>\n            <link rel=\"shortcut icon\" href=\"//cdn.shopify.com/s/files/1/0659/7615/t/135/assets/favicon.png?v=163593555351234607351667503332\" type=\"image/png\" />\n            <meta name=\"ROBOTS\" content=\"noindex, nofollow\" />\n            <meta charSet=\"utf-8\" />\n            {/*}<meta name=\"description\" content=\"Delicious and affordable premium e-liquid and e-juice. Nicotine salt e-liquid. Custom nicotine, create your perfect bottle today!\" />{*/}\n            {/*}<link rel=\"canonical\" href=\"https://www.tbdliquids.com/policies/shipping-policy\" />{*/}\n            <meta property=\"og:type\" content=\"website\" />\n            {/*}<meta property=\"og:title\" content=\"Shipping policy\" />{*/}\n            {/*}<meta property=\"og:description\" content=\"Uwell Caliburn help, guide, faq, and tips. Nicotine salts and e-juice faq, guide, help, and more.\" />{*/}\n            <meta property=\"og:image\" content=\"http://cdn.shopify.com/s/files/1/0659/7615/t/135/assets/logo.png?v=115789196930231978651667503332\" />\n            <meta property=\"og:image:secure_url\" content=\"https://cdn.shopify.com/s/files/1/0659/7615/t/135/assets/logo.png?v=115789196930231978651667503332\" />\n            {/*}<meta property=\"og:url\" content=\"https://www.tbdliquids.com/policies/shipping-policy\" />{*/}\n            <meta property=\"og:site_name\" content=\"TBD Liquids\" />\n\n            {importOpenSans?(\n                <style>\n                    @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap');\n                </style>)\n                :null} \n            <style>{`\n            html {\n                font-size: ${scaleFactor.value}px;\n            }\n            `}</style>            \n        </Head>          \n        {/*}\n        <AgeCheckerNet />\n        {*/}\n        <LayoutStateContext.Provider value={layoutStateContextValue}>\n            <DimensionsStateContext.Provider value={dimensionsStateContextValue} >\n                <CollectionFilterStateContext.Provider value={collectionFilterStateContentValue} >\n                    <div ref={pageHoriRef} className={`page-hori-scroll ${pageHoriClassName}`} style={pageHoriStyles}>\n                        <div ref={pageRef} className={`page ${pageClassName}`} style={pageStyles}>\n                            <div className=\"page-inner\" style={{                            \n                                ...(innerPageLock?{height: innerPageLock.scrollHeight,overflow: \"hidden\"}:{})\n                            }}>{!hideLayout?<>\n                                <Navbar cartClickHandler={cartOpenHandler} cartItemCount={cartItemCount} /> \n                                <AccountBar />                               \n                                <main>{children}</main>\n                                <Footer hide={!!innerPageLock} />                                                            \n                                <RouterTransition />\n                            </>:<main>{children}</main>} \n                                <Search open={searchOpen.value} />\n                            </div>                                                \n                        </div>\n                        <MiniNavBar cartClickHandler={cartOpenHandler} cartItemCount={cartItemCount} />\n                    </div>\n                    <CreatingCheckout open={creatingCheckoutOpen.value} caption={creatingCheckoutCaptionRef.current} />\n                    <SideMenu />\n                    <div className=\"desktop-cart\">\n                        <SideCart \n                            open={sideCartOpen} \n                            closeHandler={cartCloseHandler} \n                            cartController={cartController} \n                            creatingCheckoutOpen={creatingCheckoutOpen} \n                            onMobile={false} \n                            highlightIds={highlightIdsRef.current}\n                            flashIds={flashIdsRef.current}\n                        />\n                    </div>\n                    <div className=\"mobile-cart\">\n                        <SideCart \n                            open={sideCartOpen} \n                            closeHandler={cartCloseHandler} \n                            cartController={cartController} \n                            creatingCheckoutOpen={creatingCheckoutOpen} \n                            onMobile={true} \n                            highlightIds={highlightIdsRef.current}\n                            flashIds={flashIdsRef.current}\n                        />\n                    </div>                    \n                    {/*} <MobileCartHolder open={mobileCartOpen} /> {*/}\n                    <Smile smileState={smileState} />\n                    <EditBottomBar editOrder={cart.editOrder} />\n                    <BugReporter key={bugReporterCounter.value} open={bugReporterOpen} />\n                    <SalesStartEndNotice open={salesNoticeOpen} message={salesNoticeMessageRef.current} fromCheckout={salesNoticeFromCheckoutRef.current} />\n                    <LinearTopWorkingIndicator running={linearTopWorkingIndicatorRunning.value} />\n                </CollectionFilterStateContext.Provider>\n            </DimensionsStateContext.Provider>\n        </LayoutStateContext.Provider>\n        <style jsx>{injectedStyles}</style>\n        <style jsx>{pageHoriInjectedStyles}</style>        \n        <style jsx global>{`\n            :root {\n                --color-collection-menu: rgba(241, 242, 246, 1);\n                --color-collection-menu-zero-alpha: rgba(241, 242, 246, 0);\n                --color-header: #121314;\n                --color-menu-item: #222222;\n                --color-menu-item-highlight: #444;\n                --color-light-blue: #6ab8ff;\n                --color-black: #131315;                \n                --touch-duration: 0.2s;\n                --scrollbar-forecolor: #a9a9a9;\n                --scrollbar-backcolor: #d5d4d4;\n                --scrollbar-width: 8rem;\n                --body-background-color: ${bodyBackgroundColor};\n                --search-open-duration: 0.3s;\n            }\n\n            html,\n            body {\n                padding: 0;\n                margin: 0;\n                font-family: \"Open Sans\", \"Arial\", \"Helvetica\", sans-serif;\n                background-color: var(--body-background-color);\n            }\n\n            body {\n                font-size: 16rem;\n            }\n\n            html {                \n            }\n\n            main {\n                min-height: 660rem;\n            }\n\n            .page {\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;\n                /* min-width: ${pageMinWidth}rem; */\n                overflow-x: hidden;\n                overflow-y: auto;                \n            }\n\n            .page-hori-scroll {\n                position: fixed;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;\n                overflow-x: auto;\n            }\n\n            .page-inner {\n                position: relative;\n            }\n\n            /*\n            .page::-webkit-scrollbar {\n                width: var(--scrollbar-width);\n            }\n\n            .page::-webkit-scrollbar-thumb {\n                background: var(--scrollbar-forecolor);\n                border-radius: calc(var(--scrollbar-width) * 2);\n            }\n\n            .page::-webkit-scrollbar-track {\n                background: var(--scrollbar-backcolor);                    \n                border: 1rem solid var(--scrollbar-forecolor);\n            } \n            */\n\n            body:global(.side_menu_open) .page {\n                top: 0.4rem;\n            }\n\n            body:global(.disable-pull-to-refresh) {\n                overscroll-behavior: contain;\n            }\n\n            :global(.hori-verti-centered) {\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n\n            :global(.fill-parent) {\n                position: absolute;\n                left: 0rem;\n                right: 0rem;\n                top: 0rem;\n                bottom: 0rem;\n            }\n\n            * {\n                box-sizing: border-box;\n                user-select: none;\n                /*\n                scrollbar-color: var(--scrollbar-forecolor) var(--scrollbar-backcolor);\n                scrollbar-width: var(--scrollbar-width);                \n                */\n            }\n\n            /*\n\n            *::-webkit-scrollbar {\n                width: var(--scrollbar-width);\n            }\n\n            *::-webkit-scrollbar-thumb {\n                background: var(--scrollbar-forecolor);\n                border-radius: calc(var(--scrollbar-width) * 2);\n            }\n\n            *::-webkit-scrollbar-track {\n                background: var(--scrollbar-backcolor);                    \n                border: 1rem solid var(--scrollbar-forecolor);\n            } \n            */\n\n            body {\n                position: relative;\n                overflow: hidden;\n                height: 100%;\n            }        \n\n            .desktop-cart {\n                display: block;\n            }\n\n            .mobile-cart {\n                display: none;\n            }\n\n            @media screen and (max-width: ${mobileSmallWidthCutoff}px) {\n                .desktop-cart {\n                    display: none;\n                }\n\n                .mobile-cart {\n                    display: block;\n                }\n            }\n\n            @media screen and (max-width: ${mobileWidthCutoff}px) {\n                .page {\n                    min-width: 0rem;\n                }\n            }\n            \n      `}</style>\n      </>\n    )\n  }","import { forwardRef, MutableRefObject, useEffect, useImperativeHandle, useRef } from \"react\";\nimport { useCssStateManager } from \"../../../hooks/use_css_state_manager\";\nimport { useSmartState } from \"../../../hooks/use_smart_state\";\nimport { misc } from \"../../../lib/misc\";\n\n\nexport type PriceSavedDisplayProps = {\n    priceDiff: number;\n};\n\nexport function PriceSavedDisplay({priceDiff}:PriceSavedDisplayProps)\n{\n    const cssStateManager = useCssStateManager([\"price-diff-display\"]);\n    const sign = (priceDiff>=0)?\"+\":\"\"\n    const { dollar,cents } = misc.splitPriceForDisplay(Math.abs(priceDiff));\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <span className=\"sup\">$</span>{dollar}<span className=\"sup\">{cents}</span>\n                <span className=\"saved\">saved</span>\n            </div>\n            <style jsx>{`\n            .price-diff-display {\n                font-size: 14rem;\n                font-weight: 400;\n                border: 1rem solid #bbb;\n                border-radius: 12rem;\n                padding: 2rem 10rem;\n                padding-bottom: 3rem;\n                background-color: #efefef;\n                color: #666;\n                transition: opacity 0.3s;\n                display: inline-block;                \n            }\n            .sign {\n                font-size: 12rem;\n                position: relative;\n                /* top: -1rem; */\n                top: 2rem;           \n                left: -2rem;                    \n                font-weight: 600;\n                width: 6rem;\n                overflow-y: hidden;\n                display: inline-block;\n            }\n\n            .sup {\n                font-size: 9.4rem;\n                position: relative;\n                top: -3rem;\n            }\n\n            .saved {\n                padding-left: 5rem;\n                font-size: 0.9em;\n                position: relative;\n                top: -1rem;\n            }\n            `}</style>\n        </>\n    );\n}\n\nexport type PriceUpdateProps = {\n    price: number;\n};\n\nexport type PriceUpdateRefInterface = {\n    show: (priceUpdate: number) => void;    \n};\n\ntype State = \"idle\" | \"showing\" | \"hiding\";\n\nexport default function PriceUpdate({price}:PriceUpdateProps)\n{\n    const cssStateManager = useCssStateManager([\"container\"]);\n    const show = cssStateManager.useState(false,\"show\");\n    const priceUpdateRef = useRef(0);\n    const queuedRef = useRef(0);\n    const isQueuedRef = useRef(false);\n    const { current: priceUpdate } = priceUpdateRef;\n    const sign = (priceUpdate>=0)?\"+\":\"-\"\n    const { dollar,cents } = misc.splitPriceForDisplay(Math.abs(priceUpdate));\n    const timeoutHandleRef = useRef(0);\n    const stateRef = useRef<State>(\"idle\");\n\n    const showTimeoutMilliseconds = 2200;\n\n    const goIntoHiding = () => {\n        clearTimeout(timeoutHandleRef.current);\n        timeoutHandleRef.current = 0;\n        stateRef.current = \"hiding\";\n        show.value = false;\n    };\n    const goIntoShowing = (value: number) => {\n        if (value===0) return;\n        priceUpdateRef.current = value;\n        stateRef.current = \"showing\";\n        show.value = true;\n        timeoutHandleRef.current = setTimeout(goIntoHiding,showTimeoutMilliseconds) as unknown as number;\n    };\n\n    const queueValue = (value: number) => {\n        queuedRef.current = value;\n        isQueuedRef.current = true;\n    };\n\n    const unqueueValue = () => {\n        const ret = queuedRef.current;\n        isQueuedRef.current = false;\n        return ret;\n    };\n\n    const showPriceUpdate = (value: number) => {\n\n        if (stateRef.current===\"idle\") {\n            goIntoShowing(value);\n        }\n        else if (stateRef.current===\"showing\") {\n            goIntoHiding();\n            queueValue(value);\n        }\n        else if (stateRef.current===\"hiding\") {\n            queueValue(value);\n        }\n    };\n\n    const lastPriceRef = useRef<number>(0);\n    const lastPriceSetRef = useRef(false);\n\n    useEffect(() => {\n        if (lastPriceSetRef.current) {\n            const priceUpdate = price-lastPriceRef.current;\n            showPriceUpdate(priceUpdate);\n        }        \n        lastPriceRef.current = price;\n        if (price>0) lastPriceSetRef.current = true;\n    },[price]);\n\n    const transitionEndHandler = (propertyName: string) => {\n        if ((propertyName===\"opacity\") && (!show.value)) {\n            if (isQueuedRef.current) {\n                goIntoShowing(unqueueValue());\n            }\n            else {\n                stateRef.current = \"idle\";\n            }\n        }\n    };\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()} onTransitionEnd={(e) => transitionEndHandler(e.propertyName)}>\n                <span className=\"sign\">{sign}</span><span className=\"sup\">$</span>{dollar}<span className=\"sup\">{cents}</span>\n            </div>\n            <style jsx>{`\n            .container {\n                font-size: 14rem;\n                font-weight: 400;\n                border: 1rem solid #ddd;\n                border-radius: 10rem;\n                padding: 0rem 8rem;\n                background-color: #f7f7f7;\n                color: #666;\n                opacity: 0;\n                transition: opacity 0.3s;\n            }\n            .container.show {\n                opacity: 1;\n            }\n            .sign {\n                font-size: 12rem;\n                position: relative;\n                top: -1rem;            \n                left: -1rem;                    \n                font-weight: 600;\n            }\n\n            .sup {\n                font-size: 9.4rem;\n                position: relative;\n                top: -3rem;\n            }\n            `}</style>\n        </>\n    );\n}","import { useCssStateManager } from \"../../../hooks/use_css_state_manager\";\nimport { useSmartState } from \"../../../hooks/use_smart_state\";\nimport GridItem, { GridItemData } from \"./grid_item\";\n\nexport type GridRowProps = {\n    items: GridItemData[];\n    productIds: string[];\n    onClick?: (productId: string) => void;\n    onProductPage?: boolean;\n};\n\nexport type TitleHeight = {\n    value: number;\n    max: number;\n    itemCount: number;\n    knownCount: number\n};\n\nexport default function GridRow({items,productIds,onClick = () => {},onProductPage = false}:GridRowProps)\n{        \n    const cssStateManager = useCssStateManager([\"grid-row\"]);\n    cssStateManager.useProperty(onProductPage,\"on-product-page\");\n\n    const titleHeight = useSmartState<TitleHeight>({\n        value: -1,\n        max: 0,\n        itemCount: items.length,\n        knownCount: 0\n    });    \n    const firstItem: React.ReactNode = items[0]?<GridItem key={items[0].productId} data={items[0]} titleHeight={titleHeight} clickHandler={() => onClick(productIds[0])} onProductPage={onProductPage} />:\"\";\n    const secondItem: React.ReactNode = items[1]?<GridItem key={items[1].productId} data={items[1]} titleHeight={titleHeight} clickHandler={() => onClick(productIds[1])} onProductPage={onProductPage} />:\"\";\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <div className=\"side\">{firstItem}</div>\n                <div className=\"spacer\"></div>\n                <div className=\"side\">{secondItem}</div>\n            </div>\n            <style jsx>{`\n            .grid-row {\n                display: flex;\n                flex-direction: row;\n                margin-top: 25rem;                \n            }\n            .grid-row.on-product-page {\n                margin-top: 30rem;\n            }\n            .side {\n                flex: 1 0;\n            }\n            .spacer {\n                flex: 0 0 30rem;\n            }\n            `}</style>\n        </>\n    );\n}","import { Fragment, useContext, useRef } from \"react\";\nimport { LayoutStateContext } from \"../../../contexts/layout_state\";\nimport { useCssStateManager } from \"../../../hooks/use_css_state_manager\";\nimport { useCustomRouter } from \"../../../hooks/use_custom_router\";\nimport { prebuildData } from \"../../../lib/prebuild-data\";\nimport { ConfigProduct } from \"../../../scripts/pre-build/types\";\nimport GridItem from \"./grid_item\";\nimport GridItemRating from \"./grid_item_rating\";\nimport GridRow from \"./grid_row\";\n\nexport type AlsoBoughtProps = {\n    productIds: string[];\n    itemCount: number;\n    show: boolean;\n    onHidden?: () => void;\n    closeSideCartHandler?: () => void;\n    onProductPage?: boolean;\n};\n\nexport default function AlsoBought({itemCount,show,onHidden = () => {},productIds,closeSideCartHandler = () => {},onProductPage = false}:AlsoBoughtProps)\n{            \n    productIds = productIds.filter((pid) => !!prebuildData.getProductById(pid));\n    const rows: ConfigProduct[][] = [];\n    const rowCount = Math.ceil(productIds.length/2);\n    for(let i=0;i<rowCount;i++) {\n        const index = i*2;\n        const columns: ConfigProduct[] = [];        \n        columns.push(prebuildData.getProductById(productIds[index]));\n        if (index+1<productIds.length) {\n            columns.push(prebuildData.getProductById(productIds[index+1]));\n        }\n        rows.push(columns);\n    }    \n\n    const cssStateManager = useCssStateManager([\"also-bought\"]);\n    cssStateManager.useProperty(show,\"show\");\n    cssStateManager.useProperty(onProductPage,\"on-product-page\");    \n\n    const ref = useRef<HTMLDivElement>();\n\n    const transitionEndHandler = (target: HTMLDivElement,propertyName: string) => {\n        if ((target===ref.current) && (propertyName===\"opacity\") && (!show)) {\n            onHidden();\n        }\n    };\n\n    const router = useCustomRouter();\n\n    const clickHandler = (productId: string) => {\n        closeSideCartHandler();\n        const productPageRoute = prebuildData.getProductPageRoute(productId);\n        router.push(productPageRoute);\n    };\n\n    const titleCaption = onProductPage?\"Frequently Bought With\":`Customers Who Bought ${(itemCount>1)?\"These Items\":\"This Item\"} Also Bought`;\n\n    const { \n        alsoBoughtWith: {\n            titleColor\n        }\n    } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div ref={ref} className={cssStateManager.getClassNames()} onTransitionEnd={(e) => transitionEndHandler(e.target as HTMLDivElement,e.propertyName)}>\n                <div className=\"title\">{titleCaption}</div>\n                <div className=\"grid\">\n                    {rows.map((row,index) => (<Fragment key={index}>\n                        <GridRow items={row.map(({caption,smallImages,id}) => ({\n                                imageSrc: prebuildData.bustCache(smallImages[0].src),\n                                imageHoverSrc: (smallImages.length>1)?prebuildData.bustCache(smallImages[1].src):\"\",\n                                title: caption,\n                                productId: id.toString()\n                            }))} \n                            productIds={row.map(({id}) => id.toString())}\n                            onClick={clickHandler}\n                            onProductPage={onProductPage}\n                        />                        \n                    </Fragment>))}\n                    {/*}\n                    <GridRow items={products1.map(({starRating,ratingCount,caption,smallImages}) => ({\n                        imageSrc: smallImages[0].src,\n                        imageHoverSrc: (smallImages.length>1)?smallImages[1].src:\"\",\n                        title: caption,\n                        rating: starRating,\n                        ratingCount\n                    }))} />\n                    <GridRow items={products2.map(({starRating,ratingCount,caption,smallImages}) => ({\n                        imageSrc: smallImages[0].src,\n                        imageHoverSrc: (smallImages.length>1)?smallImages[1].src:\"\",\n                        title: caption,\n                        rating: starRating,\n                        ratingCount\n                    }))} />\n                    {*/}\n                </div>                \n            </div>\n            <style jsx>{`\n            .also-bought {\n                margin-top: 40rem;\n                opacity: 0;\n                transition: opacity 0.3s;\n            }\n            .also-bought.on-product-page {\n                margin-top: 29rem;\n            }\n\n            .also-bought.show {\n                opacity: 1;\n                transition-duration: 0s;\n            }\n\n            .title {\n                text-align: center;\n                font-weight: 700;\n                font-size: 17rem;\n                color: ${titleColor};\n                padding: 0rem 20rem;\n                line-height: 29rem;\n            }\n            .grid {\n                padding: 0rem 30rem;\n                margin-top: 25rem;\n                margin-bottom: 50rem;\n            }\n            .on-product-page .title {\n                font-size: 18rem;\n            }\n            .on-product-page .grid {\n                margin-top: -4rem;\n                padding: 0rem 20rem;\n            }\n            `}</style>\n        </>\n    );\n}","export type SquareProps = {\n    children: React.ReactNode;\n};\n\nexport default function Square({children}:SquareProps)\n{\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"frame\">{children}</div>\n            </div>\n            <style jsx>{`\n            .container {\n                width: 100%;\n                position: relative;\n                padding: 50%;\n            }\n            .frame {\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;\n            }\n            `}</style>\n        </>\n    );\n}","import { useContext, useEffect, useRef } from \"react\";\nimport { LayoutStateContext } from \"../../../contexts/layout_state\";\nimport { useCachedValue } from \"../../../hooks/use_cached_value\";\nimport { useCssStateManager } from \"../../../hooks/use_css_state_manager\";\nimport { consumeReviewsHeader } from \"../../../hooks/use_reviews_header\";\nimport { SmartState, useSmartState } from \"../../../hooks/use_smart_state\";\nimport { prebuildData } from \"../../../lib/prebuild-data\";\nimport { Image } from \"../../common/scaled-next-image\";\nimport StarRating from \"../../common/star_rating\";\nimport { EventPane } from \"../../core/event_pane\";\nimport Square from \"../../core/square\";\nimport { TitleHeight } from \"./grid_row\";\n\nexport type GridItemData = {\n    imageSrc: string;\n    imageHoverSrc?: string;\n    title: string;\n    productId: string;\n};\n\nexport type GridItemProps = {\n    data: GridItemData;\n    titleHeight?: SmartState<TitleHeight>;\n    clickHandler?: () => void;\n    onProductPage?: boolean;\n};\n\nexport default function GridItem({data:{imageSrc,imageHoverSrc,title,productId},titleHeight,clickHandler = () => {},onProductPage = false}:GridItemProps)\n{    \n    const titleRef = useRef<HTMLDivElement>();\n\n    const { scalePixelToRem,mobileDetect: { widthCutoff: mobileCutoff } } = useContext(LayoutStateContext);\n\n    const productPageRoute = useCachedValue(() => prebuildData.getProductPageRoute(productId),productId);\n\n    useEffect(() => {\n        if ((titleRef.current) && (titleHeight)) {\n            titleHeight.value.max = Math.max(titleHeight.value.max,scalePixelToRem(titleRef.current.offsetHeight));\n            titleHeight.value.knownCount++;\n            if (titleHeight.value.knownCount===titleHeight.value.itemCount) {\n                titleHeight.value.value = titleHeight.value.max;\n                titleHeight.value = {...titleHeight.value};\n            }\n        }\n    },[]);\n\n    const { reviewsCount: ratingCount,starRating: rating } = consumeReviewsHeader(productId);\n\n    const reviewText = (ratingCount!==-1)?((ratingCount>0)?`(${ratingCount})`:\"No reviews yet\"):\"---\";\n\n    const cssStateManager = useCssStateManager([\"grid-item\"]);\n    cssStateManager.useProperty(ratingCount===0,\"no-reviews\");\n    cssStateManager.useProperty(onProductPage,\"on-product-page\");\n\n    const hoverSmartState = useSmartState(false);\n\n    const { \n        alsoBoughtWith: {\n            itemTitleColor,\n            itemTitleHoverColor,\n            itemReviewCountColor,\n            itemReviewCountHoverColor\n        }\n    } = prebuildData.getActiveTheme();\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                <Square>\n                    <Image src={imageSrc} layout=\"fill\" priority={true} />\n                    {imageHoverSrc?(\n                        <div className=\"hover-image\">\n                            <Image src={imageHoverSrc} layout=\"fill\" priority={true} />    \n                        </div>\n                    ):null}                       \n                </Square>\n                <div className=\"title\" ref={titleRef} style={{height: ((titleHeight) && (titleHeight.value.value!==-1))?`${titleHeight.value.value}rem`:\"auto\"}}>{title}</div>\n                <div className=\"rating\">\n                    <span className=\"stars\">\n                        <StarRating rating={rating} hoverSmartState={hoverSmartState} scale={onProductPage?0.75:0.75} />\n                    </span>\n                    &nbsp;\n                    <span className=\"reviews-text\">{reviewText}</span>\n                </div>\n                <div className=\"mobile-overlay fill-parent\"></div>                 \n                <EventPane hoverSmartState={hoverSmartState} onClick={clickHandler} seoLinkUrl={productPageRoute} />\n            </div>\n            <style jsx>{`\n            .grid-item {          \n                padding: 0rem;      \n                position: relative;\n                --duration: 0.3s;\n            }\n            .title {\n                text-align: center;\n                margin-top: 12rem;\n                font-weight: 600;                                \n                color: ${itemTitleColor};\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n            }\n            .rating {\n                text-align: center;\n                margin-top: 7rem;\n            }\n            .reviews-text {\n                color: ${itemReviewCountColor};\n                font-size: 14rem;\n            }\n            .title,.reviews-text {\n                transition: color var(--duration);\n            }\n            .grid-item.no-reviews .stars {\n                display: none;\n            }\n            .hover-image {\n                opacity: 0;\n                transition: opacity var(--duration);\n            }\n\n            .grid-item.hover .hover-image {    \n                opacity: 1;\n            }\n\n            .grid-item.hover .reviews-text,.grid-item.touchdown .reviews-text {\n                color: ${itemReviewCountHoverColor};\n            }\n            .grid-item.hover .title,.grid-item.touchdown .title {\n                color: ${itemTitleHoverColor};\n            }\n\n            .on-product-page .title {\n                font-size: 15rem;\n            }\n\n            .on-product-page .rating {\n                margin-top: 3rem;\n            }\n\n            .mobile-overlay {\n                position: absolute;\n                background-color: rgba(0,0,0,0.045);\n                opacity: 0;\n                transition: opacity var(--duration);\n            }\n\n            @media screen and (max-width: ${mobileCutoff}px) {\n                .grid-item.touchdown .mobile-overlay {\n                    opacity: 1;\n                }\n            }\n\n            `}</style>\n        </>\n    );\n}","import React from 'react';\nimport { TSettableValue } from './dimensions_state';\n\nexport type SortOrder = \"popular\" | \"reviewed\" | \"newest\" | \"favorites\";\nexport type FilterMap = {\n    fruit?: true,\n    dessert?: true,\n    candy?: true,\n    cool?: true,\n    other?: true,\n};\n\nexport type FilterBarSubscriptionCB = (cb: () => void) => void;\n\nexport type CollectionFilterState = {\n    sortOrder: TSettableValue<SortOrder>;\n    filter: TSettableValue<FilterMap>;\n    refreshSwitch: TSettableValue<number>;\n    isSwitching: TSettableValue<boolean>;\n};\n\nexport const CollectionFilterStateContext = React.createContext<CollectionFilterState>(null);","import React, { useRef, useState } from 'react'\n\nexport type TSettableValue<T> = {\n    value: T;\n    set: (value: T) => void;\n};\n\nexport type TDimensionsState = {\n    navbarHeight: TSettableValue<number>;\n    bannerHeight: TSettableValue<number>;\n    miniNavbarHeight: TSettableValue<number>;\n    collectionGridHeight: TSettableValue<number>;\n    filterBarControlsHeight: TSettableValue<number>;\n    scrollBottomPadding: TSettableValue<number>;\n};\n\nexport const DimensionsStateContext = React.createContext<TDimensionsState>(null);\n\nexport const useSettableValue = <T>(initialValue: T,onBeforeSet: ((fromValue: T,toValue: T) => void) = () =>{}): TSettableValue<T> => \n{\n    const [value,setValue] = useState(initialValue);\n    const refPerm = useRef<TSettableValue<T>>({value,set: (value) => setValue(value)});\n    refPerm.current.value = value;\n    refPerm.current.set = (value) => \n    {\n        onBeforeSet(refPerm.current.value,value);\n        setValue(value);\n    };\n    return refPerm.current;\n};","import React from 'react'\n\ntype TGlobalState = {\n    session: boolean;\n    animation: boolean;\n};\n\nexport const GlobalStateContext = React.createContext<TGlobalState>({session: false,animation: false});","import React, { MutableRefObject } from 'react'\nimport { SearchBarComm } from '../components/navbar/promo_left';\nimport { BoughtTogetherClient } from '../hooks/use_bought_together_client';\nimport { ReviewsHeader } from '../hooks/use_reviews_header';\nimport { SmartState } from '../hooks/use_smart_state';\nimport { Account } from '../hooks/use_account';\n\nexport type TCollectionItem = {\n    id: string; \n    title: string;\n    caption: string;\n    subCaption: string;\n    banner: {\n        captionLeft: number;\n        subCaptionLeft: number;\n    };\n    route: string;\n};\nexport type TCollectionItems = TCollectionItem[];\n\nexport enum TManagedScrollTopAnimationDuration {\n    Up,\n    Down,\n    Either\n}\n\nexport type MobileDetectUseEffectCallback = (isMobile: boolean) => void;\nexport type ScaleFactorDetectUseEffectCallback = (scalePixelToRem: (value: number) => number,scaleRemToPixel: (value: number) => number) => void;\n\nexport type SearchOpenType = \"site-width\" | \"collection\";\n\nexport type SmileState = \"none\" | \"iframe-normal\" | \"login-confirmation\"\n\nexport type MobileDetectType = \"main\" | \"small\" | \"mini\" | \"small_desktop\";\n\nexport type TLayoutState = {    \n    routerIsLocked: SmartState<boolean>;\n    account: SmartState<Account | null | false>;\n    linearTopWorkingIndicatorRunning: SmartState<boolean>;\n    registerError: string;\n    loginPreloadedEmail: string;\n    loginPreloadedType: string;\n    clearLoginPreloaded: () => void;\n    openSalesNotice: (message: string,fromCart?: boolean) => void;\n    navbarHeaderRef: MutableRefObject<HTMLDivElement>;\n    openBugReporter: () => void;\n    resetBugReporter: () => void;\n    creatingCheckoutCaptionRef: MutableRefObject<string>;\n    productPageLoadCounter: SmartState<number>;\n    smileState: SmartState<SmileState>;\n    smileAccessToken: string;\n    openSmileIframe: (accessToken?: string) => void;\n    pageRef: MutableRefObject<HTMLDivElement>;\n    collectionSearchBarOpen: SmartState<boolean>;\n    searchCollectionId: string;\n    openSearch: (type?: SearchOpenType,collectionId?: string) => void;\n    configuredBannerHeight: { height: number; };\n    pageMinWidth: number;\n    sideCartOpenRef: MutableRefObject<boolean>;\n    searchBarCommRef: MutableRefObject<SearchBarComm>;\n    searchOpen: SmartState<boolean>;\n    searchOpenType: SmartState<SearchOpenType>;\n    searchInputTextPointer: SmartState<SmartState<string>>;\n    searchBarOffsetLeft: SmartState<number>;\n    reviewsHeader: ReviewsHeader;\n    boughtTogetherClient: BoughtTogetherClient;\n    mobileDetect: {\n        widthCutoff: number;\n        widthCutoffStyleSection: (content: string) => string;\n        smallWidthCutoff: number;\n        miniWidthCutoff: number;\n        smallDesktopWidthCutoff: number;\n        isActive: MutableRefObject<boolean>;\n        isSmallScreen: MutableRefObject<boolean>;\n        isMiniScreen: MutableRefObject<boolean>;\n        isSmallDesktopScreen: MutableRefObject<boolean>;\n        mobileSmallScreenCutoff: number;\n    };\n    mobileDetectUseEffect: (cb: MobileDetectUseEffectCallback,listenToChanges?: React.DependencyList,type?: MobileDetectType) => void;\n    scaleFactorDetectUseEffect: (cb: ScaleFactorDetectUseEffectCallback,listenToChanges?: React.DependencyList) => void;\n    scaleFactor: number;\n    screenRatio: number;\n    scalePixelToRem: (pixelValue: number) => number;\n    scaleRemToPixel: (RemValue: number) => number;\n    sideMenu: {\n        openId: number;\n        show: boolean;\n        setShow: (value: boolean) => void;\n    };\n    collectionItems: TCollectionItems;\n    page: {\n        addScrollEventListener: (handler: (scroll: {top: number,left: number,topMax: number,leftMax: number}) => void) => (() => void);\n        hideOverlayScrollbar: () => void;\n        showOverlayScrollbar: () => void;\n        scrollTop: () => number;\n        setScrollTop: (value: number) => void;\n        animateScrollTop: (target: number,durationMs: number,cb?: () => void) => void;\n        animateScrollTopManaged: (target: number,options?: { durationMs?: number; threshold?: number; direction?: TManagedScrollTopAnimationDuration },cb?: () => void) => void;\n        scrollLeft: () => number;\n        setScrollLeft: (value: number) => void;\n        scrollTopMax: () => number;\n        scrollLeftMax: () => number;\n        scrollTo: (options: ScrollToOptions) => void;\n        scrollToTopWithCallback: (cb: () => void,target?: number) => void;\n        scrollWidth: () => number;\n        scrollHeight: () => number;\n        clientWidth: () => number;\n        clientHeight: () => number;\n        addEventListener: HTMLDivElement[\"addEventListener\"];\n        removeEventListener: HTMLDivElement[\"removeEventListener\"];\n        scrollBarWidth: () => number;\n        lockScroll: () => void;\n        unlockScroll: () => void;\n        isScrollLocked: boolean;\n        on: (eventName: \"before-router-scroll-up\" | \"after-router-scroll-up\",handler: () => void) => void;\n        off: (eventName: \"before-router-scroll-up\" | \"after-router-scroll-up\",handler: () => void) => void;\n    };\n    font: {\n        ready: boolean;\n        setReady: (value: boolean) => void;\n    };\n    misc: {\n        filterBarItemClassNameIdentifier: string;\n    };\n    sideCart: {\n        open: (options?: {highlightIds?: string[];flashIds?: string[]}) => void;\n    }\n};\n\nexport const LayoutStateContext = React.createContext<TLayoutState>(null);","import React from 'react'\n\nexport type TWindowSize = {\n    width: number;\n    height: number;\n};\n\nexport const WindowSizeContext = React.createContext<TWindowSize>({width: 0,height: 0});\n\nexport const getWindowSize = (): TWindowSize => \n{\n    if (typeof window !== \"undefined\")\n    {\n        const width  = window.innerWidth || document.documentElement.clientWidth || \n        document.body.clientWidth;\n        const height = window.innerHeight|| document.documentElement.clientHeight|| \n        document.body.clientHeight;\n        return {width,height};        \n    }\n    else\n    {\n        return {width: 0,height: 0};        \n    }\n};","import { useContext, useEffect, useRef } from \"react\";\nimport { SmartState, useSmartState } from \"./use_smart_state\";\nimport { LayoutStateContext } from \"../contexts/layout_state\";\nimport { lstore } from \"../lib/localstorage\";\n\nexport type AccountUserAddress = {\n    id: string;\n    firstName: string;\n    lastName: string;\n    address1?: string;\n    address2?: string;\n    city?: string;\n    company?: string;\n    country?: string;\n    countryCodeV2?: string;\n    phone?: string;\n    province?: string;\n    provinceCode?: string;\n    zip?: string;\n};\n\nexport type AccountUser = {\n    addresses: AccountUserAddress[];\n    accountNumber: string;\n    email: string;\n    firstName?: string;\n    lastName?: string;    \n    phone?: string;\n    addressSetupSkipped?: boolean;\n};\nexport type AccountSession = {\n    id: string;\n    renewKey: string;\n};\n\nexport type Account = {\n    user: AccountUser;\n    session: AccountSession;\n};\n\nconst lstoreKey = \"account\";\nconst lstorelastLoginEmailKey = \"account.lastLoginEmail\";\n\nexport const getLastLoginEmail = () => lstore.get(lstorelastLoginEmailKey);\n\nlet globalAccountState: SmartState<Account | null | false>;\n\nexport const getAccountValue = () => globalAccountState?globalAccountState.value:null;\nexport const setAccountValue = (value: Account) => {\n    if (globalAccountState) {\n        globalAccountState.value = {...value};\n    }\n};\n\nexport const useAccount = () => {\n    const account = globalAccountState = useSmartState<Account | null | false>(false,{\n        onSet: (value) => {\n            lstore.set(lstoreKey,value);\n            if (value) {\n                lstore.set(lstorelastLoginEmailKey,value.user.email);\n            }\n        }\n    });\n\n    useEffect(() => {\n        account.value = lstore.get(lstoreKey);\n        // console.log(\"account\",lstore.get(lstoreKey));\n    },[]);\n\n    return account;\n};\n\nexport const consumeAccount = (onReady: ((accountValue: Account | null) => void) = () => {}) => {\n    const { account } = useContext(LayoutStateContext);\n    const isReadyRef = useRef(false);\n\n    useEffect(() => {        \n        if ((!isReadyRef.current) && (account.value!==false)) {\n            isReadyRef.current = true;\n            onReady(account.value);\n        }\n    },[account.value]);\n\n    return account;\n};","import { useContext, useEffect, useRef } from \"react\";\nimport { useSmartState } from \"./use_smart_state\";\nimport serverRefs from \"../server-refs.json\";\nimport { isSimpleObject } from \"../lib/shared/options/snapshot/misc\";\nimport { LayoutStateContext, TLayoutState } from \"../contexts/layout_state\";\nimport { misc } from \"../lib/misc\";\nimport { infiniteFetch } from \"../lib/infinite-fetch\";\nimport { libMockReviews } from \"../lib/mock-reviews\";\n\nexport type BoughtTogetherClientEntry = {\n    id: string;\n    weight: number;    \n};\n\nexport type BoughtTogetherClient = {\n    table: {\n        [id: string]: BoughtTogetherClientEntry[]\n    };\n    popular: string[];\n};\n\nexport const useBoughtTogetherClient = () => {\n    const boughtTogether = useSmartState<BoughtTogetherClient>(null);\n\n    useEffect(() => {\n        (async () => {            \n            // const url = `${serverRefs.buckets.public}/bought_together/client.json`;\n            // const response = await infiniteFetch(url);\n            // boughtTogether.value = await response.json();\n            boughtTogether.value = libMockReviews.genBoughtTogetherClient();\n        })();\n    },[]);\n\n    return boughtTogether.value;\n};\n\ntype CachedResult = {\n    digest: string;\n    result: string[];\n};\n\nexport const consumeBoughtTogetherClient = (productIds: (number | string)[],layout?: TLayoutState) => {\n    productIds = misc.removeDuplicates(productIds);\n\n    const productsTotal = 10;\n\n    const { boughtTogetherClient } = layout?layout:useContext(LayoutStateContext);\n    const cachedRef = useRef<CachedResult>(null);\n\n    if (boughtTogetherClient) {\n        const digest = productIds.join(\",\");\n\n        const process = () => {\n            const usedHash: {[id: string]: true} = {};\n            const weightedHash: {[id: string]: number} = {};\n            productIds.forEach((productId) => usedHash[productId] = true);\n            productIds.forEach((productId) => {\n                if (boughtTogetherClient.table[productId]) {\n                    boughtTogetherClient.table[productId].forEach(({id,weight}) => {\n                        if (!usedHash[id]) {\n                            weightedHash[id] = weightedHash[id] || 0;\n                            weightedHash[id]+= weight;\n                        }\n                    });\n                }\n            });\n            const result = Object.keys(weightedHash);\n            result.sort((_a,_b) => {\n                const a = weightedHash[_a];\n                const b = weightedHash[_b];\n                if (a<b) return 1;\n                if (a>b) return -1;\n                return 0;\n            });\n            let pnt = 0;\n            while ((result.length<productsTotal) && (pnt<boughtTogetherClient.popular.length)) {\n                const candidate = boughtTogetherClient.popular[pnt]; pnt++;\n                if ((!usedHash[candidate]) && (!weightedHash[candidate])) {\n                    result.push(candidate);\n                }\n            }\n            result.length = Math.min(result.length,productsTotal);\n    \n            const ret: CachedResult = {\n                digest,\n                result\n            };\n\n            return ret;    \n        };\n\n        return (cachedRef.current && (cachedRef.current.digest===digest))?cachedRef.current.result:(cachedRef.current = process()).result;\n    }\n    else {\n        return null;\n    }\n};","import { useRef } from \"react\";\n\nexport const useCachedValue = <T,U>(cb: () => T,template: U) => {\n    const ref = useRef<T>();\n    const templateRef = useRef<U>();\n    if (ref.current) {\n        if (templateRef.current===template) {\n            return ref.current;\n        }\n        else {\n            templateRef.current = template;\n            return ref.current = cb();\n        }\n    }\n    else {\n        templateRef.current = template;\n        return ref.current = cb();\n    }\n};","import { useRef, useState } from \"react\";\nimport { SmartState, useSmartState } from \"./use_smart_state\";\n\nexport const useCssStateManager = (permanentClassNames: string[] = [],{ horiVertiCentered = false }: { horiVertiCentered?: boolean } = {}) =>\n{\n    const entriesRef = useRef<{controller: {value: boolean},className: string}[]>([]);\n    const entries = entriesRef.current;\n    entries.length = 0;\n\n    const controllerRef = useRef({\n        useState(initialValue: boolean,className: string,{timedMilliseconds}: {timedMilliseconds?: number} = {}) {\n            const [value,setValue] = useState(initialValue);\n            const ref = useRef(value);\n            const refTimeout = useRef(0);\n            ref.current = value;\n            const ret: SmartState<boolean> = {\n                get value() {\n                    return ref.current;\n                },\n                set value(newValue) {\n                    if (timedMilliseconds>0) {\n                        clearTimeout(refTimeout.current);\n                        refTimeout.current = 0;\n                    }\n                    setValue(newValue);\n                    if ((timedMilliseconds>0) && (newValue)) {\n                        refTimeout.current = setTimeout(() => {\n                            refTimeout.current = 0;\n                            ret.value = false;\n                        },timedMilliseconds) as unknown as number;\n                    }\n                },\n                subscribe: () => () => {}\n            };\n            entries.push({controller: ret,className});\n            return ret;\n        },\n        useStringState<T extends string = string>(initialValue: T,options: T[]) {\n            const ret = useSmartState<T>(initialValue);\n            for(let i=0;i<options.length;i++) {\n                controllerRef.current.useProperty(ret.value===options[i],options[i]);\n            }            \n            return ret;\n        },\n        useProperty(value: boolean,className: string) {\n            entries.push({controller: {value},className});\n        },\n        getClassNames(...additionalClassNames: string[]) {\n            return [...permanentClassNames,...(horiVertiCentered?[\"hori-verti-centered\"]:[]),...entries.map(({controller,className}) => controller.value?className:null).filter((value) => value!==null),...additionalClassNames].join(\" \");\n        }\n    });\n\n    return controllerRef.current;\n};\n","import { useRouter } from \"next/router\";\nimport { useContext, useReducer, useRef } from \"react\";\nimport { routerTransition } from \"../components/core/router_transition\";\nimport { LayoutStateContext } from \"../contexts/layout_state\";\nimport { misc } from \"../lib/misc\";\n\nexport type BeforePushSubscribeCallback = (cb: () => void) => boolean;\nconst beforePushSubscriptions: BeforePushSubscribeCallback[] = [];\n\nlet routerLocked = false;\n\nconst processBeforePushSubscriptions = async(cb: () => void) => {\n    await new Promise<void>((resolve) => {\n        let counting = 0;\n        const waitCount = beforePushSubscriptions.filter((subscriptionCb) => subscriptionCb(() => {\n            setTimeout(() => {\n                counting++;\n                if (counting===waitCount) resolve();    \n            },0);\n        })).length;\n        if (waitCount===0) resolve();\n    });\n    cb();\n};\n\nexport const useCustomRouter = () => {\n    const reactRouter = useRouter();\n    const reactRouterRef = useRef(reactRouter);\n    reactRouterRef.current = reactRouter;\n\n    const { page,linearTopWorkingIndicatorRunning,routerIsLocked } = useContext(LayoutStateContext);\n\n    return {\n        reactRouter,\n        async runLocked(cb: () => Promise<void>,withLinearTopWorkingIndicator = true) {\n            if (routerLocked) return;\n            routerLocked = true;\n            routerIsLocked.value = routerLocked;\n            if (withLinearTopWorkingIndicator) linearTopWorkingIndicatorRunning.value = true;            \n            await cb();\n            routerLocked = false;\n            routerIsLocked.value = routerLocked;\n            if (withLinearTopWorkingIndicator) linearTopWorkingIndicatorRunning.value = false;\n        },\n        async push(url: string,force = false) {\n            if (routerLocked) return;\n            await processBeforePushSubscriptions(() => {\n                const { current: reactRouter } = reactRouterRef;\n                const pid = misc.getParameterByName(\"pid\");\n                if (pid) url = misc.addQueryParamToUrl(url,\"pid\",pid);\n                if ((reactRouter.asPath!==url) || (force)) {\n                    routerTransition.start();\n                    setTimeout(() => \n                    {\n                        page.lockScroll();\n                        reactRouter.push(url);    \n                    },0);\n                }                \n                else {\n                    page.scrollTo({top: 0,behavior: \"smooth\"});\n                }    \n            });\n        },\n        beforePushSubscribe(cb: BeforePushSubscribeCallback) {\n            beforePushSubscriptions.push(cb);\n\n            return () => {\n                const tmp = beforePushSubscriptions.filter((_cb) => _cb!==cb);    \n                beforePushSubscriptions.length = 0;\n                beforePushSubscriptions.push(...tmp);\n            };\n        }\n    };\n};","import { HTMLAttributes, useEffect, useRef, useState } from \"react\";\nimport { useSmartState } from \"./use_smart_state\";\n\ntype ScrollbarAnalysis = {\n    scrollbarWidth: number;\n    overlaySupported: boolean;\n    isStyleable: boolean;\n};\n\nlet _cache_analyzeScrollbarCapabilities: ScrollbarAnalysis = {\n    scrollbarWidth: 0,\n    overlaySupported: false,\n    isStyleable: false\n};\nlet _is_analyzeScrollbarCapabilities = false;\n\nconst analyzeScrollbarCapabilities = () => {\n    if (_is_analyzeScrollbarCapabilities) return _cache_analyzeScrollbarCapabilities;\n\n    const div = document.createElement(\"div\");\n    const divChild = document.createElement(\"div\");\n    divChild.style.width = \"100%\";\n    divChild.style.height = \"200rem\";\n    divChild.style.backgroundColor = \"blue\";\n    div.style.position = \"absolute\";\n    div.style.left = \"0rem\";\n    div.style.top = \"0rem\";\n    div.style.width = \"500rem\";\n    div.style.height = \"100rem\";\n    div.style.overflow = \"auto\";\n    div.style.visibility = \"hidden\";\n    div.style.backgroundColor = \"red\";\n    div.appendChild(divChild);\n    document.body.appendChild(div);\n    const scrollbarWidth = div.offsetWidth-divChild.offsetWidth;\n    let overlaySupported = false;\n    let isStyleable = false;\n    \n    if (scrollbarWidth>0) {\n        div.style.overflow = \"overlay\";\n        overlaySupported = ((div.offsetWidth-divChild.offsetWidth)===0);\n        div.style.overflow = \"auto\";\n\n        const targetScrollbarWidth = scrollbarWidth*2;\n        const className = \"__scrollbar_stylable_test__\";\n        const css = `\n            .${className} {\n                scrollbar-width: ${targetScrollbarWidth}rem;\n            }\n    \n            .${className}::-webkit-scrollbar {\n                width: ${targetScrollbarWidth}rem;\n            }\n        `;\n    \n        const style = document.createElement(\"style\");\n    \n        if ((style as any).styleSheet) {\n            (style as any).styleSheet.cssText = css;\n        } else {\n            style.appendChild(document.createTextNode(css));\n        }\n        \n        document.getElementsByTagName('head')[0].appendChild(style);\n        div.className = className;\n        const scrollbarWidthAfter = div.offsetWidth - divChild.offsetWidth;\n        isStyleable = (scrollbarWidthAfter>scrollbarWidth);\n\n        document.getElementsByTagName('head')[0].removeChild(style);\n    }\n\n    document.body.removeChild(div);    \n\n    const ret: ScrollbarAnalysis = {\n        scrollbarWidth,\n        overlaySupported,\n        isStyleable\n    };\n\n    _is_analyzeScrollbarCapabilities = true;\n    _cache_analyzeScrollbarCapabilities = ret;\n\n    return ret;\n};\n\nexport const useDesktopScrollbar = <T extends Element = HTMLDivElement>() => {\n    const ref = useRef<T>(null);   \n    const [show,setShow] = useState(false); \n    const hideOverlayScrollbar = useSmartState(false);\n    const stylesRef = useRef<HTMLAttributes<T>[\"style\"]>({});\n    const classNameRef = useRef(\"\");\n    const overlayClassName = \"-desktop-scrollbar-overlay-scrollbar\";\n    const hideOverlayClassName = \"-desktop-scrollbar-hide-overlay-scrollbar\";\n    const normalClassName = \"-desktop-scrollbar-normal-scrollbar\";\n    const overlayScrollbarWidth = 10+2;\n    const normalScrollbarWidth = 6+2;\n    let injectedStyles = `\n\n    .${overlayClassName} {\n        scrollbar-color: rgba(0,0,0,1) rgba(0,0,0,0);\n        scrollbar-width: ${overlayScrollbarWidth}rem;\n        scrollbar-height: ${overlayScrollbarWidth}rem;\n    }\n\n    .${overlayClassName}::-webkit-scrollbar {\n        width: ${overlayScrollbarWidth}rem;\n        height: ${overlayScrollbarWidth}rem;\n    }\n\n    .${overlayClassName}::-webkit-scrollbar-thumb {\n        background-color: rgba(0,0,0,0.25);\n        border-radius: ${overlayScrollbarWidth*2}rem;\n        border: 3rem solid rgba(0, 0, 0, 0);\n        background-clip: padding-box;\n    }\n\n    .${overlayClassName}::-webkit-scrollbar-track {\n        background-color: transparent;\n    } \n\n    .${overlayClassName}.${hideOverlayClassName}::-webkit-scrollbar-thumb {\n        background-color: rgba(0,0,0,0);\n    }\n\n    .${normalClassName} {\n        scrollbar-color: rgba(0,0,0,1) rgba(0,0,0,0);\n        scrollbar-width: ${normalScrollbarWidth}rem;\n        scrollbar-height: ${normalScrollbarWidth}rem;\n    }\n\n    .${normalClassName}::-webkit-scrollbar {\n        width: ${normalScrollbarWidth}rem;\n        height: ${normalScrollbarWidth}rem;\n    }\n\n    .${normalClassName}::-webkit-scrollbar-thumb {\n        background-color: rgba(0,0,0,0.2);\n        border-radius: ${normalScrollbarWidth*2}rem;\n    }\n\n    .${normalClassName}::-webkit-scrollbar-track {\n        background-color: rgb(230,230,230);\n    } \n    `;\n\n    useEffect(() => {        \n        const { isStyleable,overlaySupported,scrollbarWidth } = analyzeScrollbarCapabilities();\n        if (scrollbarWidth>0) {\n            if (isStyleable) {\n                if (overlaySupported) {\n                    stylesRef.current = {\n                        overflow: \"overlay\"\n                    };\n                    classNameRef.current = overlayClassName;\n                }\n                else {\n                    classNameRef.current = normalClassName;\n                }\n            }\n        }\n        setShow(true);\n    },[]);\n    const styles: HTMLAttributes<HTMLDivElement>[\"style\"] = {\n        ...stylesRef.current,\n        opacity: show?1:0\n    };\n    return { ref,styles,className: `${classNameRef.current} ${hideOverlayScrollbar.value?hideOverlayClassName:\"\"}`,injectedStyles,hideOverlayScrollbar };\n};","import { useEffect, useRef } from \"react\";\nimport { useSmartState } from \"./use_smart_state\";\n\ntype SubscriberCb = ((value: any) => void);\n\nconst subscribers: {[topic: string]: SubscriberCb[]} = {};\n\nexport const usePubSubSender = <T = any>(topic: string,{ equate = (a,b) => a===b }: {equate?: (a: T,b: T) => boolean} = {}) => {\n    const ref = useRef<T>();\n    return {\n        send: (value: T) => {\n            if (!equate(value,ref.current)) {\n                ref.current = value;\n                subscribers[topic] = subscribers[topic] || [];    \n                subscribers[topic].forEach((cb) => cb(value));    \n            }\n        }\n    };\n};\n\nexport const usePubSubReceiver = <T = any>(topic: string,initialValue: T) => {\n    const ret = useSmartState<T>(initialValue);\n    useEffect(() => {\n        subscribers[topic] = subscribers[topic] || [];\n        const cb = (value: T) => {\n            ret.value = value;\n        };\n        subscribers[topic].push(cb);\n        return () => {\n            const index = subscribers[topic].indexOf(cb);\n            if (index!==-1) {\n                subscribers[topic].splice(index,1);\n            }\n        };\n    },[]);\n    return ret;\n};","import { useEffect, useRef } from \"react\";\nimport { ResizeObserverCallbackUpdate, ResizeObserverEntry } from \"./types\";\n\nlet ro: ResizeObserver;\nlet entries: ResizeObserverEntry[] = [];\n\nif (globalThis.document)\n{\n    ro = new ResizeObserver((_entries) => \n    {\n        _entries.forEach(({target: _target}) => \n        {\n            entries.forEach(({target,cb}) => \n            {\n                if (_target===target) cb();\n            });\n        });\n    });\n}\n\nexport const useResizeObserver = <T extends Element = HTMLDivElement>(cb: (update: ResizeObserverCallbackUpdate<T>) => void,{ disabled = false,initialCall = false }: { disabled?: boolean; initialCall?: boolean; } = {}) => \n{\n    if (!globalThis.document) return;\n    const ref = useRef<T>(null);\n    if (!disabled)\n    {\n        useEffect(() => \n        {\n            if (ref.current)\n            {\n                const target = ref.current;\n                const entry = {\n                    target,\n                    cb: () => \n                    {\n                        const { left,right,top,bottom,width,height } = target.getBoundingClientRect();\n                        cb({\n                            target,\n                            left,\n                            right,\n                            top,\n                            bottom,\n                            width,\n                            height\n                        });                    \n                    }\n                };\n                entries.push(entry);\n                if (initialCall) entry.cb();\n                ro.observe(target);\n                return () => \n                {\n                    entries = entries.filter((_entry) => _entry!==entry);\n                    ro.unobserve(target);\n                };\n            }\n        },[]);    \n    }\n    return ref;\n};","import { useContext, useEffect } from \"react\";\nimport { useSmartState } from \"./use_smart_state\";\nimport serverRefs from \"../server-refs.json\";\nimport { isSimpleObject } from \"../lib/shared/options/snapshot/misc\";\nimport { LayoutStateContext, TLayoutState } from \"../contexts/layout_state\";\nimport { NextRequest } from \"next/server\";\nimport { infiniteFetch } from \"../lib/infinite-fetch\";\nimport { libMockReviews } from \"../lib/mock-reviews\";\n\nexport type ReviewsHeaderProduct = {\n    reviewsCount: number;\n    starRating: number;\n};\n\nexport type ReviewsHeaderProductRaw = {\n    totalReviews: number;\n    totalRating: number;\n};\n\nexport type ReviewsHeaderRaw = {\n    products: {[id: string]: ReviewsHeaderProductRaw};\n};\n\nexport type ReviewsHeader = {\n    products: {[id: string]: ReviewsHeaderProduct};\n};\n\nconst rawReviewsHeaderProductToReal = ({totalRating,totalReviews}: ReviewsHeaderProductRaw) => {\n    const ret: ReviewsHeaderProduct = {\n        reviewsCount: totalReviews,\n        starRating: (totalReviews>0)?(totalRating/totalReviews):0\n    };\n    return ret;\n};\n\nexport const useReviewsHeader = () => {\n    const reviewsHeader = useSmartState<ReviewsHeader>(null);\n\n    useEffect(() => {\n        (async () => {            \n            const url = `${serverRefs.buckets.public}/reviewsummaries/header.json`;\n            // const response = await infiniteFetch(url);\n            // const header: ReviewsHeaderRaw = (await response.json());\n            const header = libMockReviews.genReviewsHeaderRaw();\n            // const header: ReviewsHeaderRaw = {\n            //     products: {}\n            // };\n            if (header?.products) {\n                const value: ReviewsHeader = {\n                    products: {}\n                };\n                Object.keys(header.products).forEach((productId) => {\n                    value.products[productId] = rawReviewsHeaderProductToReal(header.products[productId]);\n                });\n                reviewsHeader.value = value;\n            }\n        })();\n    },[]);\n\n    return reviewsHeader.value;\n};\n\nexport const consumeReviewsHeader = (productId: number | string,layout?: TLayoutState) => {\n    const { reviewsHeader } = layout?layout:useContext(LayoutStateContext);\n    if (reviewsHeader) {\n        return reviewsHeader.products[productId]?reviewsHeader.products[productId]:{reviewsCount: 0,starRating: 0};\n    }\n    else {\n        return {reviewsCount: -1,starRating: 0};\n    }\n};\n\nexport const consumeAllReviewsHeader = (layout?: TLayoutState) => {\n    const { reviewsHeader } = layout?layout:useContext(LayoutStateContext);\n    return reviewsHeader;\n};","import { useCallback, useEffect, useRef, useState } from \"react\";\n\nexport type SmartState<T> = {\n    value: T;\n    subscribe?: (cb: (value: T) => void) => (() => void);\n};\n\nexport const useIsMounted = () => {\n    const isMountedRef = useRef(true);\n    const isMounted = useCallback(() => isMountedRef.current, []);\n  \n    useEffect(() => {\n      return () => void (isMountedRef.current = false);\n    },[]);\n  \n    return isMounted;\n}\n\nexport const useSmartState = <T>(initialValue: T,{onSet = () => {}}: {onSet?: (value: T) => void} = {}): SmartState<T> => {\n    type subscriptionCb = (value: T) => void;\n    \n    const [value,setValue] = useState(initialValue);\n    const ref = useRef(value);\n    const subscriptionsRef = useRef<subscriptionCb[]>([]);\n    ref.current = value;\n\n    const isMounted = useIsMounted();\n\n    const interfaceRef = useRef<SmartState<T>>();\n\n    return interfaceRef.current = interfaceRef.current || {\n        get value() {\n            return ref.current;\n        },\n        set value(value) {\n            if (!isMounted()) return;\n            ref.current = value;\n            setValue(value);\n            onSet(value);\n            subscriptionsRef.current.forEach((cb) => cb(value));\n        },\n        subscribe(cb: subscriptionCb) {\n            subscriptionsRef.current.push(cb);\n            return () => {\n                const tmp = subscriptionsRef.current.filter((_cb) => _cb!==cb);\n                subscriptionsRef.current.length = 0;\n                subscriptionsRef.current.push(...tmp);\n            };\n        } \n    };\n};","import serverRefs from \"../../server-refs.json\";\nimport { infiniteFetch } from \"../infinite-fetch\";\nimport { CheckoutData } from \"../services/cart/cart\";\nimport { CartItemOptionValues } from \"../services/cart/types\";\n\nexport type EditOrderCartItem = {\n    quantity: number;\n    productId: string;\n    options: CartItemOptionValues;\n    freeProduct: boolean;\n};\n\nexport type EditOrderType = \"order\" | \"draft\";\n\nexport type EditOrderOrder = {\n    id: string;\n    name: string;\n    customer: {\n        displayName: string;\n        email: string;\n    };\n    priceCents: number;\n    cartItems: EditOrderCartItem[];\n    orderType: EditOrderType;\n    orderReturnUrl: string;\n    snapshotId: string;\n};\n\nclass EditOrderApi {\n    editSecureKey = \"\";\n\n    async getOrder(editOrderId: string) {\n        // const baseUrl = (process.env.NODE_ENV===\"development\")?\"http://localhost:9000\":serverRefs.apis.admin;\n        const baseUrl = serverRefs.apis.admin;\n        let url = `${baseUrl}/${this.editSecureKey}/edit-order?id=${editOrderId}&type=get-cart`;\n        const response = await infiniteFetch(url);\n        const res = (await response.json());\n        if (res?.type===\"success\") {\n            const { id,name,customer,cartItems,priceCents,orderType,orderReturnUrl,snapshotId } = res;\n            const ret: EditOrderOrder = { id,name,customer,cartItems,orderType,orderReturnUrl,priceCents,snapshotId };\n            return ret;\n        }\n        else {\n            const errorMessage = res?.errorMessage || \"unknown error occurred\";\n            alert(`error: ${errorMessage}`);\n        }\n    }\n\n    async saveOrder(editOrderId: string,newCheckout: CheckoutData,display: string,ps: string,snapshotId: string,centVariantId: string,notifyCustomer: boolean,staffNote: string) {\n        // const baseUrl = (process.env.NODE_ENV===\"development\")?\"http://localhost:9000\":serverRefs.apis.admin;\n        const baseUrl = serverRefs.apis.admin;\n        let url = `${baseUrl}/${this.editSecureKey}/edit-order`;\n\n        const res = await fetch(url,{\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                \"order-edit-id\": editOrderId,\n                \"new-checkout\": JSON.stringify(newCheckout),\n                \"display\": display,\n                \"ps\": ps,\n                \"snapshot-id\": snapshotId,\n                \"cent-variant-id\": centVariantId,\n                \"notify-customer\": notifyCustomer,\n                \"staff-note\": staffNote\n            })\n        });\n        const jsonRes = await res.json();\n        if (jsonRes?.type===\"error\") {\n            throw new Error(jsonRes?.errorMessage || \"Unexpected response from server\");\n        }\n        else if (jsonRes?.type===\"success\") {\n            return;\n        }\n        else {\n            throw new Error(\"Unexpected response from server\");\n        }\n    }\n}\n\nexport const apiEditOrder = new EditOrderApi();","import { ProductReview } from \"../../hooks/use_product_reviews_summary\";\nimport serverRefs from \"../../server-refs.json\";\nimport { LocationAddress } from \"../shared/types/location.types\"\nimport { infiniteFetch } from \"../infinite-fetch\";\n\nexport type ReviewHighlight = {\n    title: string;\n    body: string;\n    name: string;\n};\n\nexport type ReviewsResponse = {\n    items: ProductReview[];\n    lastSortKey: string;\n};\n\nclass ApiLocation {\n    async search(text: string,countryCode: string) {\n        try {\n            const baseUrl = (process.env.NODE_ENV===\"development\")?\"http://localhost:9000\":serverRefs.apis.api;\n            let url = `${baseUrl}/location`;\n    \n            const res = await fetch(url,{\n                method: \"POST\",\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    text,\n                    country_code: countryCode\n                })\n            });\n            const jsonRes = await res.json();\n            if (jsonRes?.type===\"error\") {\n                throw new Error(jsonRes?.errorMessage || \"Unexpected response from server\");\n            }\n            else if (jsonRes?.type===\"success\") {            \n                return jsonRes.results as LocationAddress[];\n            }\n            else {\n                throw new Error(\"Unexpected response from server\");\n            }    \n        }\n        catch(err) {\n            return [] as LocationAddress[];\n        }\n    }\n}\nexport const apiLocation = new ApiLocation();","import { ProductReview } from \"../../hooks/use_product_reviews_summary\";\nimport serverRefs from \"../../server-refs.json\";\nimport { infiniteFetch } from \"../infinite-fetch\";\nimport { misc } from \"../misc\";\nimport { SeededRandomByProductId, libMockReviews } from \"../mock-reviews\";\n\nexport type ReviewHighlight = {\n    title: string;\n    body: string;\n    name: string;\n};\n\nexport type ReviewsResponse = {\n    items: ProductReview[];\n    lastSortKey: string;\n};\n\nexport type ReviewsOrder = \"most-recent\" | \"highest-rated\" | \"lowest-rated\";\n\ntype ReviewDummy = {title: string;body: string};\ntype ReviewDummyCollections = {\n    good: ReviewDummy[];\n    bad: ReviewDummy[];\n};\n\nexport class DummyReviewGen {\n    constructor(private reviews: ReviewDummyCollections) {        \n    }\n\n    generateRandomName(productId: string | number) {        \n        const random = new SeededRandomByProductId(productId);\n        random.choice([0,1,2]);\n        // console.log({productId});\n        const firstNames = [\"Alex\", \"Jordan\", \"Taylor\", \"Casey\", \"Jamie\", \"Morgan\", \"Charlie\", \"Dakota\", \"Robin\", \"Quinn\"];\n        const lastNames = [\"Smith\", \"Johnson\", \"Williams\", \"Jones\", \"Brown\", \"Davis\", \"Miller\", \"Wilson\", \"Moore\", \"Taylor\"];\n        return random.choice(firstNames)+\" \"+random.choice(lastNames);\n    }\n\n    getRandom(productId: string | number): ReviewHighlight {\n        const random = new SeededRandomByProductId(productId);        \n        return {...random.choice(this.reviews.good),name: this.generateRandomName(productId)};\n    }\n\n    getByTypeAndIndex(type: \"good\" | \"bad\",index: number) {\n        console.log(type,index);\n        return this.reviews[type][index];\n    }\n}\n\nclass ApiReview {\n    private cachedDummyReviewGen: DummyReviewGen = null;\n\n    async getDummyReviewGens() {\n        if (this.cachedDummyReviewGen!==null) return this.cachedDummyReviewGen;\n\n        // const url = `${serverRefs.buckets.public}/reviews/dummy.json`;\n        const url = \"/static/local/demo-data/reviews/dummy.json\";\n        const response = await infiniteFetch(url);\n        this.cachedDummyReviewGen = new DummyReviewGen(await response.json());\n        return this.cachedDummyReviewGen;\n    }\n\n    async getHighlight(productId: string | number) {\n        const dummyReviewGen = await this.getDummyReviewGens();\n        return dummyReviewGen.getRandom(productId);\n        // const url = `${serverRefs.buckets.public}/reviewsummaries/highlight_${productId}.json`;\n        // const response = await infiniteFetch(url);\n        // const items = await response.json();\n        // if (Array.isArray(items)) {\n        //     return items[Math.floor(Math.random()*items.length)];\n        // }\n        // else {\n        //     return null;\n        // }    \n    }\n\n\n\n    async getReviews(productId: string | number,order: ReviewsOrder = \"most-recent\",lastSortKey?: string,{byRating}: {byRating?: number} = {}) {\n        console.log(order,lastSortKey,{byRating});\n        await new Promise((resolve) => {            \n            setTimeout(resolve,400+(Math.random()*500));\n        });\n        return await libMockReviews.getReviews(productId,order,lastSortKey,{byRating});\n        // let url = `${serverRefs.apis.api}/reviews?product_id=${productId}&order=${order}`;\n        // if (lastSortKey) url+= `&last_sort_key=${lastSortKey}`;\n        // if (byRating) url+= `&by_rating=${byRating}`;\n        // const response = await infiniteFetch(url);\n        // const res: ReviewsResponse = await response.json();\n        // if (Array.isArray(res?.items)) {\n        //     return res;\n        // }\n        // else {\n        //     return null;\n        // }    \n    }\n}\nexport const apiReview = new ApiReview();","import { infiniteFetch } from \"../infinite-fetch\";\nimport { isSimpleObject } from \"../shared/options/snapshot/misc\";\nimport { prebuildData } from \"../prebuild-data\";\n\nexport const sendStorefrontQuery = async ({ query, variables }: {query: string; variables: any}) => {\n    const storefront = prebuildData.getStorefront();\n    // console.log(\"query\",query);\n\n    const result = await infiniteFetch(\n        storefront.graphqlUrl,{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"X-Shopify-Storefront-Access-Token\": storefront.token,\n            },\n            body: JSON.stringify({ query, variables }),\n        },\n    );\n\n    // console.log(\"result\",result);\n    \n    if (!result.ok) {\n        console.error(result);\n        return false;\n    }\n    \n    const res = await result.json();\n    // console.log(\"res\",res);\n    // console.log(JSON.stringify(res,null,2));\n    const { data } = res;    \n    \n    return data;    \n};\n\nexport const createCart = async () => {\n    const data = await sendStorefrontQuery({\n        query: `\n          mutation CreateCart {\n            cartCreate {\n              cart {\n                checkoutUrl\n                id\n              }\n            }\n          }\n        `,\n        variables: {},\n    });\n\n    return {\n        cartId: data.cartCreate?.cart?.id as string,\n        checkoutUrl: data.cartCreate?.cart?.checkoutUrl as string,\n    };\n};\n\nexport const splitObject = (value: any) => {\n    const ret: {[name: string]: string} = {};\n    const process = (prefix: string,value: any) => {\n        if ([\"string\",\"number\",\"boolean\"].indexOf(typeof value)!==-1) {\n            ret[prefix] = value.toString();\n        }\n        else if (value===null) {\n            ret[prefix] = \"null\";\n        }\n        else if (Array.isArray(value)) {\n            ret[`${(prefix!==\"\")?`${prefix}.`:\"\"}length`] = value.length.toString();\n            value.forEach((value,index) => {\n                process(`${(prefix!==\"\")?`${prefix}.`:\"\"}${index}`,value);\n            });\n        }\n        else if (isSimpleObject(value)) {\n            Object.keys(value).forEach((key) => {\n                process(`${(prefix!==\"\")?`${prefix}.`:\"\"}${key}`,value[key]);\n            });\n        }\n    };\n    process(\"\",value);\n    return ret;\n}\n\nexport type LineItemAttribute = {\n    key: string;\n    value: string;\n};\n\nexport type LineItem = {\n    attributes: LineItemAttribute[];\n    quantity: number;\n    variantId: string;\n};\n\nexport const createCheckout = async (customAttributes: {[key: string]: string},lineItems: LineItem[],note = \"\") => {\n    const query = `\n        mutation {\n            checkoutCreate(input: {\n                customAttributes: [${Object.keys(customAttributes).map((key) => `{key:${JSON.stringify(key)},value:${JSON.stringify(customAttributes[key])}}`).join(\",\")}],\n                lineItems: [\n                    ${lineItems.map(({attributes,quantity,variantId}) => `{\n                        customAttributes: [\n                            ${attributes.map(({key,value}) => `{\n                                key: ${JSON.stringify(key)},\n                                value: ${JSON.stringify(value)}\n                            }`).join(`,\n                            `)}\n                        ],\n                        quantity: ${quantity},\n                        variantId: \"gid://shopify/ProductVariant/${variantId}\"\n                    }`).join(`,\n                    `)}],\n                note: ${JSON.stringify(note)}\n            }) {\n                checkout {\n                    id\n                    webUrl\n                }\n                checkoutUserErrors {\n                    code\n                    field\n                    message\n                }\n            }\n        }\n    `;\n    console.log(\"query\",query);\n    const data = await sendStorefrontQuery({\n        query,\n        variables: {},\n    });\n\n    return {\n        data\n    };\n};\n\nexport const checkoutLineItemsAdd = async (checkoutId: string,{attributes,quantity,variantId}: LineItem) => {\n    const query = `\n        mutation {\n            checkoutLineItemsAdd(checkoutId: \"${checkoutId}\",lineItems: [{\n                customAttributes: [\n                    ${attributes.map(({key,value}) => `{\n                        key: ${JSON.stringify(key)},\n                        value: ${JSON.stringify(value)}\n                    }`).join(`,\n                    `)}\n                ],\n                quantity: ${quantity},\n                variantId: \"gid://shopify/ProductVariant/${variantId}\"\n            }]) {\n                checkout {\n                    id\n                    webUrl\n                }\n                checkoutUserErrors {\n                    code\n                    field\n                    message\n                }\n            }\n        }\n    `;\n    const data = await sendStorefrontQuery({\n        query,\n        variables: {},\n    });\n\n    return {\n        data\n    };\n};","class Env\n{\n    isMobile()\n    {\n        return matchMedia(\"(hover: none)\").matches;\n    }\n\n    isDesktop()\n    {\n        return !this.isMobile();\n    }\n}\n\nexport const env = new Env();","import { misc } from \"./misc\";\n\nexport const infiniteFetch = async (url: string,init?: RequestInit) => {\n    while(true) {\n        try {\n            return await fetch(url,init);\n        }\n        catch(err) {\n            console.log(\"infiniteFetch err\",err);\n            await misc.sleep(1000);\n        }        \n    }\n};","export const lstore = {\n    set(key: string,obj: any) {\n        if (globalThis.document) {\n            localStorage.setItem(key,JSON.stringify(obj));\n        }        \n    },\n    get<T = any>(key: string) {\n        if (!globalThis.document) return null;\n        try {\n            return JSON.parse(localStorage.getItem(key)) as T;\n        }\n        catch(e) {\n            return null;\n        }        \n    }\n};","import { NextRequest } from \"next/server\";\nimport { MutableRefObject } from \"react\";\n\nlet _isFontAvailable: ((fontFamily: string) => boolean);\n\nclass Misc\n{\n    getScrollTop()\n    {\n        return (typeof window !== \"undefined\")?document.documentElement.scrollTop:0;\n    }\n\n    getServerTime() {\n        return (new Date()).getTime()+(globalThis?.TBDLServerTimeDiff || 0);\n    }\n\n    getWindowSize()\n    {\n        if (typeof window !== \"undefined\")\n        {\n            return {\n                width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n                height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\n            };\n        }\n        else\n        {\n            return {width: 0,height: 0};\n        }\n    }\n\n    setLongTimeout(cb: () => void,longTimeout: number) {\n        const eventAt = (new Date()).getTime()+longTimeout;\n        const interval = 5000;\n        // const interval = 60*60*1000;\n        const next = () => {\n            const currentTime = (new Date()).getTime();\n            const remaining = eventAt-currentTime;\n            if (remaining<=0) {\n                cb();\n            }\n            else {\n                setTimeout(next,Math.min(remaining,interval));\n            }\n        };\n\n        next();\n    };\n\n    integerSplit(total: number,count: number) {\n        const ret: number[] = [];\n        const part = Math.max(1,Math.floor(total/count));\n        while(total>=part) {\n            ret.push(part);\n            total-= part;\n        }\n        if (total>0) ret[ret.length-1]+= total;\n        while(ret.length<count) ret.push(0);\n        return ret;\n    }\n\n    integerSplitByRatio(total: number,ratios: number[]) {\n        const ratiosTotal = ratios.reduce((acc,value) => acc+value,0);\n        let remaining = total;\n        const ret: number[] = [];\n        for(let i=0;i<ratios.length;i++) {            \n            const take = (i<ratios.length-1)?Math.floor((ratios[i]/ratiosTotal)*total):remaining;\n            ret.push(take);\n            remaining-= take;\n        }\n        return ret;\n    }\n\n    limitCeiling(value: number,ceiling: number) {\n        return Math.min(ceiling,value);\n    }\n\n    limitFloor(value: number,floor: number) {\n        return Math.max(floor,value);\n    }\n\n    getTextWidth(text: string,fontFamily: string,fontSize: number,fontWeight = 400,letterSpacing = 0)\n    {\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        ctx.textBaseline = \"top\";\n        ctx.fillStyle = \"blue\";\n        ctx.font = `${fontWeight} ${fontSize}rem ${fontFamily}`;                \n        return ctx.measureText(text).width+(text.length*Math.max(0,letterSpacing*fontSize));\n    }\n\n    getTextAspectRatio(text: string,fontFamily: string,fontWeight = 400,letterSpacing = 0)\n    {\n        const fontSize = 50;\n        return this.getTextWidth(text,fontFamily,fontSize,fontWeight,letterSpacing)/fontSize;\n    }\n\n    removeDuplicates(values: (number | string)[]) {\n        const hash: {[value: string]: true} = {};\n        return values.filter((value) => (hash[value])?false:(hash[value] = true));\n    }\n    \n    isFontAvailable(fontFamily: string)\n    {\n        if (!_isFontAvailable)\n        {\n            const body = document.body;\n        \n            const container = document.createElement(\"span\");\n            container.innerHTML = Array(100).join(\"abcdejz\");\n            container.style.cssText = [\n                \"position:absolute\",\n                \"width:auto\",\n                \"font-size:128rem\",\n                \"left:-99999rem\"\n            ].join(\" !important;\");\n        \n            const getWidth = (fontFamily: string) => \n            {\n                container.style.fontFamily = fontFamily;\n        \n                body.appendChild(container);\n                const ret = container.clientWidth;\n                body.removeChild(container);\n        \n                return ret;\n            };\n        \n            const monoWidth  = getWidth(\"monospace\");\n            const serifWidth = getWidth(\"serif\");\n            const sansWidth  = getWidth(\"sans-serif\");\n        \n            _isFontAvailable = (fontFamily) => \n            {\n                return monoWidth !== getWidth(fontFamily + \",monospace\") ||\n                    sansWidth !== getWidth(fontFamily + \",sans-serif\") ||\n                    serifWidth !== getWidth(fontFamily + \",serif\");\n            };\n        }\n        return (_isFontAvailable)?_isFontAvailable(fontFamily):false;\n    }\n\n    awaitFont(fontFamily: string,timeoutMilliseconds: number,cb: () => void)\n    {\n        const startedAt = (new Date()).getTime();\n        const next = () => \n        {\n            const elapsed = (new Date()).getTime()-startedAt;\n            if (this.isFontAvailable(fontFamily) || (elapsed>=timeoutMilliseconds))\n            {\n                cb();\n            }\n            else\n            {\n                requestAnimationFrame(next);\n            }            \n        };\n        requestAnimationFrame(next);\n    }\n\n    async sleep(milliseconds: number)\n    {\n        return new Promise((resolve) => { setTimeout(resolve,milliseconds) });\n    }\n\n    promiseGenRetrierGen<T>(promiseGen: () => Promise<T>,retries = 5,sleepBetweenMs = 1000): () => Promise<T>\n    {\n        return async () => \n        {\n            let lastError: any = null;\n            for(let i=0;i<retries+1;i++)\n            {\n                try\n                {\n                    return await promiseGen();\n                }\n                catch(err)\n                {        \n                    lastError = err;        \n                }\n                if (i<retries) await this.sleep(sleepBetweenMs);\n            }\n            throw lastError;    \n        };\n    }\n\n    removeAllCaps(text: string)\n    {\n        const parts = (text+\" \").split(/(\\. |\\? )/g);\n        for(let i=0;i<parts.length;i+= 2)\n        {\n            const sentence = parts[i];\n            const words = sentence.split(\" \");\n            parts[i] = words.map((word,index) => \n            {\n                if ((word.split(\"\").filter((ch) => /[a-z]/i.test(ch)?/[A-Z]/.test(ch):true).length===word.length) && (word!==\"I\"))\n                {\n                    word = word.toLowerCase();\n                    if (index===0) word = word.substring(0,1).toUpperCase()+word.substring(1);\n                }\n                return word;\n            }).join(\" \");\n        }\n        return parts.join(\"\").trimEnd();\n    }\n\n    getParameterByName(name: string, url = window.location.href) {\n        name = name.replace(/[\\[\\]]/g, '\\\\$&');\n        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n            results = regex.exec(url);\n        if (!results) return null;\n        if (!results[2]) return '';\n        return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n    }    \n\n    parseQuerySearchString(query: string) {\n        const ret: {[key: string]: string} = {};\n        query.split(\"&\").forEach((keyValue) => {\n            const parts = keyValue.split(\"=\");\n            if (parts.length===2) {\n                const key = decodeURIComponent(parts[0]);\n                const value = decodeURIComponent(parts[1]);\n                ret[key] = value;\n            }\n        });\n        return ret;\n    }\n\n    queryParamsToQuerySearchString(params: {[key: string]: string}) {        \n        return Object.keys(params).map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`).join(\"&\");\n    }\n\n    getQueryParams() {        \n        const urlSearchParams = new URLSearchParams(globalThis?.location?.search || \"\");\n        return Object.fromEntries(urlSearchParams.entries());        \n    }\n\n    addQueryParamToUrl(url: string,paramName: string,paramValue: string | number,overwrite = false) {\n        const h = url.indexOf(\"#\");\n        let hashTag = \"\";\n        if (h!==-1) {\n            hashTag = url.substring(h);\n            url = url.substring(0,h);\n        }\n        const r = url.indexOf(\"?\");\n        if (r!==-1) {            \n            const queryParams = this.parseQuerySearchString(url.substring(r+1));            \n            if ((overwrite) || !queryParams.hasOwnProperty(paramName)) {\n                queryParams[paramName] = paramValue.toString();\n            }\n            return `${url.substring(0,r)}?${this.queryParamsToQuerySearchString(queryParams)}${hashTag}`;\n        }\n        else {\n            return `${url}?${encodeURIComponent(paramName)}=${encodeURIComponent(paramValue.toString())}${hashTag}`;\n        }\n    }\n\n    removeQueryParamsFromUrl(url: string,...paramNames: string[]) {\n        const h = url.indexOf(\"#\");\n        let hashTag = \"\";\n        if (h!==-1) {\n            hashTag = url.substring(h);\n            url = url.substring(0,h);\n        }\n        const r = url.indexOf(\"?\");\n        if (r!==-1) {            \n            const queryParams = this.parseQuerySearchString(url.substring(r+1));            \n            paramNames.forEach((paramName) => {\n                delete queryParams[paramName];\n            });\n            const querySearchString = this.queryParamsToQuerySearchString(queryParams);\n            return `${url.substring(0,r)}${querySearchString?\"?\"+querySearchString:\"\"}${hashTag}`;\n        }\n        else {\n            return `${url}${hashTag}`;\n        }\n    }\n\n    splitPriceForDisplay(price: number) {\n        const pricePre = `00${Math.round(price)}`;\n        return {\n            dollar: parseInt(pricePre.substring(0,pricePre.length-2)).toString(),\n            cents: pricePre.substring(pricePre.length-2)\n        };\n    };    \n\n    createImageDimensions(aspectRatioWidth: number,aspectRatioHeight: number,height: number) {\n        const aspectRatio = aspectRatioWidth/aspectRatioHeight;\n        return {            \n            height,\n            width: height*aspectRatio\n        };\n    } \n\n    combinations(count: number,cb: (indexes: number[]) => void) {\n        const indexes: number[] = [];\n        const hash: {[index: string]: true} = {};\n        const process = () => {\n            if (indexes.length===count) {\n                cb(indexes);\n            }\n            else {\n                for(let i=0;i<count;i++) {\n                    if (!hash[i]) {\n                        hash[i] = true;\n                        indexes.push(i);\n                        process();\n                        indexes.pop();\n                        delete hash[i];\n                    }\n                }\n            }\n        };\n\n        process();\n    }\n\n    genUUID() {\n        return Date.now().toString(36) + Math.random().toString(36).substring(2);\n    }\n\n    lookupArray<T>(arr: T[],lookupCb: (value: T,index: number) => boolean) {\n        for(let i=0;i<arr.length;i++) {\n            if (lookupCb(arr[i],i)) return i;\n        }\n        return -1;\n    }\n\n    getOffsetRelativeToParent(elem: HTMLDivElement,parentQuery: string) {\n        const ret = {\n            left: 0,\n            top: 0\n        };\n        let pnt: HTMLDivElement = elem;\n        while(pnt.offsetParent) {\n            ret.left+= pnt.offsetLeft;\n            ret.top+= pnt.offsetTop;\n            const parent = pnt.offsetParent as HTMLDivElement;\n            if (parent.matches(parentQuery)) return ret;\n            pnt = parent;\n        }\n        \n        return null;\n    }\n\n    waitForStyleValue(element: Element,propertyName: string,value: string,cb: () => void,{ interval = 100 }: {interval?: number} = {}) {\n        this.waitForCondition(() => getComputedStyle(element)[propertyName]===value,cb,{interval});\n    }\n\n    waitForCondition(check: () => boolean,cb: () => void,{ interval = 100 }: {interval?: number} = {}) {\n        const next = () => {\n            if (check()) {\n                cb();\n            }\n            else {\n                setTimeout(next,interval);\n            }            \n        };\n        next();\n    }\n\n    hasTouchEvents() {\n        return (\"ontouchstart\" in window);\n    }\n\n    async sha1Hash(value: string) {\n        const sourceBytes = new TextEncoder().encode(value);\n        const digest = await crypto.subtle.digest(\"SHA-1\", sourceBytes);\n        const resultParts: string[] = [];\n        const arr = new Uint8Array(digest);        \n        for(let i=0;i<arr.length;i++) resultParts.push(arr[i].toString(16).padStart(2,\"0\"));\n        return resultParts.join(\"\");\n    }\n\n    focusInputElement(ref: MutableRefObject<HTMLInputElement>) {\n        if (ref.current) ref.current.focus();\n    }\n\n    focusSelectElement(ref: MutableRefObject<HTMLSelectElement>) {\n        if (ref.current) ref.current.focus();\n    }\n\n    getInputElementValue(ref: MutableRefObject<HTMLInputElement>) {\n        return ref.current?ref.current.value:\"\";\n    }\n\n    getInputElementChecked(ref: MutableRefObject<HTMLInputElement>) {\n        return ref.current?ref.current.checked:\"\";\n    }\n\n    getInputElementSelectionStart(ref: MutableRefObject<HTMLInputElement>) {\n        return ref.current?ref.current.selectionStart:0;\n    }\n\n    getSelectElementValue(ref: MutableRefObject<HTMLSelectElement>) {\n        return ref.current?ref.current.value:\"\";\n    }\n\n    setInputElementValue(ref: MutableRefObject<HTMLInputElement>,value: string) {\n        if (ref.current) {\n            ref.current.value = value;\n        }\n    }\n\n    setInputElementChecked(ref: MutableRefObject<HTMLInputElement>,checked: boolean) {\n        if (ref.current) {\n            ref.current.checked = checked;\n        }\n    }\n\n    setSelectElementValue(ref: MutableRefObject<HTMLSelectElement>,value: string) {\n        if (ref.current) {\n            ref.current.value = value;\n        }\n    }\n\n    setSelectElementSelectedIndex(ref: MutableRefObject<HTMLSelectElement>,value: number) {\n        if (ref.current) {\n            ref.current.selectedIndex = value;\n        }\n    }\n\n    isValidEmail(value: string) {\n        return /^.+\\@.+$/.test(value);\n    }\n\n    removeItemsFromArray<T = any>(arr: T[],...items: T[]) {\n        const newArr = arr.filter((x => !items.includes(x)));\n        arr.length = 0;\n        arr.push(...newArr);\n    }\n\n    arrayToHash<T>(values: T[]) {\n        const ret: {[key: string]: true} = {};\n        values.forEach((x) => ret[x+\"\"] = true);\n        return ret;\n    }\n\n    isExternalPath(path: string) {\n        return /^https?\\:\\/\\//.test(path);\n    }\n}\n\nexport const misc = new Misc();","import { BoughtTogetherClient } from \"../hooks/use_bought_together_client\";\nimport { ProductReview, ProductReviewSummary } from \"../hooks/use_product_reviews_summary\";\nimport { ReviewsHeaderProductRaw, ReviewsHeaderRaw } from \"../hooks/use_reviews_header\";\nimport { DummyReviewGen, ReviewsOrder, ReviewsResponse, apiReview } from \"./api/review\";\nimport { prebuildData } from \"./prebuild-data\";\n\nexport class SeededRandomByProductId {\n    private seed: number;\n\n    constructor(productId: string | number) {\n        this.seed = parseInt(productId.toString())%(2 ** 32);\n    }\n\n    next() {\n        const a = 1664525;\n        const c = 1013904223;\n        const m = 2 ** 32;\n    \n        this.seed = (a * this.seed + c) % m;\n        return this.seed / m;\n    }\n\n    fromLength(length: number) {\n        return Math.floor(this.next()*length);\n    }\n\n    betweenInclusive(from: number,to: number) {\n        const trueFrom = Math.min(from,to);\n        const trueTo = Math.max(from,to);\n        return trueFrom+this.fromLength(trueTo-trueFrom+1);\n    }\n\n    choice<T>(arr: T[]) {\n        return arr[this.fromLength(arr.length)];\n    }\n\n    shuffleArray<T>(arr: T[]) {\n        for (let i=arr.length-1;i>0;i--) {\n            const j = Math.floor(this.next()*(i+1));    \n            [arr[i],arr[j]] = [arr[j],arr[i]];\n        }\n        return arr;\n    }\n}\n\nexport type MockReviewHeader = {\n    rating: number;\n    timestamp: number;\n    type: \"good\" | \"bad\";\n};\n\nexport type MockReviewViewItem = {\n    reviewIndex: number;\n    ringIndex: number;\n};\nexport type MockReviewView = MockReviewViewItem[];\n\nconst randomRing = [8,16,12,2,14,13,6,7,1,17,11,5,3,0,4,19,9,15,18,10,20,19,9,1,2,15,7,0,8,13,6,4,20,5,17,11,16,14,10,3,18,12,1,3,20,8,11,14,19,12,7,18,10,9,2,0,16,15,13,5,17,4,6,12,13,2,14,19,8,18,15,6,1,5,9,17,4,0,11,3,7,10,16,20,12,13,0,2,3,1,8,17,10,9,15,18,14,7,19,20,16,5,4,6,11];\n\nexport class ProductMockReviewCollection {\n    productId: number;\n    header: ReviewsHeaderProductRaw;\n    reviewHeaders: MockReviewHeader[] = [];\n    ratingsHeader: ProductReviewSummary[\"ratings\"] = {\n        \"5\": 0,\n        \"4\": 0,\n        \"3\": 0,\n        \"2\": 0,\n        \"1\": 0,\n    };\n    views: {\n        mostRecent: MockReviewView;\n        highestRated: MockReviewView;\n        lowestRated: MockReviewView;\n        perRating: {\n            \"5\": MockReviewView;\n            \"4\": MockReviewView;\n            \"3\": MockReviewView;\n            \"2\": MockReviewView;\n            \"1\": MockReviewView;\n        }\n    } = {\n        mostRecent: [],\n        highestRated: [],\n        lowestRated: [],\n        perRating: {\n            \"5\": [],\n            \"4\": [],\n            \"3\": [],\n            \"2\": [],\n            \"1\": [],\n        },\n    };    \n    ringShuffleMap: number[] = [];\n\n    private shuffleArray<T>(arr: T[]) {\n        const random = new SeededRandomByProductId(this.productId);\n        for (let i=arr.length-1;i>0;i--) {\n            const j = Math.floor(random.next()*(i+1));    \n            [arr[i],arr[j]] = [arr[j],arr[i]];\n        }\n        return arr;\n    }\n\n    constructor(productId: string | number) {\n        this.productId = parseInt(productId.toString());\n        let ratings = {\"5\": 60, \"4\": 40,\"3\":20,\"2\":5,\"1\": 3};\n        this.header = libMockReviews.genReviewsHeaderRaw().products[this.productId];\n\n        const random = new SeededRandomByProductId(this.productId);\n        const ratingsRatio = {\n            \"5\": 1100+random.fromLength(30), \n            \"4\": 400+random.fromLength(30),\n            \"3\": 200+random.fromLength(30),\n            \"2\": 50+random.fromLength(30),\n            \"1\": 30+random.fromLength(30)\n        };        \n        const ratingsTotal = ratingsRatio[\"5\"]+ratingsRatio[\"4\"]+ratingsRatio[\"3\"]+ratingsRatio[\"2\"]+ratingsRatio[\"1\"];\n        const totals = {\n            \"5\": 0,\n            \"4\": 0,\n            \"3\": 0,\n            \"2\": 0,\n            \"1\": 0,\n        };\n        let tmpTotal = 0;\n        for(let i=2;i<=5;i++) {\n            totals[i.toString()] = Math.floor((ratingsRatio[i.toString()]/ratingsTotal)*this.header.totalReviews);\n            tmpTotal+= totals[i.toString()];\n        }\n        totals[\"1\"] = this.header.totalReviews-tmpTotal;\n        this.ratingsHeader = totals;\n        const ratingsOrder: number[] = [];\n        for(let i=1;i<=5;i++) {            \n            for(let j=0;j<totals[i.toString()];j++) {\n                ratingsOrder.push(i);\n            }\n        }\n        this.shuffleArray(ratingsOrder);\n\n        let pntTimestamp = (new Date(2024,1,17,0,0,0)).getTime();\n\n        type TypeCounter = {\"good\": number; \"bad\": number; };\n        type RatingNumber = \"5\" | \"4\" | \"3\" | \"2\" | \"1\";\n\n        let typeIndex: TypeCounter = {good: 0,bad: 0};\n        let typeIndexPerRating: {\n            \"5\": TypeCounter;\n            \"4\": TypeCounter;\n            \"3\": TypeCounter;\n            \"2\": TypeCounter;\n            \"1\": TypeCounter;\n        } = {\n            \"5\": {good: 0,bad: 0},\n            \"4\": {good: 0,bad: 0},\n            \"3\": {good: 0,bad: 0},\n            \"2\": {good: 0,bad: 0},\n            \"1\": {good: 0,bad: 0},\n        };\n        for(let i=0;i<ratingsOrder.length;i++) {\n            pntTimestamp-= random.betweenInclusive(30*60*1000,24*60*60*1000);            \n            const rating = ratingsOrder[i];\n            const ratingString = rating.toString() as RatingNumber;\n            this.reviewHeaders.push({\n                rating,\n                timestamp: pntTimestamp,\n                type: (ratingsOrder[i]>3)?\"good\":((ratingsOrder[i]<3)?\"bad\":((random.fromLength(2)===0)?\"good\":\"bad\")),\n            });\n            const { type } = this.reviewHeaders[this.reviewHeaders.length-1];\n            this.views.mostRecent.push({\n                reviewIndex: i,\n                ringIndex: typeIndex[type]++,\n            });\n            this.views.perRating[ratingString].push({\n                reviewIndex: i,\n                ringIndex: typeIndexPerRating[ratingString][type]++,\n            });\n        }\n\n        typeIndex = {good: 0,bad: 0};\n        for(let i=5;i>=1;i--) {\n            for(let j=0;j<this.views.perRating[i.toString() as RatingNumber].length;j++) {\n                const { reviewIndex } = this.views.perRating[i.toString() as RatingNumber][j];\n                const { type } = this.reviewHeaders[reviewIndex];\n                const ringIndex = typeIndex[type]++;\n                this.views.highestRated.push({\n                    reviewIndex,\n                    ringIndex,\n                });\n            }\n        }\n\n        typeIndex = {good: 0,bad: 0};\n        for(let i=1;i<=5;i++) {\n            for(let j=0;j<this.views.perRating[i.toString() as RatingNumber].length;j++) {\n                const { reviewIndex } = this.views.perRating[i.toString() as RatingNumber][j];\n                const { type } = this.reviewHeaders[reviewIndex];\n                const ringIndex = typeIndex[type]++;\n                this.views.lowestRated.push({\n                    reviewIndex,\n                    ringIndex,\n                });\n            }\n        }\n\n        for(let i=0;i<21;i++) this.ringShuffleMap.push(i);\n        this.shuffleArray(this.ringShuffleMap);\n    }\n\n    ringIndexToDummyIndex(index: number) {\n        return this.ringShuffleMap[randomRing[index%randomRing.length]];        \n    }\n\n    createRandomRing() {\n        const random = new SeededRandomByProductId(723826378267);\n\n        type ExcludeConditions = {[num: string]: true};\n        \n        const arrayToExcludeConditions = (arr: number[]) => {\n            const ret: ExcludeConditions = {};\n            arr.forEach(x => ret[x] = true);\n            return ret;\n        };\n\n        let getOrder = (startCond: ExcludeConditions,endCond: ExcludeConditions) => {\n            const arr: number[] = [];\n            for(let i=0;i<21;i++) arr.push(i);\n            while(true) {\n                const newArr = [...arr];\n                random.shuffleArray(newArr);\n                let found = false;\n                for(let i=0;i<5;i++) {\n                    found = found || startCond[newArr[i]] || endCond[newArr[24-i]];\n                }\n                if (!found) return newArr;\n            }\n        };\n\n        const orders: number[][] = [];\n        orders.push(getOrder({},{}));\n        orders.push(getOrder(arrayToExcludeConditions(orders[0].slice(20)),{}));\n        orders.push(getOrder(arrayToExcludeConditions(orders[1].slice(20)),{}));\n        orders.push(getOrder(arrayToExcludeConditions(orders[2].slice(20)),{}));\n        orders.push(getOrder(arrayToExcludeConditions(orders[3].slice(20)),arrayToExcludeConditions(orders[0].slice(0,5))));\n        console.log(JSON.stringify(orders.flat()));\n    }\n\n    private mockReviewViewItemToProductReview(dummyReviewGens: DummyReviewGen,item: MockReviewViewItem) {\n        const { reviewIndex,ringIndex } = item;\n        const { rating,timestamp,type } = this.reviewHeaders[reviewIndex];            \n        const { body,title } = dummyReviewGens.getByTypeAndIndex(type,this.ringIndexToDummyIndex(ringIndex));            \n        const ret: ProductReview = {\n            title,\n            body,\n            rating,\n            timestamp,\n            name: dummyReviewGens.generateRandomName(this.productId+ringIndex+((type===\"bad\")?100000:0))\n        };\n        return ret;\n    }\n\n    async getProductReviewSummary() {\n        const ret: ProductReviewSummary = {\n            lastSortKey: \"\",\n            ratings: this.ratingsHeader,\n            reviews: []\n        };\n\n        const dummyReviewGens = await apiReview.getDummyReviewGens();\n\n        for(let i=0;i<5;i++) {\n            ret.reviews.push(\n                this.mockReviewViewItemToProductReview(dummyReviewGens,this.views.mostRecent[i])\n            );\n        }\n        ret.lastSortKey = \"9\";\n\n        return ret;\n    }\n\n    async getReviews(order: ReviewsOrder = \"most-recent\",lastSortKey?: string,{byRating}: {byRating?: number} = {}) {\n        const dummyReviewGens = await apiReview.getDummyReviewGens();\n\n        const view = (() => {\n            if (byRating) {\n                return this.views.perRating[byRating.toString()];\n            }\n            else {\n                if (order===\"highest-rated\") {\n                    return this.views.highestRated;\n                }\n                else if (order===\"lowest-rated\") {\n                    return this.views.lowestRated;\n                }\n                else {                    \n                    return this.views.mostRecent;\n                }\n            }    \n        })();\n        const ret: ReviewsResponse = {\n            items: [],\n            lastSortKey: \"\",\n        };        \n        let pntIndex = lastSortKey?parseInt(lastSortKey)+1:0;\n        while((pntIndex<view.length) && (ret.items.length<5)) {            \n            ret.lastSortKey = pntIndex.toString();\n            ret.items.push(\n                this.mockReviewViewItemToProductReview(dummyReviewGens,view[pntIndex++])\n            );            \n        }\n        return ret;\n    }\n}\n\nclass MockReviews {\n    private cachedReviewsHeaderRaw: ReviewsHeaderRaw = null;\n\n    genReviewsHeaderRaw() {\n        if (this.cachedReviewsHeaderRaw) {\n            return this.cachedReviewsHeaderRaw;            \n        }\n\n        const ret: ReviewsHeaderRaw = {\n            products: {},\n        };\n\n        const productTable = prebuildData.getProductTable();\n        Object.keys(productTable).forEach((productId) => {\n            const random = new SeededRandomByProductId(productId);\n\n            const totalReviews = Math.floor(random.next()*200)+435;\n            const totalRating = (3.9+random.next())*totalReviews;\n            ret.products[productId] = {\n                totalRating,\n                totalReviews\n            };\n        });\n\n        this.cachedReviewsHeaderRaw = ret;\n\n        return ret;\n    }\n\n    genBoughtTogetherClient() {\n        const random = new SeededRandomByProductId(8008146747649);\n\n        const productTable = prebuildData.getProductTable();\n        const productIds = Object.keys(productTable);\n        const ret: BoughtTogetherClient = {\n            table: {},\n            popular: [],\n        };\n\n        const getRandomProductId = (excluding: {[id: string]: boolean}) => {\n            while(true) {\n                const candidate = productIds[Math.floor(random.next()*productIds.length)];\n                if (!excluding[candidate]) return candidate;\n            }            \n        };\n\n        Object.keys(productTable).forEach((productId) => {\n            ret.table[productId] = [];\n            const excluding: {[id: string]: boolean} = {};\n            excluding[productId] = true;\n            for(let i=0;i<10;i++) {\n                const id = getRandomProductId(excluding);\n                const weight = Math.floor(random.next()*10)+1;\n                ret.table[productId].push({\n                    id,\n                    weight\n                });\n                excluding[id] = true;\n            }\n        });\n        const excluding: {[id: string]: boolean} = {};\n        for(let i=0;i<10;i++) {\n            const id = getRandomProductId(excluding);\n            ret.popular.push(id);\n            excluding[id] = true;\n        }\n        return ret;        \n    }\n\n    private currentReviewCollection?: ProductMockReviewCollection;\n\n    async getProductReviewSummary(productId: string | number) {\n        if (this.currentReviewCollection?.productId!==parseInt(productId.toString())) {\n            this.currentReviewCollection = new ProductMockReviewCollection(productId);\n        }\n        return await this.currentReviewCollection!.getProductReviewSummary();\n    }\n\n    async getReviews(productId: string | number,order: ReviewsOrder = \"most-recent\",lastSortKey?: string,{byRating}: {byRating?: number} = {}) {\n        if (this.currentReviewCollection?.productId!==parseInt(productId.toString())) {\n            this.currentReviewCollection = new ProductMockReviewCollection(productId);\n        }\n        return await this.currentReviewCollection!.getReviews(order,lastSortKey,{byRating});\n    }\n}\n\nexport const libMockReviews = new MockReviews();","import cacheBusterConfig from \"../../config/pre-build/cache-buster.json\";\nimport defaultSnapshotConfig from \"../../config/pre-build/snapshot.json\";\nimport snapshotIdConfig from \"../../config/pre-build/snapshot-id.json\";\nlet collectionsConfig: (typeof defaultSnapshotConfig)[\"collections\"];\nlet productsConfig: (typeof defaultSnapshotConfig)[\"products\"];\nlet globalConfig: (typeof defaultSnapshotConfig)[\"globalSettings\"];\nlet storefrontConfig: (typeof defaultSnapshotConfig)[\"storefront\"];\nlet _optionsSnapshot: (typeof defaultSnapshotConfig)[\"optionSnapshot\"];\nimport { ConfigCollectionData, ConfigProductData } from \"./types\";\nimport { OptionSnapshot, OptionSnapshotProductVariant } from \"../shared/options/snapshot/types\";\nimport { util } from \"./util\";\nimport { GlobalTheme, OptionsGlobalDefinition, OptionsOption, OptionsOptionProductSelectFilter, OptionsOptionProductSelectFilterCollection, OptionsOptionProductSelectFilterIfTagged, OptionsOptionProductSelectSortOptions, ActiveSalePeriod, ActiveSalePeriodDate, GlobalSalesComponent, GlobalSalesDiscountComponentAmountType,GlobalSalesQuantityDiscountComponentDiscount } from \"../shared/options/types\";\nimport { misc } from \"../misc\";\nimport { ConfigProduct } from \"../../scripts/pre-build/types\";\nimport { CartItemOptionValues } from \"../services/cart/types\";\nimport { OptionsCompiler } from \"../shared/options/snapshot/compiler\";\nimport serverRefs from \"../../server-refs.json\";\nimport { infiniteFetch } from \"../infinite-fetch\";\nimport { isSimpleObject } from \"../shared/options/snapshot/misc\";\nimport { SmartState } from \"../../hooks/use_smart_state\";\n\nexport type PreviewCollection = {\n    id: string;\n    caption: string;\n    subCaption: string;\n    banner: {\n        image: {\n            url: string;\n            ratio: {\n                width: number;\n                height: number;\n            };\n        };\n        captionLeft: number;\n        subCaptionLeft: number;\n    };\n    seo: {\n        title: string;\n        description: string;\n        handle: string;\n    };\n    route: string;\n    productIds: string[];\n    prefix: string;\n};\n\nexport type PreviewProduct = {\n    id: number;\n    prefix: string;\n    seo: {\n        title: string;\n        description: string;\n        handle: string;\n    };\n    caption: string;\n    tags: string[];\n    price: number;\n    publishedAt: number;\n    starRating: number;\n    ratingCount: number;\n    smallImages: {src: string;originalSrc: string}[];\n    largeImages: {src: string;originalSrc: string}[];\n    filters: {\n        dessert?: true;\n        fruit?: true;\n        cool?: true;\n        candy?: true;\n        other?: true;\n    };\n    hidden?: boolean;\n    alias?: string;\n};\n\nexport type Preview = {\n    collections: PreviewCollection[];\n    products: {[id: string]: PreviewProduct};\n};\n\nexport type VariantMakeup = { variant: OptionSnapshotProductVariant; productId: string };\n\nexport type VariantHash = {[id: string]: VariantMakeup};\nexport type ProductStub = {\n    _variants: OptionSnapshotProductVariant[];\n    id: string;\n    title: string;\n};\nexport type VariantLink = {\n    _variants: OptionSnapshotProductVariant[];\n};\n\nexport type VariantStub = {\n    id: string;\n    title: string;\n    productId: string;\n    custom: boolean;\n};\nexport type ProductAliasStubTable = {\n    [alias: string]: ProductStub;\n};\nexport type ProductStubTable = {\n    [id: string]: ProductStub;\n};\nexport type VariantStubTable = {\n    [id: string]: VariantStub;\n};\nexport type ProductTable = {\n    [id: string]: ConfigProductData;\n};\n\nexport type CollectionTable = {\n    [handle: string]: ConfigCollectionData;\n};\n\nexport type ProductPriceTable = {\n    [id: string]: number;\n};\n\nexport type ProductDescriptionHtmlTable = {\n    [id: string]: string;\n};\n\nexport type ProductPageRouteTable = {\n    [id: string]: string;\n};\n\nexport type ProductDiscount = {\n    componentName: string;\n    percentage: number;\n};\n\nexport type ProductDiscountTable = {\n    [id: string]: ProductDiscount[];\n};\n\nexport type ProductCollectionByHandlesTable = {\n    [digest: string]: {\n        collection: ConfigCollectionData;\n        product: ConfigProductData;\n    };\n};\n\nexport type ProductsByCollectionTable = {\n    [collectionId: string]: ConfigProductData[];\n};\n\nexport type ProductToCollectionTable = {\n    [productId: string]: { collectionId: string; collectionName: string };\n};\n\nexport type HomePageGridImage = {\n    route: string;\n    caption: string;\n    image: string;\n    imageHover: string;\n};\n\nexport type CollectionProductsHashTable = {\n    [collectionId: string]: {[productId: string]: true};\n};\n\nexport type ProductPageParamsTable = {\n    [productId: string]: { id: string; product_id: string };\n};\n\nexport type HomePageGridImages = HomePageGridImage[];\n\nexport type StorefrontConfig = {\n    graphqlUrl: string;\n    token: string;\n    checkoutDomain?: string;\n};\n\nexport type FreeProductDefinitionCondition = {\n    variants: VariantMakeup[];\n    ratio: number;\n};\n\nexport type FreeProductDefinition = {\n    componentName: string;\n    productVariant: VariantMakeup;\n    conditions: FreeProductDefinitionCondition[];\n    cartUuid?: string;\n};\n\nexport type DiscountBreakdown = {\n    [componentName: string]: {\n        discount: number;\n        fromQuantity: number;\n    };\n};\n\nexport class QuantityDiscountCounter {\n    pnt = -1;\n\n    constructor(private discount: GlobalSalesQuantityDiscountComponentDiscount) {}\n\n    use() {\n        const { apply,per,percentage } = this.discount;\n        const roundTotal = apply+per;\n        this.pnt = (this.pnt+1)%roundTotal;\n        return (this.pnt<per)?0:percentage;\n    }\n\n    reset() {\n        this.pnt = -1;\n    }\n} \n\nexport type QuantityDiscountDefinition = {\n    componentName: string;\n    variantHash: VariantHash;\n    discount: GlobalSalesQuantityDiscountComponentDiscount;\n    counter: QuantityDiscountCounter;\n};\n\nclass PrebuildData\n{\n    private preview: Preview;\n\n    loadPreview(preview: Preview) {\n        this.preview = preview;\n    }\n\n    private _previewProductsCache: {[id: string]: ConfigProductData} = {};\n    private _productsCache: {[id: string]: ConfigProductData} = {};\n    private _productHandleToIdCache: {[id: string]: string} = {};\n    private _variantHash: VariantHash;\n    private _productStubTable: ProductStubTable;\n    private _productAliasStubTable: ProductAliasStubTable;    \n    private _variantStubTable: VariantStubTable;    \n    private _productTable: ProductTable;\n    private _productDescriptionHtmlTable: ProductDescriptionHtmlTable;\n    private _collectionTable: CollectionTable;\n    private _collectionTableById: CollectionTable;\n    private _productPriceTable: ProductPriceTable;\n    private _productPageRouteTable: ProductPageRouteTable;\n    private _productCollectionByHandlesTable: ProductCollectionByHandlesTable;\n    private _evalInContextCache: {[fnCode: string]: any} = {};\n    private _productToCollectionTable: ProductToCollectionTable;\n    private _homePageGridImages: HomePageGridImages;\n    private _collectionProductsHashTable: CollectionProductsHashTable;\n    private _productPageParamsTable: ProductPageParamsTable;\n    private _variantsDisabled = -1;\n    private _productDiscountTable: ProductDiscountTable = {};\n    private _snapshotAlreadyLoaded = false;\n    salesName: string;\n    private salesThemeName: string;\n    freeProductDefinitions: FreeProductDefinition[] = [];\n    quantityDiscountDefinitions: QuantityDiscountDefinition[] = [];\n\n    getSnapshotId() {\n        return snapshotIdConfig.snapshotId;\n    }\n\n    getSalesSignature() {\n        return `${this.getSnapshotId()}-${this.salesName || \"\"}`;\n    }\n\n    loadSnapshot(snapshot = defaultSnapshotConfig) {\n        if (this._snapshotAlreadyLoaded) return;\n\n        collectionsConfig = snapshot.collections;\n        productsConfig = snapshot.products;\n        globalConfig = snapshot.globalSettings;\n        storefrontConfig = snapshot.storefront;\n        _optionsSnapshot = snapshot.optionSnapshot;\n\n        this._snapshotAlreadyLoaded = true;      \n    }\n\n    getCacheBuster() {\n        return cacheBusterConfig[\"cache-buster\"];\n    }\n\n    bustCache(url: string) {\n        return /^https?:\\/\\//.test(url)?url:`/static/${this.getCacheBuster()}${url}`;\n    }\n\n    isVariantsDisabled() {\n        return !!_optionsSnapshot.variantsDisabled;\n    }\n\n    getCollectionTable() {\n        const process = () => {\n            const collectionTable = this.getCollectionTableById();\n            const ret: CollectionTable = {};\n            Object.keys(collectionTable).forEach((collectionId) => {\n                const collection = collectionTable[collectionId];\n                ret[collection.seo.handle] = collection;\n            });\n            return ret;\n        };\n\n        return this._collectionTable = this._collectionTable || process();\n    }\n\n    getCollectionTableById() {\n        const process = () => {\n            const ret: CollectionTable = {};\n            if (this.preview) {\n                this.preview.collections.forEach((collection) => {\n                    const { productIds } = collection;                                    \n                    // ret[collection.id] = {\n                    //     ...collection,\n                    //     bannerImageUrl: collection.banner.image.url,\n                    //     products: productIds.map<ConfigProductData>((id) => ({\n                    //         ...this.preview.products[id]\n                    //     }))\n                    // };\n                    // delete (ret[collection.id] as any).productIds;\n                });\n            }\n            else {\n                collectionsConfig.forEach((collection) => {\n                    const { productIds } = collection;\n                    ret[collection.id] = {\n                        ...collection,\n                        bannerImageUrl: `/pre-build/collections/${collection.id}/${collection.prefix}banner.jpg`,\n                        products: productIds.map<ConfigProductData>((id) => ({\n                            ...productsConfig[id]\n                        }))\n                    };\n                    delete (ret[collection.id] as any).productIds;\n                });\n            }\n            return ret;\n        };\n\n        return this._collectionTableById = this._collectionTableById || process();\n    }\n\n    forEachProduct(cb: (pid: string,product: ConfigProduct) => void) {\n        const productTable = this.getProductTable();\n        Object.keys(productTable).forEach((pid) => {\n            cb(pid,productTable[pid]);\n        });\n    }\n\n    private _openSalesNotice: (message: string) => void;\n\n    registerOpenSalesNotice(openSalesNotice: (message: string) => void) {\n        this._openSalesNotice = openSalesNotice;\n    }\n\n    private _activeThemeCached = false;\n    private _activeTheme: GlobalTheme;\n    private _activeThemeLayers: GlobalTheme[];\n\n    getDefaultTheme() {\n        const ret: GlobalTheme = {\n            name: \"default\",\n            colors: {},\n            topNicotineNotice: {\n                show: true,\n                backgroundColor: \"#000000\",\n                textColor: \"#eeeeee\"\n            },\n            logo: {\n                src: \"/images/navbar/logo.svg\",\n                scale: 1\n            },\n            announcementBar: {\n                show: false,\n                text: \"\",\n                textColor: \"#000000\",\n                fontSize: 15,\n                fontWeight: \"600\",\n                padding: 10,\n                backgroundColor: \"#ffe379\"\n            },\n            navbar: {\n                backgroundColor: \"#121314\",\n                promoTextColor: \"#f1f2f6\",\n                promoIconColor: \"#f1f2f6\",\n                buttonsTextColor: \"#f1f2f6\",\n                buttonsIconColor: \"#f1f2f6\"\n            },\n            miniNavbar: {\n                backgroundColor: \"rgba(0,0,0,.8)\",\n                backdropFilter: \"saturate(1.8)blur(20rem)\",\n                menuTextColor: \"#f5f5f7\",\n                iconColor: \"#f1f2f6\"\n            },\n            collectionMenuBar: {\n                backgroundColor: \"#f1f2f6\",\n                menuTextColor: \"#222222\",\n                menuHighlightTextColor: \"#61a9eb\",\n                bottomBorderColor: \"#b2b8ba\"\n            },\n            sideMenu: {\n                topBackgroundColor: \"#121314\",\n                topTextColor: \"#f1f2f6\",\n                topIconColor: \"#f1f2f6\",\n                actionsTextColor: \"#222222\",\n                actionsIconColor: \"#222222\",\n                menuTextColor: \"#222222\",\n                menuHighlightTextColor: \"#61a9eb\"\n            },\n            footer: {\n                backgroundColor: \"#121314\",\n                boldTextColor: \"#ffffff\",\n                lightTextColor: \"#dddddd\",\n                linkHoverColor: \"#a8a2ff\",\n                buttonBackgroundColor: \"#1d8dff\",\n                buttonTextColor: \"#ffffff\",\n                socialIconColor: \"#1d8dff\",\n                socialIconHoverColor: \"#dddddd\"\n            },\n            collectionBanner: {\n                titleColor: \"#131315\",\n                subtitleColor: \"#6ab8ff\"\n            },\n            collectionFilterControls: {\n                backgroundColor: \"#f1f2f6\",\n                color: \"#131315\",\n                hoverColor: \"#666666\",\n                highlightColor: \"#6ab8ff\"\n            },\n            mobileCollectionPopupMenu: {\n                backgroundColor: \"#f1f2f6\",\n                color: \"#131315\",\n                hoverColor: \"#666666\",\n                highlightColor: \"#6ab8ff\"\n            },\n            productOptions: {\n                textColor: \"#484848\",\n                lightTextColor: \"#999999\",\n                buttonBackgroundColor: \"#ffffff\",\n                buttonBorderColor: \"#c1c1c1\",\n                buttonUnselectedTextColor: \"#ababab\",\n                buttonSelectedBackgroundColor: \"#f5f5f5\",\n                buttonSelectedTextColor: \"#6c6c6c\",\n                buttonSelectedBorderColor: \"#9ba2fb\",\n                sliderNoColor: \"#aaaaaa\",\n                sliderNoTextColor: \"#ffffff\",\n                sliderYesColor: \"#9296ff\",\n                sliderYesTextColor: \"#ffffff\",\n                addonsPriceUnselectedTextColor: \"#bbbbbb\",\n                addonsPriceSelectedTextColor: \"#999999\",\n                colorPickerChoiceTextColor: \"#464646\",\n                colorPickerHoverTextColor: \"#787878\",\n                addonsDescriptionColor: \"#707070\",\n                addonsIncludedDescriptionColor: \"#606060\"\n            },\n            general: {\n                bodyBackgroundColor: \"#fbfbfd\",\n                starsColor: \"#fed11e\",\n                starsHoverColor: \"#e3ba19\"\n            },\n            collectionItem: {\n                titleColor: \"#131315\",\n                titleHoverColor: \"#555555\",\n                priceColor: \"#131315\",\n                priceHoverColor: \"#555555\",\n                reviewCountColor: \"#91a0ff\",\n                reviewCountHoverColor: \"#253599\"\n            },\n            nicotineWarningBox: {\n                backgroundColor: \"transparent\",\n                textColor: \"#363636\",\n                borderColor: \"#222222\"      \n            },      \n            productBreadcrumbs: {\n                textColor: \"#484848\",\n                linkColor: \"#767676\",\n                linkHoverColor: \"#383838\"\n            },\n            productPriceTitleBadge: {\n                backgroundColor: \"#f7f7f7\",\n                textColor: \"#444444\",\n                borderColor: \"#c9c9c9\",\n                optionsReadyBorderColor: \"#9ba2fb\",\n                priceTextColor: \"#666666\",\n                reviewCountColor: \"#777777\",\n                separatorLineColor: \"#e5e5e5\",\n                reviewBodyTextColor: \"#777777\",\n                readMoreTextColor: \"#999999\",\n                readMoreHoverTextColor: \"#777777\",\n                buttonColor: \"#28292a\",\n                buttonTextColor: \"#ffffff\"\n            },\n            productDescriptionTabs: {\n                textColor: \"rgba(0,0,0,0.6)\",\n                hoverTextColor: \"rgba(0,0,0,0.35)\",\n                selectedColor: \"#9ba2fb\"\n            },\n            productDescription: {\n                textColor: \"#555555\",\n                boldTextColor: \"#666666\",\n                linkTextColor: \"#9994d9\",\n                tableBackgroundColor: \"#f5f5f5\",\n                tableAltBackgroundColor: \"#f9f9f9\",\n                tableBorderColor: \"#ddd\"\n            },            \n            productTitlePriceTopSlider: {\n                textColor: \"#333333\",\n                backdropFilter: \"saturate(1.8) blur(20rem)\",\n                borderBottomColor: \"#ccc\",\n                mobileborderBottomColor: \"#e5e5e5\"\n            },\n            productReviews: {\n                textColor: \"#444444\",\n                lightTextColor: \"#555555\",\n                lighterTextColor: \"#666666\",\n                ratingFilterBadgeColor: \"#f1f1f1\",\n                ratingFilterBadgeHoverColor: \"#e9e9e9\",\n                ratingFilterBadgeBorderColor: \"#dddddd\",\n                ratingFilterBadgeTextColor: \"#555555\",\n                ratingFilterBadgeCrossColor: \"#777777\",\n                loadMoreButtonColor: \"#444444\",\n                loadMoreButtonHoverColor: \"#efefef\",\n                loadMoreButtonTextColor: \"#ffffff\",\n                noReviewsTextColor: \"#aaaaaa\",\n                noReviewsIconColor: \"#cccccc\",\n                reviewItemTextColor: \"#444444\",\n                reviewItemDateTextColor: \"#aaaaaa\",\n                reviewItemAvatarBackgroundColor: \"#dddddd\",\n                reviewStarsBarHoverTextColor: \"#000000\",\n                reviewStarsBarHighlighterColor: \"#f3f3f3\",\n                reviewStarsBarBorderColor: \"#dedede\",\n                reviewStarsBarPercentageBarColor: \"#cccccc\",\n                reviewStarsBarPercentageBarHoverColor: \"#afa9ff\",\n                reviewStarsBarPercentageBarBorderColor: \"#bbbbbb\",\n                reviewStarsBarPercentageBarHoverBorderColor: \"#888888\",\n                reviewStarsBarPercentageBarSelectedColor: \"#ceceff\"\n            },\n            alsoBoughtWith: {\n                titleColor: \"#555555\",\n                itemTitleColor: \"#444444\",\n                itemTitleHoverColor: \"#777777\",\n                itemReviewCountColor: \"#555555\",\n                itemReviewCountHoverColor: \"#000000\"\n            },\n            cart: {\n                lineColor: \"#d3d3d3\",\n                checkoutButtonColor: \"#28292a\",\n                checkoutButtonDisabledColor: \"#a9a9a9\",\n                checkoutButtonTextColor: \"#ffffff\",\n                isEmptyTextColor: \"#626262\",\n                itemBackgroundColor: \"#f8f8f8\",\n                itemTitleColor: \"#121314\",\n                itemTitleHoverColor: \"#4d9ff1\",\n                itemPropertiesGroupTitleColor: \"#777777\",\n                infoToastColor: \"rgba(0, 0, 0, 0.8)\",\n                infoToastTextColor: \"#ffffff\",\n                editNoteButtonTextIconColor: \"#707070\",\n                editNoteButtonTextIconHoverColor: \"#6ab8ff\"\n            },\n            homeAnnouncementBoard: {\n                textColor: \"#343537\",\n                fontSize: 16,\n                lineHeight: 30,\n                verticalPadding: 30,\n                lines: []\n            }\n        };\n        return ret;\n    }\n\n    getActiveTheme() {\n        const globalConfig = this.getGlobalConfig();\n        const process = () => {            \n            const ret: GlobalTheme[] = [];\n            if (globalConfig.baseTheme) {\n                const theme = globalConfig.themes.filter(({name}) => name===globalConfig.baseTheme)[0];\n                if (theme) ret.push(theme);\n            }\n            if (this.salesThemeName) {\n                const theme = globalConfig.themes.filter(({name}) => name===this.salesThemeName)[0];\n                if (theme) ret.push(theme);\n            }\n            return ret;\n        };\n\n        if (!this._activeThemeCached) {\n\n            const mergeObjectIntoThemeObject = (themeObj: any,layerObj: any) => {\n                Object.keys(layerObj).forEach((field) => {\n                    if (themeObj[field] && isSimpleObject(themeObj[field]) && isSimpleObject(layerObj[field])) {\n                        mergeObjectIntoThemeObject(themeObj[field],layerObj[field]);\n                    }\n                    else {\n                        themeObj[field] = layerObj[field];\n                    }\n                });\n            };\n\n            this._activeThemeLayers = process();            \n            const activeTheme = this.getDefaultTheme();\n            this._activeTheme = activeTheme;\n            this._activeThemeLayers.forEach((themeLayer) => {\n                if (themeLayer.logo) {                    \n                    activeTheme.logo.src = `${this.getThemeBaseUrl(themeLayer.name)}/${themeLayer.logo.src}`;\n                    activeTheme.logo.scale = themeLayer.logo.scale || 1;\n                }                \n                Object.keys(themeLayer).filter((field) => ![\"name\",\"logo\"].includes(field)).forEach((field) => {                    \n                    if (activeTheme[field] && isSimpleObject(activeTheme[field]) && isSimpleObject(themeLayer[field])) {\n                        mergeObjectIntoThemeObject(activeTheme[field],themeLayer[field]);                        \n                    }\n                    else {\n                        activeTheme[field] = themeLayer[field];\n                    }\n                });\n            });\n\n            const getColor = (name: string) => {                    \n                return this._activeTheme.colors[name]?this._activeTheme.colors[name]:(globalConfig.colors[name]?globalConfig.colors[name]:name);\n            };\n\n            const processColors = (theme: any) => {\n                if (isSimpleObject(theme)) {\n                    Object.keys(theme).forEach((key) => {\n                        const value = theme[key];\n                        if ((key.toLowerCase().includes(\"color\")) && (typeof value===\"string\")) {\n                            theme[key] = getColor(value);\n                        }\n                        processColors(theme[key]);\n                    });\n                }\n            };\n\n            processColors(activeTheme);\n\n            this._activeThemeCached = true;\n\n            // if (this._activeTheme) {\n\n            //     const activeTheme = this._activeTheme;\n            //     if (activeTheme.logo) {\n            //         activeTheme.logo.src = `${this.getActiveThemeBaseUrl()}/${activeTheme.logo.src}`;\n            //         activeTheme.logo.scale = activeTheme.logo.scale || 1;\n            //     }\n            //     else {\n            //         activeTheme.logo = this.getDefaultTheme().logo!;\n            //     }\n\n            //     const fillThemeGaps = (dest: any,source: any) => {\n            //         Object.keys(source).forEach((key) => {\n            //             dest[key] = dest[key] || source[key];\n            //             if (isSimpleObject(source[key])) fillThemeGaps(dest[key],source[key]);\n            //         });\n            //     };\n\n            //     const fields = [\n            //         \"navbar\",\n            //         \"miniNavbar\",\n            //         \"collectionMenuBar\",\n            //         \"sideMenu\",\n            //         \"footer\",\n            //         \"collectionBanner\",\n            //         \"collectionFilterControls\",\n            //         \"mobileCollectionPopupMenu\",\n            //         \"productOptions\",\n            //         \"general\",\n            //         \"collectionItem\",\n            //         \"nicotineWarningBox\",\n            //         \"productBreadcrumbs\",\n            //         \"productPriceTitleBadge\",\n            //         \"productDescriptionTabs\",\n            //         \"productDescription\",\n            //         \"productTitlePriceTopSlider\",\n            //         \"productReviews\",\n            //         \"cart\",\n            //         \"homeAnnouncementBoard\"\n            //     ];\n            //     const defaultTheme = this.getDefaultTheme();\n            //     fields.forEach((field) => {\n            //         const defaultValue = defaultTheme[field];  \n            //         activeTheme[field] = activeTheme[field] || defaultValue;\n            //         fillThemeGaps(activeTheme[field],defaultValue);\n            //     });\n\n            //     // const defaultNavbar = this.getDefaultTheme().navbar;\n            //     // const defaultMiniNavbar = this.getDefaultTheme().miniNavbar;\n            //     // const defaultCollectionMenuBar = this.getDefaultTheme().collectionMenuBar;  \n            //     // const defaultSideMenu = this.getDefaultTheme().sideMenu;\n            //     // const defaultFooter = this.getDefaultTheme().footer;\n            //     // const defaultCollectionBanner = this.getDefaultTheme().collectionBanner;  \n            //     // const defaultCollectionFilterControls = this.getDefaultTheme().collectionFilterControls;  \n            //     // const defaultMobileCollectionPopupMenu = this.getDefaultTheme().mobileCollectionPopupMenu;\n                              \n            //     // activeTheme.navbar = activeTheme.navbar || defaultNavbar;\n            //     // activeTheme.miniNavbar = activeTheme.miniNavbar || defaultMiniNavbar;\n            //     // activeTheme.collectionMenuBar = activeTheme.collectionMenuBar || defaultCollectionMenuBar;\n            //     // activeTheme.sideMenu = activeTheme.sideMenu || defaultSideMenu;\n            //     // activeTheme.footer = activeTheme.footer || defaultFooter;\n            //     // activeTheme.collectionBanner = activeTheme.collectionBanner || defaultCollectionBanner;\n            //     // activeTheme.collectionFilterControls = activeTheme.collectionFilterControls || defaultCollectionFilterControls;\n            //     // activeTheme.mobileCollectionPopupMenu = activeTheme.mobileCollectionPopupMenu || defaultMobileCollectionPopupMenu;\n            //     // fillThemeGaps(activeTheme.navbar,defaultNavbar);\n            //     // fillThemeGaps(activeTheme.miniNavbar,defaultMiniNavbar);\n            //     // fillThemeGaps(activeTheme.collectionMenuBar,defaultCollectionMenuBar);\n            //     // fillThemeGaps(activeTheme.sideMenu,defaultSideMenu);\n            //     // fillThemeGaps(activeTheme.footer,defaultFooter);\n            //     // fillThemeGaps(activeTheme.collectionBanner,defaultCollectionBanner);\n            //     // fillThemeGaps(activeTheme.collectionFilterControls,defaultCollectionFilterControls);\n            //     // fillThemeGaps(activeTheme.mobileCollectionPopupMenu,defaultMobileCollectionPopupMenu);\n\n            // }\n            // else {\n            //     this._activeTheme = this.getDefaultTheme();\n            // }            \n        }\n        return this._activeTheme;       \n    }\n\n    getThemeBaseUrl(themeName: string) {\n        return `${serverRefs.buckets.public}/assets/${themeName}`;\n    }\n\n    processSales() {\n        // return;\n\n        const { activeSales,sales,salesComponents } = this.getGlobalConfig();        \n\n        const periodDateToTimestamp = (period: ActiveSalePeriodDate) => {\n            const p = {...period};\n            const pad = (value: number,len: number) => {\n                let ret = value.toString();\n                while(ret.length<len) ret = \"0\"+ret;\n                return ret;\n            };\n            const currentServerTime = misc.getServerTime();\n            if (p.year===-1) p.year = (new Date(currentServerTime)).getFullYear();            \n            return (new Date(`${pad(p.year,4)}-${pad(p.month,2)}-${pad(p.day,2)}T${pad(p.hours,2)}:${pad(p.minutes,2)}:00${(p.timezone<0)?\"-\":\"+\"}${pad(Math.abs(p.timezone),2)}:00`)).getTime();\n        };\n\n        type AnalyzePeriodResult = {            \n            status: \"active\" | \"ended\" | \"upcoming\";\n            startsAt?: number;\n            endsAt?: number;\n        };\n\n        const analyzePeriod = (period: ActiveSalePeriod): AnalyzePeriodResult => {\n            if (!period) return {status: \"active\"};\n            const currentServerTime = misc.getServerTime();\n            if (period.from && !period.to) {\n                const from = periodDateToTimestamp(period.from);\n                return (currentServerTime>=from)?{status: \"active\"}:{status: \"upcoming\",startsAt: from};\n            }\n            else if (!period.from && period.to) {\n                const to = periodDateToTimestamp(period.to);\n                return (currentServerTime<to)?{status: \"active\",endsAt: to}:{status: \"ended\"};\n            }\n            else {\n                const from = periodDateToTimestamp(period.from);\n                const to = periodDateToTimestamp(period.to);                \n                return ((currentServerTime>=from) && (currentServerTime<to))?{status: \"active\",endsAt: to}:((currentServerTime<from)?{status: \"upcoming\",startsAt: from}:{status: \"ended\"});\n            }\n        };\n\n        const setupStartOrEndOfSale = (eventAt: number,type: \"starts\" | \"ends\") => {\n            const currentServerTime = misc.getServerTime();\n            misc.setLongTimeout(() => {\n                const messages = {\n                    \"starts\": \"A new sale has just begun! To access it, either refresh the page or press the 'Continue' button below.\",\n                    \"ends\": \"Unfortunately, the current sale has ended. To continue, either refresh the page or press the 'Continue' button below.\",\n                };\n                this._openSalesNotice(messages[type]);\n            },eventAt-currentServerTime);\n        };\n\n        const processSale = (name: string,endsAt?: number) => {\n            // return;\n            const sale = sales.filter(({name: _name}) => name===_name)[0];\n            \n            if (sale) {\n                const salesComponentsHash: {[value: string]: GlobalSalesComponent} = {};\n                salesComponents.forEach((salesComponent) => salesComponentsHash[salesComponent.name] = salesComponent);\n                const { components,theme } = sale;\n                this.salesName = name;\n                if (theme) {\n                    this.salesThemeName = theme;\n                }                 \n                components.forEach((componentName) => {\n                    const component = salesComponentsHash[componentName];\n                    if (component) {\n                        if (component.type===\"discount\") {\n                            const { percentage,filters } = component;\n                            const includeTags: {[tag: string]: true} = {};\n                            const excludeTags: {[tag: string]: true} = {};\n                            filters.forEach(({type,tags}) => {\n                                if (type===\"include-if-tagged\") {\n                                    tags.forEach((tag) => includeTags[tag] = true);\n                                }\n                            });\n                            filters.forEach(({type,tags}) => {\n                                if (type===\"exclude-if-tagged\") {\n                                    tags.forEach((tag) => excludeTags[tag] = true);\n                                }\n                            });\n                            const isFiltered = (Object.keys(includeTags).length>0);\n                            const isExcludeFiltered = (Object.keys(excludeTags).length>0);\n                            this.forEachProduct((pid,{}) => {\n                                let matched = !isFiltered;\n                                if (isFiltered) {\n                                    const productTags = this.getProductTags(pid);\n                                    matched = (productTags.filter((tag) => includeTags[tag]).length>0);\n                                    if ((matched) && (isExcludeFiltered)) {\n                                        matched = (productTags.filter((tag) => excludeTags[tag]).length===0);\n                                    }\n                                }\n                                if (matched) {\n                                    this._productDiscountTable[pid] = this._productDiscountTable[pid] || [];\n                                    this._productDiscountTable[pid].push({\n                                        componentName,\n                                        percentage\n                                    });    \n                                }\n                            });\n                        }\n                        else if (component.type===\"free-product\") {\n                            const variantHash = this.getVariantHash();\n                            const productVariantFn = prebuildData.evalInContext(component.productVariant);                            \n                            const productVariantMakeup = variantHash[productVariantFn()?._variants?.[0]?.id];\n                            if (productVariantMakeup) {\n                                const fpDefinition: FreeProductDefinition = {\n                                    componentName: component.name,\n                                    conditions: component.conditions.map(({variants,ratio}) => {                                    \n                                        const variantIdHash: {[id: string]: true} = {};\n                                        const variantsFn = prebuildData.evalInContext(variants);\n                                        let _variants = variantsFn()\n                                        _variants = Array.isArray(_variants)?_variants:[_variants];\n                                        _variants.forEach(({_variants}) => {\n                                            _variants.forEach(({id}) => {\n                                                variantIdHash[id] = true;\n                                            });\n                                        });\n                                        const ret: FreeProductDefinitionCondition = {\n                                            variants: Object.keys(variantIdHash).map((id) => variantHash[id] || null).filter(x => x!==null),\n                                            ratio\n                                        };\n                                        return ret;\n                                    }),\n                                    productVariant: productVariantMakeup\n                                };\n                                this.freeProductDefinitions.push(fpDefinition);\n                            }\n                        }\n                        else if (component.type===\"quantity-discount\") {\n                            const variantHash = this.getVariantHash();\n                            const variantIdHash: {[id: string]: true} = {};\n                            const variantsFn = prebuildData.evalInContext(component.variants);\n                            let _variants = variantsFn();\n                            _variants = Array.isArray(_variants)?_variants:[_variants];\n                            _variants.forEach(({_variants}) => {\n                                _variants.forEach(({id}) => {\n                                    variantIdHash[id] = true;\n                                });\n                            });\n                            const variants = Object.keys(variantIdHash).map((id) => variantHash[id] || null).filter(x => x!==null)\n                            const quantityDiscountVariantHash: VariantHash = {};\n                            variants.forEach((variant) => quantityDiscountVariantHash[variant.variant.id] = variant);\n                            if (variants.length>0) {\n                                this.quantityDiscountDefinitions.push({\n                                    componentName: component.name,\n                                    variantHash: quantityDiscountVariantHash,\n                                    discount: component.discount,\n                                    counter: new QuantityDiscountCounter(component.discount)\n                                });\n                            }\n                        }\n                    }\n                });\n                if (endsAt) {\n                    setupStartOrEndOfSale(endsAt,\"ends\");\n                }\n            }\n        };\n\n        let soonestStartsAt = -1;\n\n        for(let i=0;i<activeSales.length;i++) {\n            const { name,period } = activeSales[i];\n            const res = analyzePeriod(period);\n            console.log(\"name,period,res\",name,period,res);\n            if (res.status===\"active\") {\n                return processSale(name,res.endsAt);\n            }\n            else if (res.status===\"upcoming\") {\n                if (soonestStartsAt===-1) {\n                    soonestStartsAt = res.startsAt!;\n                }\n                else {\n                    soonestStartsAt = Math.min(soonestStartsAt,res.startsAt!);\n                }\n            }\n        }\n\n        if (soonestStartsAt!==-1) {\n            setupStartOrEndOfSale(soonestStartsAt,\"starts\");\n        }\n    }\n\n    getProductDiscountTable() {\n        return this._productDiscountTable;\n    }\n\n    getProductDiscount(productId: string) {\n        return this.getProductDiscountTable()[productId] || [];\n    }\n\n    getGlobalConfig() {\n        return globalConfig as unknown as OptionsGlobalDefinition;\n    }\n\n    getCollectionById(collectionId: string) {\n        const collectionTable = this.getCollectionTableById();\n        return collectionTable[collectionId]?collectionTable[collectionId]:null;\n    }\n\n    getProductTable() {\n        if (typeof window===\"undefined\") {\n            return {\n                \"8008146026753\": {\n                    \"id\": 8008146026753,\n                    \"prefix\": \"uwell-caliburn-a2-pods-\",\n                    \"seo\": {\n                        \"title\": \"Caliburn A2 Replacement Pods | UWELL\",\n                        \"description\": \"UWELL Caliburn A2 Pods. Contains four replacement pods per pack. These 0.9ohm resistance coils are compatible with the Caliburn A2 device. We stand by our products and guarantee the quality of replacement pods purchased through us. \",\n                        \"handle\": \"uwell-caliburn-a2-pods\"\n                    },\n                    \"caption\": \"Caliburn A2 Replacement Pods\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"a2\",\n                        \"caliburn-hardware\",\n                        \"collection-caliburn-a2\",\n                        \"countdown\",\n                        \"hardware\",\n                        \"just-pods\",\n                        \"pods\"\n                    ],\n                    \"publishedAt\": 1683938895000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146026753/uwell-caliburn-a2-replacement-pod-pack-s-1.2_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/uwell-caliburn-a2-replacement-pod-pack-s-1.2_x450.jpg?v=1683938901\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146026753/uwell-caliburn-a2-replacement-pod-pack-s_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/uwell-caliburn-a2-replacement-pod-pack-s_x450.jpg?v=1683938901\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146026753/uwell-caliburn-a2-compatible-pods_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/uwell-caliburn-a2-compatible-pods_x450.jpg?v=1683938901\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146026753/uwell-caliburn-a2-12-replacement-pod-s_b5b08f5a-578d-459b-8d03-0964bf42631b_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/uwell-caliburn-a2-12-replacement-pod-s_b5b08f5a-578d-459b-8d03-0964bf42631b_x450.jpg?v=1683938901\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146026753/uwell-caliburn-a2-pod-design_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/uwell-caliburn-a2-pod-design_x450.jpg?v=1683938901\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146026753/uwell-caliburn-a2-replacement-pod-pack-s-1.2_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/uwell-caliburn-a2-replacement-pod-pack-s-1.2_x1080.jpg?v=1683938901\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146026753/uwell-caliburn-a2-replacement-pod-pack-s_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/uwell-caliburn-a2-replacement-pod-pack-s_x1080.jpg?v=1683938901\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146026753/uwell-caliburn-a2-compatible-pods_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/uwell-caliburn-a2-compatible-pods_x1080.jpg?v=1683938901\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146026753/uwell-caliburn-a2-12-replacement-pod-s_b5b08f5a-578d-459b-8d03-0964bf42631b_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/uwell-caliburn-a2-12-replacement-pod-s_b5b08f5a-578d-459b-8d03-0964bf42631b_x1080.jpg?v=1683938901\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146026753/uwell-caliburn-a2-pod-design_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/uwell-caliburn-a2-pod-design_x1080.jpg?v=1683938901\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"caliburnA2ReplacementPods\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146190593\": {\n                    \"id\": 8008146190593,\n                    \"prefix\": \"sweetener-additive-\",\n                    \"seo\": {\n                        \"title\": \"Vape Juice Sweetener by TBD Liquids | Make Your E-Liquid Sweeter\",\n                        \"description\": \"With Our New Vape Juice Liquid Sweetener You Can Make Any Bottle of E-Juice Sweeter. Simply Add A Few Drops Of Our Sweetening Solution To Your E-Liquid. Lifetime Supply Only $4.95\",\n                        \"handle\": \"sweetener-additive\"\n                    },\n                    \"caption\": \"Sweetener\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-extras\",\n                        \"just-juice\",\n                        \"norec\",\n                        \"noreview\"\n                    ],\n                    \"publishedAt\": 1683938949000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146190593/sweet-vape-juice-sweetener-cheap-tbd-liquids-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/sweet-vape-juice-sweetener-cheap-tbd-liquids-min_x450.jpg?v=1683938954\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146190593/how-to-make-e-juice-sweeter_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/how-to-make-e-juice-sweeter_x450.jpg?v=1683938954\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146190593/cheap-vape-juice-sweetener-sucralose-tbd-liquids2-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/cheap-vape-juice-sweetener-sucralose-tbd-liquids2-min_x450.jpg?v=1683938954\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146190593/sweet-vape-juice-sweetener-cheap-tbd-liquids-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/sweet-vape-juice-sweetener-cheap-tbd-liquids-min_x1080.jpg?v=1683938954\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146190593/how-to-make-e-juice-sweeter_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/how-to-make-e-juice-sweeter_x1080.jpg?v=1683938954\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146190593/cheap-vape-juice-sweetener-sucralose-tbd-liquids2-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/cheap-vape-juice-sweetener-sucralose-tbd-liquids2-min_x1080.jpg?v=1683938954\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"sweetener\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146256129\": {\n                    \"id\": 8008146256129,\n                    \"prefix\": \"agent-cool-vape-\",\n                    \"seo\": {\n                        \"title\": \"Agent Cool - New Cooling Agent  for Vape Juice | TBD Liquids\",\n                        \"description\": \"Add your perfect level of cooling to any vape juice. Without losing flavor! what's so special? It's simple really! We combined three of the main cooling agents on the market in an effort to eliminate each of their individual drawbacks. 1. Ws-23: Nearly perfect on it's own, but doesn't provide cooling on exhale. 2. Koolada: Gives you that cooling on exhale, but mutes flavor. 3. Methyl Lactate: Offsets the muting caused by koolada and boosts that cooling on exhale, but very minty-tasting thus muddling flavor once again. So we trialed and tested with different ratios until we found the perfect blend that allows us to maximize our cooling without losing flavor. Our new agent cool is optimized for pods and nic salts, but works fantastic with e-juice as well. Ingredients: ws-23, Koolada, Methyl Lactate, Propylene Glycol\",\n                        \"handle\": \"agent-cool-vape\"\n                    },\n                    \"caption\": \"Agent Cool (30ml)\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-extras\",\n                        \"countdown\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683938954000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146256129/agent-cool-ws-23-koolada-methyl-lactate-tbd_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/agent-cool-ws-23-koolada-methyl-lactate-tbd_x450.jpg?v=1683938959\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146256129/agent-cool-easy-instructions_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/agent-cool-easy-instructions_x450.jpg?v=1683938959\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146256129/agent-cool-bulk_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/agent-cool-bulk_x450.jpg?v=1683938959\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146256129/agent-cool-ws-23-koolada-methyl-lactate-tbd_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/agent-cool-ws-23-koolada-methyl-lactate-tbd_x1080.jpg?v=1683938959\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146256129/agent-cool-easy-instructions_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/agent-cool-easy-instructions_x1080.jpg?v=1683938959\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146256129/agent-cool-bulk_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/agent-cool-bulk_x1080.jpg?v=1683938959\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"agentCool\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146288897\": {\n                    \"id\": 8008146288897,\n                    \"prefix\": \"mystery-flavor-salt-\",\n                    \"seo\": {\n                        \"title\": \"Mystery Flavor Salt by TBD Liquids\",\n                        \"description\": \"Our Mystery Flavor is a 15ml promotional bonus flavor that is available through our bundle & pack deals. We offer this flavor for a limited period of time before cycling out. Though we don't ever plan to sell our mystery recipes, when enough customer's request it we might make it available much like we did with melon smoothie, lemon squares, and rainbow candy. This month's mystery flavor is a recipe that Ive been working on for a while. If you dig strawberries, I think youre gonna love it  Ingredients: Nicotine, Propylene Glycol, Vegetable Glycerin, Natural & Artificial Flavorings\",\n                        \"handle\": \"mystery-flavor-salt\"\n                    },\n                    \"caption\": \"Mystery Flavor\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"BOLD_HIDDEN_PRODUCT\",\n                        \"collection-extras\",\n                        \"judgeme_excluded\",\n                        \"norec\",\n                        \"noreview\",\n                        \"OPTIONS_HIDDEN_PRODUCT\"\n                    ],\n                    \"publishedAt\": 1683938960000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/new-mystery-flavor-vape-juice-salt-s-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-mystery-flavor-vape-juice-salt-s-min_x450.jpg?v=1683938972\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/mystery-flavor-summer-slam-2022_23174efb-9f7b-4041-b48e-ae53cb6113ff_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/mystery-flavor-summer-slam-2022_23174efb-9f7b-4041-b48e-ae53cb6113ff_x450.jpg?v=1683938972\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/blue-dream-mystery-flavor_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/blue-dream-mystery-flavor_x450.jpg?v=1683938972\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/cozy-christmas-mystery-flavor_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/cozy-christmas-mystery-flavor_x450.jpg?v=1683938972\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/jan-mystery-flavor-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/jan-mystery-flavor-min_x450.jpg?v=1683938972\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/image_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/image_x450.jpg?v=1683938972\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/spring-surprise-mystery-flavor-march-2023_c3a4ab93-e51b-4fc9-a7bd-691314f05118_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/spring-surprise-mystery-flavor-march-2023_c3a4ab93-e51b-4fc9-a7bd-691314f05118_x450.jpg?v=1683938972\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/new-mystery-flavor-vape-juice-salt-s-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-mystery-flavor-vape-juice-salt-s-min_x1080.jpg?v=1683938972\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/mystery-flavor-summer-slam-2022_23174efb-9f7b-4041-b48e-ae53cb6113ff_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/mystery-flavor-summer-slam-2022_23174efb-9f7b-4041-b48e-ae53cb6113ff_x1080.jpg?v=1683938972\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/blue-dream-mystery-flavor_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/blue-dream-mystery-flavor_x1080.jpg?v=1683938972\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/cozy-christmas-mystery-flavor_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/cozy-christmas-mystery-flavor_x1080.jpg?v=1683938972\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/jan-mystery-flavor-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/jan-mystery-flavor-min_x1080.jpg?v=1683938972\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/image_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/image_x1080.jpg?v=1683938972\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146288897/spring-surprise-mystery-flavor-march-2023_c3a4ab93-e51b-4fc9-a7bd-691314f05118_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/spring-surprise-mystery-flavor-march-2023_c3a4ab93-e51b-4fc9-a7bd-691314f05118_x1080.jpg?v=1683938972\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": true,\n                    \"alias\": \"mysteryFlavor\",\n                    \"visibility\": \"hidden\"\n                },\n                \"8008146354433\": {\n                    \"id\": 8008146354433,\n                    \"prefix\": \"caliburn-a2-usb-c-charging-cable-\",\n                    \"seo\": {\n                        \"title\": \"UWELL Caliburn A2 Charging Cable | USB-C\",\n                        \"description\": \"Buy a Charging Cable for the UWELL Caliburn A2 Device. Our USB-C Cable is 1.2m long, or approximately 4ft, and fully compatible with the new A2 unit. \",\n                        \"handle\": \"caliburn-a2-usb-c-charging-cable\"\n                    },\n                    \"caption\": \"USB-C Cable\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"BOLD_HIDDEN_PRODUCT\",\n                        \"collection-extras\",\n                        \"hardware\",\n                        \"judgeme_excluded\",\n                        \"noreview\",\n                        \"nowarning\",\n                        \"OPTIONS_HIDDEN_PRODUCT\"\n                    ],\n                    \"publishedAt\": 1683938973000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146354433/uwell-caliburn-a2-device-usb-c-charging-cable_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/uwell-caliburn-a2-device-usb-c-charging-cable_x450.jpg?v=1683938975\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146354433/buy-caliburn-usb-c-cable_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/buy-caliburn-usb-c-cable_x450.jpg?v=1683938975\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146354433/uwell-caliburn-a2-device-usb-c-charging-cable_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/uwell-caliburn-a2-device-usb-c-charging-cable_x1080.jpg?v=1683938975\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146354433/buy-caliburn-usb-c-cable_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/buy-caliburn-usb-c-cable_x1080.jpg?v=1683938975\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": true,\n                    \"alias\": \"usbCCable\",\n                    \"visibility\": \"hidden\"\n                },\n                \"8008146419969\": {\n                    \"id\": 8008146419969,\n                    \"prefix\": \"starter-flavor-pack-\",\n                    \"seo\": {\n                        \"title\": \"Starter Salts Flavor Pack by The Best D* Liquids | Save 20% Caliburn Deal\",\n                        \"description\": \"Our new salt starter kit includes (3) 30ml nic salts, a bonus 15ml mystery flavor, and a $5 caliburn pod pack. You won't find a deal this good anywhere online. Our new handcrafted salts are optimized for maximum flavor and performance with nic salt pod systems such as the Uwell Caliburn. \",\n                        \"handle\": \"starter-flavor-pack\"\n                    },\n                    \"caption\": \"Starter Salts Pack\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-flavor-packs\",\n                        \"just-packs\"\n                    ],\n                    \"publishedAt\": 1683939005000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146419969/summer-harvest-nic-salt-s-flavor-starter-pack_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/summer-harvest-nic-salt-s-flavor-starter-pack_x450.jpg?v=1685772183\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146419969/agent-cool-nic-salt-s-starter-pack-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/agent-cool-nic-salt-s-starter-pack-c_x450.jpg?v=1685772183\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146419969/sweet-treats-nic-salt-juice-starter-pack-min_8fced0f4-4c4c-4b3d-a5a8-4b488177809a_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/sweet-treats-nic-salt-juice-starter-pack-min_8fced0f4-4c4c-4b3d-a5a8-4b488177809a_x450.jpg?v=1685772183\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146419969/mellow-mixers-starter-pack-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/mellow-mixers-starter-pack-c_x450.jpg?v=1685772183\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146419969/summer-harvest-nic-salt-s-flavor-starter-pack_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/summer-harvest-nic-salt-s-flavor-starter-pack_x1080.jpg?v=1685772183\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146419969/agent-cool-nic-salt-s-starter-pack-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/agent-cool-nic-salt-s-starter-pack-c_x1080.jpg?v=1685772183\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146419969/sweet-treats-nic-salt-juice-starter-pack-min_8fced0f4-4c4c-4b3d-a5a8-4b488177809a_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/sweet-treats-nic-salt-juice-starter-pack-min_8fced0f4-4c4c-4b3d-a5a8-4b488177809a_x1080.jpg?v=1685772183\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146419969/mellow-mixers-starter-pack-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/mellow-mixers-starter-pack-c_x1080.jpg?v=1685772183\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"starterSaltsPack\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146485505\": {\n                    \"id\": 8008146485505,\n                    \"prefix\": \"essential-flavor-pack-\",\n                    \"seo\": {\n                        \"title\": \"Essential Salts Pack by The Best D*** Liquids | Caliburn Flavors\",\n                        \"description\": \"Our Essential Salts Pack Includes The Following: (6) Handcrafted Nic Salts 15ml Mystery Flavor Free Pod Pack. Save over 20% with our best nic salt juice flavor deal. Choose between flavors such as blueberry muffin, blue raspberry, mango,  melon smoothie, issa pear, root beer, and more! Our salts are available from 50mg, 30mg, all the way down to 15mg.\",\n                        \"handle\": \"essential-flavor-pack\"\n                    },\n                    \"caption\": \"Essential Salts Pack\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-flavor-packs\",\n                        \"countdown\",\n                        \"just-packs\"\n                    ],\n                    \"publishedAt\": 1683939016000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146485505/agent-cool-essential-nic-salt-juice-pack-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/agent-cool-essential-nic-salt-juice-pack-c_x450.jpg?v=1685772200\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146485505/summer-harvest-best-salts-essential-pack-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/summer-harvest-best-salts-essential-pack-c_x450.jpg?v=1685772200\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146485505/sweet-treats-nic-salt-juice-essential-pack_fec92851-6fa0-4f45-9500-3cf05e472c01_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/sweet-treats-nic-salt-juice-essential-pack_fec92851-6fa0-4f45-9500-3cf05e472c01_x450.jpg?v=1685772201\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146485505/mellow-mixers-essential-nic-salt-juice-pack-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/mellow-mixers-essential-nic-salt-juice-pack-c_x450.jpg?v=1685772201\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146485505/agent-cool-essential-nic-salt-juice-pack-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/agent-cool-essential-nic-salt-juice-pack-c_x1080.jpg?v=1685772200\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146485505/summer-harvest-best-salts-essential-pack-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/summer-harvest-best-salts-essential-pack-c_x1080.jpg?v=1685772200\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146485505/sweet-treats-nic-salt-juice-essential-pack_fec92851-6fa0-4f45-9500-3cf05e472c01_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/sweet-treats-nic-salt-juice-essential-pack_fec92851-6fa0-4f45-9500-3cf05e472c01_x1080.jpg?v=1685772201\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146485505/mellow-mixers-essential-nic-salt-juice-pack-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/mellow-mixers-essential-nic-salt-juice-pack-c_x1080.jpg?v=1685772201\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"essentialSaltsPack\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146518273\": {\n                    \"id\": 8008146518273,\n                    \"prefix\": \"build-your-own-pack-\",\n                    \"seo\": {\n                        \"title\": \"Build-Your-Own Pack\",\n                        \"description\": \"Build-your-own pack. Meet our \\\"Build-Your-Own Nic Salts Pack\\\"  the answer to your desire for personalized e-liquid flavors. Say goodbye to pre-packed e-liquids with flavors that miss the mark. Instead, customize your pack with 2-6 flavors from our delectable range. The more bottles you choose, the more savings you enjoy! * 1st Bottle: included * 2nd Bottle: included * 3rd Bottle: Just $13.95 * 4th Bottle: An even lower $11.95 * 5th Bottle: Merely $8.95 * 6th Bottle: An unbeatable $5.95 But we've got one more surprise up our sleeve: a free 30ml bottle of our Mystery Flavor! It's a thrilling sneak peek at our latest, unreleased recipe. Want to level up your vaping experience even further? Consider our upgrades: * Vaporesso xros 3 Mini Device: Our favorite all-in-one pod system that ensures a smooth, potent vaping session. * xros Pod Packs: a must-have for an uninterrupted, enjoyable vaping experience. * Agent Cool or Sweetener: Customize your flavors with an extra kick of coolness or sweetness. Ingredients: Nicotine, Propylene Glycol, Vegetable Glycerin, Natural & Artificial Flavorings\",\n                        \"handle\": \"build-your-own-pack\"\n                    },\n                    \"caption\": \"Build-Your-Own Pack\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"30ml\",\n                        \"collection-flavor-packs\",\n                        \"countdown\",\n                        \"just-packs\"\n                    ],\n                    \"publishedAt\": 1683939029000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146518273/build-your-own-pack-2023-new-custom-vaporesso-deal-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/build-your-own-pack-2023-new-custom-vaporesso-deal-c_x450.jpg?v=1685772219\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146518273/build-your-own-pack-15mg-nicotine-option-selected-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/build-your-own-pack-15mg-nicotine-option-selected-c_x450.jpg?v=1685772219\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146518273/build-your-own-pack-30mg-nicotine-option-selected-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/build-your-own-pack-30mg-nicotine-option-selected-c_x450.jpg?v=1685772219\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146518273/build-your-own-pack-50mg-nicotine-option-selected-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/build-your-own-pack-50mg-nicotine-option-selected-c_x450.jpg?v=1685772219\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146518273/build-your-own-pack-custom-nicotine-option-selected-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/build-your-own-pack-custom-nicotine-option-selected-c_x450.jpg?v=1685772219\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146518273/choose-any-flavor_4b726980-29ce-41f4-a5de-a9c057c67bba_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/choose-any-flavor_4b726980-29ce-41f4-a5de-a9c057c67bba_x450.jpg?v=1685772219\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146518273/build-your-own-pack-2023-new-custom-vaporesso-deal-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/build-your-own-pack-2023-new-custom-vaporesso-deal-c_x1080.jpg?v=1685772219\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146518273/build-your-own-pack-15mg-nicotine-option-selected-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/build-your-own-pack-15mg-nicotine-option-selected-c_x1080.jpg?v=1685772219\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146518273/build-your-own-pack-30mg-nicotine-option-selected-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/build-your-own-pack-30mg-nicotine-option-selected-c_x1080.jpg?v=1685772219\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146518273/build-your-own-pack-50mg-nicotine-option-selected-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/build-your-own-pack-50mg-nicotine-option-selected-c_x1080.jpg?v=1685772219\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146518273/build-your-own-pack-custom-nicotine-option-selected-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/build-your-own-pack-custom-nicotine-option-selected-c_x1080.jpg?v=1685772219\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146518273/choose-any-flavor_4b726980-29ce-41f4-a5de-a9c057c67bba_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/choose-any-flavor_4b726980-29ce-41f4-a5de-a9c057c67bba_x1080.jpg?v=1685772219\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"buildYourOwnPack\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146583809\": {\n                    \"id\": 8008146583809,\n                    \"prefix\": \"monkey-juice-salts-\",\n                    \"seo\": {\n                        \"title\": \"Monkey Juice by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"Delicious Strawberry Banana Puree. Our best selling monkey juice nic salt recipe is part of our new handcrafted nic salts line of flavors, featuring juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"monkey-juice-salts\"\n                    },\n                    \"caption\": \"Monkey Juice Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-handcrafted-salts\",\n                        \"just-juice\",\n                        \"Savory\"\n                    ],\n                    \"publishedAt\": 1683939068000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146583809/best-strawberry-banana-salts-new_38635ab3-e508-4603-b9d3-cf546e1e0357_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strawberry-banana-salts-new_38635ab3-e508-4603-b9d3-cf546e1e0357_x450.jpg?v=1683939071\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146583809/best-strawberry-banana-milkshake-salts-monkey-juice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strawberry-banana-milkshake-salts-monkey-juice_x450.jpg?v=1683939071\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146583809/best-strawberry-banana-salts-new_38635ab3-e508-4603-b9d3-cf546e1e0357_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strawberry-banana-salts-new_38635ab3-e508-4603-b9d3-cf546e1e0357_x1080.jpg?v=1683939071\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146583809/best-strawberry-banana-milkshake-salts-monkey-juice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strawberry-banana-milkshake-salts-monkey-juice_x1080.jpg?v=1683939071\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"monkeyJuiceSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146616577\": {\n                    \"id\": 8008146616577,\n                    \"prefix\": \"pineapple-guava-salt-\",\n                    \"seo\": {\n                        \"title\": \"Pina Guavada by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"Sweet Guava Nectar backed with Tart Pineapple Juice. Our Best Selling Pina Guavada Nic Salt Recipe is part of our new handcrafted nic salts line of flavors, featuring juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"pineapple-guava-salt\"\n                    },\n                    \"caption\": \"Pina Guavada Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-handcrafted-salts\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939072000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146616577/best-pineapple-guava-nic-salt-juice-2019-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-pineapple-guava-nic-salt-juice-2019-min_x450.jpg?v=1683939075\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146616577/Pina-Guavada-Pineapple-Guava-Best-Nic-Salts_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Pina-Guavada-Pineapple-Guava-Best-Nic-Salts_x450.jpg?v=1683939075\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146616577/best-pineapple-guava-nic-salt-juice-2019-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-pineapple-guava-nic-salt-juice-2019-min_x1080.jpg?v=1683939075\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146616577/Pina-Guavada-Pineapple-Guava-Best-Nic-Salts_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Pina-Guavada-Pineapple-Guava-Best-Nic-Salts_x1080.jpg?v=1683939075\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008146649345\": {\n                    \"id\": 8008146649345,\n                    \"prefix\": \"blueberry-muffin-salts-\",\n                    \"seo\": {\n                        \"title\": \"Blueberry Muffin by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"Sweet Blueberries, Warm Bread, Topped With Sugary Cinnamon Crystals. Our Best Selling Blueberry Muffin nic salt recipe is part of our new handcrafted nic salts line of flavors, featuring juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"blueberry-muffin-salts\"\n                    },\n                    \"caption\": \"Blueberry Muffin Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-handcrafted-salts\",\n                        \"countdown\",\n                        \"just-juice\",\n                        \"Savory\"\n                    ],\n                    \"publishedAt\": 1683939075000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146649345/best-blueberry-muffin-salt-nic-juice-min_1_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-blueberry-muffin-salt-nic-juice-min_1_x450.jpg?v=1683939079\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146649345/new-caliburn-flavor-blueberry-muffin-salts_406x.progressive_827f5015-c542-400b-8b25-b9c7cecadbde_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-caliburn-flavor-blueberry-muffin-salts_406x.progressive_827f5015-c542-400b-8b25-b9c7cecadbde_x450.jpg?v=1683939079\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146649345/best-blueberry-muffin-salt-nic-juice-min_1_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-blueberry-muffin-salt-nic-juice-min_1_x1080.jpg?v=1683939079\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146649345/new-caliburn-flavor-blueberry-muffin-salts_406x.progressive_827f5015-c542-400b-8b25-b9c7cecadbde_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-caliburn-flavor-blueberry-muffin-salts_406x.progressive_827f5015-c542-400b-8b25-b9c7cecadbde_x1080.jpg?v=1683939079\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"blueberryMuffinSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146682113\": {\n                    \"id\": 8008146682113,\n                    \"prefix\": \"cereal-fiend-salts-\",\n                    \"seo\": {\n                        \"title\": \"Cereal Fiend by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"Delicious Apple and Cinnamon Cereal flavor made for pods. Our Best Selling Cereal Fiend nic salt recipe is part of our new handcrafted nic salts line of flavors, featuring juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"cereal-fiend-salts\"\n                    },\n                    \"caption\": \"Cereal Fiend Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-handcrafted-salts\",\n                        \"countdown\",\n                        \"just-juice\",\n                        \"Savory\"\n                    ],\n                    \"publishedAt\": 1683939080000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146682113/best-cereal-salt-nic-juice-tbd-salts_afd1dbbd-29e7-4a0b-8430-4e2f6d9c1a91_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-cereal-salt-nic-juice-tbd-salts_afd1dbbd-29e7-4a0b-8430-4e2f6d9c1a91_x450.jpg?v=1683939084\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146682113/best-cereal-nic-salt-flavor-new_91678c48-9b19-4fa8-931e-c06b7468ed00_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-cereal-nic-salt-flavor-new_91678c48-9b19-4fa8-931e-c06b7468ed00_x450.jpg?v=1683939084\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146682113/caliburn-cereal-flavor-nic-salt-pod-juice-cereal-fiend_406x.progressive_704f14b9-727c-4e9b-ab08-35b387dd5a3b_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/caliburn-cereal-flavor-nic-salt-pod-juice-cereal-fiend_406x.progressive_704f14b9-727c-4e9b-ab08-35b387dd5a3b_x450.jpg?v=1683939084\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146682113/best-cereal-salt-nic-juice-tbd-salts_afd1dbbd-29e7-4a0b-8430-4e2f6d9c1a91_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-cereal-salt-nic-juice-tbd-salts_afd1dbbd-29e7-4a0b-8430-4e2f6d9c1a91_x1080.jpg?v=1683939084\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146682113/best-cereal-nic-salt-flavor-new_91678c48-9b19-4fa8-931e-c06b7468ed00_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-cereal-nic-salt-flavor-new_91678c48-9b19-4fa8-931e-c06b7468ed00_x1080.jpg?v=1683939084\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146682113/caliburn-cereal-flavor-nic-salt-pod-juice-cereal-fiend_406x.progressive_704f14b9-727c-4e9b-ab08-35b387dd5a3b_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/caliburn-cereal-flavor-nic-salt-pod-juice-cereal-fiend_406x.progressive_704f14b9-727c-4e9b-ab08-35b387dd5a3b_x1080.jpg?v=1683939084\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"cerealFiendSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146714881\": {\n                    \"id\": 8008146714881,\n                    \"prefix\": \"best-mango-salt-s-\",\n                    \"seo\": {\n                        \"title\": \"The Best D* Mango Salt by TBD Liquids | Salts Optimized For Pods\",\n                        \"description\": \"The name says it all. You've never had a mango flavor like this before and it's part of our new handcrafted nic salts line of flavors, which features juice recipes designed for the best taste with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"best-mango-salt-s\"\n                    },\n                    \"caption\": \"The Best D*** Mango Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939085000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146714881/the-best-mango-salt-nic-juice-for-pods-min_1_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/the-best-mango-salt-nic-juice-for-pods-min_1_x450.jpg?v=1683939086\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146714881/the-best-mango-salt-nic-juice-for-pods-min_1_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/the-best-mango-salt-nic-juice-for-pods-min_1_x1080.jpg?v=1683939086\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true,\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"theBestDamnMangoSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146747649\": {\n                    \"id\": 8008146747649,\n                    \"prefix\": \"best-blue-raspberry-\",\n                    \"seo\": {\n                        \"title\": \"Blue Raspberry Salt by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"What is a blue raspberry? Well whatever it is, it's delicious! Our new blue raspberry nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"best-blue-raspberry\"\n                    },\n                    \"caption\": \"Blue Raspberry Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"countdown\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939087000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146747649/best-blue-raspberry-nic-salt-s-juice-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-blue-raspberry-nic-salt-s-juice-min_x450.jpg?v=1683939089\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146747649/best-blue-raspberry-nic-salt-s-juice-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-blue-raspberry-nic-salt-s-juice-min_x1080.jpg?v=1683939089\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true,\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"blueRaspberrySalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146780417\": {\n                    \"id\": 8008146780417,\n                    \"prefix\": \"cucumber-breeze-salt-\",\n                    \"seo\": {\n                        \"title\": \"Cucumber Breeze by The Best D* Liquids | Sparkling Cucumber Water \",\n                        \"description\": \"Sparkling Cucumber Water that leaves you feeling refreshed! Our new cucumber breeze nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"cucumber-breeze-salt\"\n                    },\n                    \"caption\": \"Cucumber Breeze Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"countdown\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939089000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146780417/best-cucumber-mint-nic-salt-juice-1-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-cucumber-mint-nic-salt-juice-1-min_x450.jpg?v=1683939092\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146780417/best-cucumber-mint-nic-salt-juice-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-cucumber-mint-nic-salt-juice-min_x450.jpg?v=1683939092\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146780417/best-cucumber-mint-nic-salt-juice-1-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-cucumber-mint-nic-salt-juice-1-min_x1080.jpg?v=1683939092\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008146780417/best-cucumber-mint-nic-salt-juice-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-cucumber-mint-nic-salt-juice-min_x1080.jpg?v=1683939092\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true,\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"cucumberBreezeSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146813185\": {\n                    \"id\": 8008146813185,\n                    \"prefix\": \"lychee-gummy-candy-salt-\",\n                    \"seo\": {\n                        \"title\": \"Lychee Gummy Candy by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"Straight Outta Tokyo! You've never tasted a candy flavor like this before. \\nIt's like a cross between a White Gummy Bear and a Kiwi. Try not to drool on your keyboard Our new lychee candy nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"lychee-gummy-candy-salt\"\n                    },\n                    \"caption\": \"Lychee Candy Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-handcrafted-salts\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939093000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146813185/lychee-candy-best-gummy-bear-kiwi-salt-s_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/lychee-candy-best-gummy-bear-kiwi-salt-s_x450.jpg?v=1683939095\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146813185/lychee-candy-best-gummy-bear-kiwi-salt-s_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/lychee-candy-best-gummy-bear-kiwi-salt-s_x1080.jpg?v=1683939095\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"lycheeCandySalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146878721\": {\n                    \"id\": 8008146878721,\n                    \"prefix\": \"melon-smoothie-\",\n                    \"seo\": {\n                        \"title\": \"Melon Smoothie by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"I normally don't like coffee flavors, but man this recipe is a straight all-day-vape. \\nIt's a frozen caramel coffee flavor. Our new starbuck nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"melon-smoothie\"\n                    },\n                    \"caption\": \"Melon Smoothie Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-handcrafted-salts\",\n                        \"just-juice\",\n                        \"Savory\"\n                    ],\n                    \"publishedAt\": 1683939098000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146878721/best-melon-smoothie-salt-nic-juice-for-pods_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-melon-smoothie-salt-nic-juice-for-pods_x450.jpg?v=1683939099\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146878721/best-melon-smoothie-salt-nic-juice-for-pods_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-melon-smoothie-salt-nic-juice-for-pods_x1080.jpg?v=1683939099\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"melonSmoothieSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146911489\": {\n                    \"id\": 8008146911489,\n                    \"prefix\": \"sassafras-root-beer-salt-\",\n                    \"seo\": {\n                        \"title\": \"Sassafrass Root Beer by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"It's carbonated! You've never had a soda flavor like this before. It's even got that crisp root beer throat burn. Our new sassafras root beer nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"sassafras-root-beer-salt\"\n                    },\n                    \"caption\": \"Sassafras (Root Beer) Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"just-juice\",\n                        \"Savory\"\n                    ],\n                    \"publishedAt\": 1683939099000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146911489/sassafras-best-root-beer-soda-salt-nic-juice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/sassafras-best-root-beer-soda-salt-nic-juice_x450.jpg?v=1683939102\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146911489/sassafras-best-root-beer-soda-salt-nic-juice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/sassafras-best-root-beer-soda-salt-nic-juice_x1080.jpg?v=1683939102\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"sassafrasRootBeerSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146944257\": {\n                    \"id\": 8008146944257,\n                    \"prefix\": \"issa-pear-salt-\",\n                    \"seo\": {\n                        \"title\": \"Issa Pear by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"Issa-mazing! Sorry I couldn't help myself. It's all the right parts of a pear, super sweet and juicy, yet still crisp. Our new pear nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"issa-pear-salt\"\n                    },\n                    \"caption\": \"Issa Pearadise Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939102000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146944257/best-pear-flavor-salt-nic-juice-for-pods_af12adfe-61bd-4980-a25f-48a4a1bc71d6_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-pear-flavor-salt-nic-juice-for-pods_af12adfe-61bd-4980-a25f-48a4a1bc71d6_x450.jpg?v=1683939104\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146944257/best-pear-flavor-salt-nic-juice-for-pods_af12adfe-61bd-4980-a25f-48a4a1bc71d6_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-pear-flavor-salt-nic-juice-for-pods_af12adfe-61bd-4980-a25f-48a4a1bc71d6_x1080.jpg?v=1683939104\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true,\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"issaPearadiseSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008146977025\": {\n                    \"id\": 8008146977025,\n                    \"prefix\": \"lemon-squares-salt-\",\n                    \"seo\": {\n                        \"title\": \"Lemon Squares by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"Lemon Bar Dessert E-Liquid Flavor. Our Best Selling Lemon Squares nic salt recipe is part of our new handcrafted nic salts line of flavors, featuring juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"lemon-squares-salt\"\n                    },\n                    \"caption\": \"Lemon Squares Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-handcrafted-salts\",\n                        \"just-juice\",\n                        \"Savory\"\n                    ],\n                    \"publishedAt\": 1683939105000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146977025/best-lemon-bar-dessert-nic-salt-flavor-2019-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-lemon-bar-dessert-nic-salt-flavor-2019-min_x450.jpg?v=1683939107\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008146977025/best-lemon-bar-dessert-nic-salt-flavor-2019-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-lemon-bar-dessert-nic-salt-flavor-2019-min_x1080.jpg?v=1683939107\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147009793\": {\n                    \"id\": 8008147009793,\n                    \"prefix\": \"rainbow-candy-salts-\",\n                    \"seo\": {\n                        \"title\": \"Rainbow Candy by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"Sweet sugary rainbow candy, without the carbs. Our new rainbow candy nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"rainbow-candy-salts\"\n                    },\n                    \"caption\": \"Rainbow Candy Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939107000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147009793/tbd-rainbow-candy-nic-salt-juice-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/tbd-rainbow-candy-nic-salt-juice-min_x450.jpg?v=1683939109\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147009793/tbd-rainbow-candy-nic-salt-juice-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/tbd-rainbow-candy-nic-salt-juice-min_x1080.jpg?v=1683939109\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true,\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147042561\": {\n                    \"id\": 8008147042561,\n                    \"prefix\": \"bubble-gum-\",\n                    \"seo\": {\n                        \"title\": \"Bubble Gum by The Best D* Liquids | Affordable Nic Salts\",\n                        \"description\": \"It's Bubble-licious!\\nThis tastes just like double bubble. Perfect for anyone who wants a sweet and smooth all day vape. Our new bubble gum nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"bubble-gum\"\n                    },\n                    \"caption\": \"Bubble Gum Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"countdown\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939110000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147042561/best-bubble-gum-nic-salt-juice-flavor-s-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-bubble-gum-nic-salt-juice-flavor-s-min_x450.jpg?v=1683939111\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147042561/best-bubble-gum-nic-salt-juice-flavor-s-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-bubble-gum-nic-salt-juice-flavor-s-min_x1080.jpg?v=1683939111\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true,\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147075329\": {\n                    \"id\": 8008147075329,\n                    \"prefix\": \"strawberry-milk-salt-\",\n                    \"seo\": {\n                        \"title\": \"Strawberry Milk by The Best D* Liquids | Affordable Nic Salts\",\n                        \"description\": \"Mooooo! Our longest running mystery recipe yet.. and for good reason! This strawberry milk flavor brought so much joy to our dessert loving customers .Our new strawberry milk nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"strawberry-milk-salt\"\n                    },\n                    \"caption\": \"Strawberry Milk Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-handcrafted-salts\",\n                        \"Fruit\",\n                        \"just-juice\",\n                        \"Savory\"\n                    ],\n                    \"publishedAt\": 1683939112000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147075329/best-strawberry-milk-nic-salt-juice-s-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strawberry-milk-nic-salt-juice-s-min_x450.jpg?v=1683939114\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147075329/best-strawberry-milk-nic-salt-juice-s-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strawberry-milk-nic-salt-juice-s-min_x1080.jpg?v=1683939114\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147108097\": {\n                    \"id\": 8008147108097,\n                    \"prefix\": \"vanilla-mint-salt-\",\n                    \"seo\": {\n                        \"title\": \"Vanilla Mint by The Best D* Liquids | Affordable Nic Salts\",\n                        \"description\": \"This Ain't No Dissapoint-Mint. This is a smooth mint flavor you can easily vape all day. The hint of vanilla balances out the mint, lending the flavor a nice subtle sweetness. Our new vanilla mint nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"vanilla-mint-salt\"\n                    },\n                    \"caption\": \"Vanilla Mint Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"just-juice\",\n                        \"Savory\"\n                    ],\n                    \"publishedAt\": 1683939114000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147108097/best-mint-nic-salt-juice-flavor-s-m_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-mint-nic-salt-juice-flavor-s-m_x450.jpg?v=1683939115\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147108097/best-mint-nic-salt-juice-flavor-s-m_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-mint-nic-salt-juice-flavor-s-m_x1080.jpg?v=1683939115\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"vanillaMintSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008147140865\": {\n                    \"id\": 8008147140865,\n                    \"prefix\": \"key-lime-pie-salt-\",\n                    \"seo\": {\n                        \"title\": \"Key Lime Pie Salt by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"The key lime was gentle, adding a light tartness to the smooth and sweet whipped cream. The graham cracker was welcomed, and not overbearing or dry. It was perfectly balanced, and made for the first dessert flavor that I could vape all day. Our new key lime pie nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"key-lime-pie-salt\"\n                    },\n                    \"caption\": \"Key Lime Pie Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939116000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147140865/the-best-key-lime-pie-nic-salt-juice-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/the-best-key-lime-pie-nic-salt-juice-min_x450.jpg?v=1683939118\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147140865/the-best-key-lime-pie-nic-salt-juice-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/the-best-key-lime-pie-nic-salt-juice-min_x1080.jpg?v=1683939118\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true,\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147173633\": {\n                    \"id\": 8008147173633,\n                    \"prefix\": \"country-summer-salt-\",\n                    \"seo\": {\n                        \"title\": \"Country Summer by The Best D* Liquids | Salts For Pods\",\n                        \"description\": \"Creating the best strawberry lemonade nic salt juice was a lot harder than I had anticipated. I pulled out all the stops on this one. It's so good that we've been getting customers requesting us to add it as a permanent flavor since the first week that we debuted it. Our new country summer nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"country-summer-salt\"\n                    },\n                    \"caption\": \"Country Summer Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939118000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147173633/country-summer-best-strawberry-lemonade-salt-s_002cdd59-fc19-4d45-ba1c-4ea4679f59a8_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/country-summer-best-strawberry-lemonade-salt-s_002cdd59-fc19-4d45-ba1c-4ea4679f59a8_x450.jpg?v=1683939120\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147173633/country-summer-best-strawberry-lemonade-salt-s_002cdd59-fc19-4d45-ba1c-4ea4679f59a8_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/country-summer-best-strawberry-lemonade-salt-s_002cdd59-fc19-4d45-ba1c-4ea4679f59a8_x1080.jpg?v=1683939120\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true,\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"countrySummerSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008147206401\": {\n                    \"id\": 8008147206401,\n                    \"prefix\": \"king-cola-salt-\",\n                    \"seo\": {\n                        \"title\": \"King Cola by The Best D* Liquids | Salts For Pods\",\n                        \"description\": \"Fizzy, Sweet, Syrupy Goodness!This is the real deal folks. If you've been looking for an authentic cherry cola vape juice, this is your jam. We worked hard to make sure that there was a true well-balanced fizznyess to this recipe. We created a soda flavor you could vape all day without getting syrup sick.\",\n                        \"handle\": \"king-cola-salt\"\n                    },\n                    \"caption\": \"King Cola Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939120000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147206401/best-cherry-coke-vape-juice-king-cola-new_a8aec270-5768-4f35-bb23-14f2e594e56c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-cherry-coke-vape-juice-king-cola-new_a8aec270-5768-4f35-bb23-14f2e594e56c_x450.jpg?v=1683939122\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147206401/best-cherry-coke-vape-juice-king-cola-new_a8aec270-5768-4f35-bb23-14f2e594e56c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-cherry-coke-vape-juice-king-cola-new_a8aec270-5768-4f35-bb23-14f2e594e56c_x1080.jpg?v=1683939122\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true,\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147271937\": {\n                    \"id\": 8008147271937,\n                    \"prefix\": \"best-sonoma-grape-salt-\",\n                    \"seo\": {\n                        \"title\": \"Sonoma Grape | Best Grape Nic Salt Juice 2021\",\n                        \"description\": \"We bring you the best new grape nic salt flavor for 2021! Sonoma Grape is a refreshing blend of crisp white and sweet green grapes. \",\n                        \"handle\": \"best-sonoma-grape-salt\"\n                    },\n                    \"caption\": \"Sonoma Grape Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-handcrafted-salts\",\n                        \"countdown\",\n                        \"just-juice\",\n                        \"Savory\"\n                    ],\n                    \"publishedAt\": 1683939125000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147271937/best-grape-flavor-nic-salt-s-juice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-grape-flavor-nic-salt-s-juice_x450.jpg?v=1683939126\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147271937/best-grape-flavor-nic-salt-s-juice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-grape-flavor-nic-salt-s-juice_x1080.jpg?v=1683939126\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"sonomaGrapeSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008147337473\": {\n                    \"id\": 8008147337473,\n                    \"prefix\": \"tobacco-joe-salt-\",\n                    \"seo\": {\n                        \"title\": \"Tobacco Joe | Best Tobacco Flavored Nic Salt Juice\",\n                        \"description\": \"We bring you the best new tobacco nic salt flavor for 2021! More details coming soon\",\n                        \"handle\": \"tobacco-joe-salt\"\n                    },\n                    \"caption\": \"Tobacco Joe Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-handcrafted-salts\",\n                        \"countdown\",\n                        \"just-juice\",\n                        \"Savory\"\n                    ],\n                    \"publishedAt\": 1683939126000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147337473/best-nic-salt-s-tobacco-joe-new_6149c815-1910-40cf-b439-05c91b57eb5f_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-nic-salt-s-tobacco-joe-new_6149c815-1910-40cf-b439-05c91b57eb5f_x450.jpg?v=1683939128\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147337473/best-nic-salt-s-tobacco-joe-new_6149c815-1910-40cf-b439-05c91b57eb5f_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-nic-salt-s-tobacco-joe-new_6149c815-1910-40cf-b439-05c91b57eb5f_x1080.jpg?v=1683939128\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"tobaccoJoeSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008147403009\": {\n                    \"id\": 8008147403009,\n                    \"prefix\": \"best-jolly-watermelon-nic-salt-juice-\",\n                    \"seo\": {\n                        \"title\": \"Jolly Watermelon Salt - The Best D*** Liquids \",\n                        \"description\": \"The Best D*** Sour Watermelon Candy Flavor! Our \\\"Summer Vibes\\\" mystery flavor has been released! Normally our mystery flavors last two full months, but the reviews you all left told us that we needed to rush this sour watermelon candy flavor into our permanent handcrafted nic salt collection. \",\n                        \"handle\": \"best-jolly-watermelon-nic-salt-juice\"\n                    },\n                    \"caption\": \"Jolly Watermelon Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"countdown\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939133000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147403009/best-jolly-watermelon-nic-salt-s-juice-2022_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-jolly-watermelon-nic-salt-s-juice-2022_x450.jpg?v=1683939134\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147403009/best-jolly-watermelon-nic-salt-s-juice-2022_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-jolly-watermelon-nic-salt-s-juice-2022_x1080.jpg?v=1683939134\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true,\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147501313\": {\n                    \"id\": 8008147501313,\n                    \"prefix\": \"country-crumble-salt-\",\n                    \"seo\": {\n                        \"title\": \"Country Crumble by TBD Liquids | Salts Optimized For Pods\",\n                        \"description\": \"Our Big Hit Is Now Available! We're so excited to release our delicious country apple pie / cinnamon crumble flavor. Our new apple pie nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"country-crumble-salt\"\n                    },\n                    \"caption\": \"Country Crumble Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939141000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147501313/best-country-apple-pie-nic-salt-crumble_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-country-apple-pie-nic-salt-crumble_x450.jpg?v=1683939142\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147501313/best-country-apple-pie-nic-salt-crumble_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-country-apple-pie-nic-salt-crumble_x1080.jpg?v=1683939142\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true,\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"countryCrumbleSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008147534081\": {\n                    \"id\": 8008147534081,\n                    \"prefix\": \"mister-coffee-salt-\",\n                    \"seo\": {\n                        \"title\": \"Mister Coffee by The Best D* Liquids | Salts Optimized For Pods\",\n                        \"description\": \"I normally don't like coffee flavors, but man this recipe is a straight all-day-vape. \\nIt's a frozen caramel coffee flavor. Our new mister coffee nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"mister-coffee-salt\"\n                    },\n                    \"caption\": \"Mister Coffee Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"just-juice\",\n                        \"Savory\"\n                    ],\n                    \"publishedAt\": 1683939143000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147534081/best-coffee-vape-nic-salt-s-juice-new_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-coffee-vape-nic-salt-s-juice-new_x450.jpg?v=1683939146\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147534081/best-coffee-vape-nic-salt-s-juice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-coffee-vape-nic-salt-s-juice_x450.jpg?v=1683939146\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147534081/best-coffee-vape-nic-salt-s-juice-new_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-coffee-vape-nic-salt-s-juice-new_x1080.jpg?v=1683939146\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147534081/best-coffee-vape-nic-salt-s-juice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-coffee-vape-nic-salt-s-juice_x1080.jpg?v=1683939146\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147566849\": {\n                    \"id\": 8008147566849,\n                    \"prefix\": \"fresh-mint-salt-\",\n                    \"seo\": {\n                        \"title\": \"Fresh Mint by The Best D* Liquids | Affordable Nic Salts\",\n                        \"description\": \"The Fresh Mint of Sonoma County!\\nThis flavor is awesome, if you're looking for a straight mint flavor, this is the one. Not too sweet, not too minty, just right, perfectly balanced.  Our new fresh mint nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"fresh-mint-salt\"\n                    },\n                    \"caption\": \"Fresh Mint Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"countdown\",\n                        \"just-juice\",\n                        \"Mint\"\n                    ],\n                    \"publishedAt\": 1683939147000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147566849/best-fresh-mint-vape-juice-new_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-fresh-mint-vape-juice-new_x450.jpg?v=1683939150\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147566849/best-fresh-mint-vape-juice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-fresh-mint-vape-juice_x450.jpg?v=1683939150\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147566849/best-fresh-mint-vape-juice-new_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-fresh-mint-vape-juice-new_x1080.jpg?v=1683939150\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147566849/best-fresh-mint-vape-juice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-fresh-mint-vape-juice_x1080.jpg?v=1683939150\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"freshMintSalt\",\n                    \"visibility\": \"active\"\n                },\n                \"8008147599617\": {\n                    \"id\": 8008147599617,\n                    \"prefix\": \"electric-limeade-salt-\",\n                    \"seo\": {\n                        \"title\": \"Electric Limeade by The Best D* Liquids | Affordable Nic Salts\",\n                        \"description\": \"Warning: This Flavor Might Shock You! This is an electricfying mix of sweet blue raspberry and tangy limeade. Our new electric limeade nic salt flavor is part of our handcrafted nic salts line, featuring the best juice recipes designed for maximum flavor with pod systems. Order today in any nicotine salt level such as 10mg, 15mg, 20mg, 25mg, 30mg, 35mg, 40mg, 45mg, 50mg for cheap. Our Handcrafted line of salts are optimized for the uwell caliburn pod system, we ensure the best taste, performance, and quality or your money back.\",\n                        \"handle\": \"electric-limeade-salt\"\n                    },\n                    \"caption\": \"Electric Limeade Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"countdown\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939151000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147599617/best-blue-raspberry-limeade-vape-juice-new_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-blue-raspberry-limeade-vape-juice-new_x450.jpg?v=1683939154\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147599617/best-blue-raspberry-limeade-vape-juicecopy_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-blue-raspberry-limeade-vape-juicecopy_x450.jpg?v=1683939154\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147599617/best-blue-raspberry-limeade-vape-juice-new_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-blue-raspberry-limeade-vape-juice-new_x1080.jpg?v=1683939154\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147599617/best-blue-raspberry-limeade-vape-juicecopy_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-blue-raspberry-limeade-vape-juicecopy_x1080.jpg?v=1683939154\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147632385\": {\n                    \"id\": 8008147632385,\n                    \"prefix\": \"tropical-fruit-punch-out-\",\n                    \"seo\": {\n                        \"title\": \"Punch Out by The Best D* Liquids | Salts\",\n                        \"description\": \"Tropical Fruit Punch Out!! The best fruit punch e-liquid for pod systems. Available in 15mg, 30mg, 50mg, and custom nicotine levels. Optimized and designed for pod systems. Deliciously guaranteed. \",\n                        \"handle\": \"tropical-fruit-punch-out\"\n                    },\n                    \"caption\": \"Punch Out Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"Agent Cool\",\n                        \"collection-handcrafted-salts\",\n                        \"countdown\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939155000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147632385/fruit-punch-out-the-best-damn-e-liquid-salt-s-cheap-30ml_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/fruit-punch-out-the-best-damn-e-liquid-salt-s-cheap-30ml_x450.jpg?v=1683939158\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147632385/fruit-punch-out-the-best-damn-e-liquid-salt-s-cheap-30ml_x450.png.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/fruit-punch-out-the-best-damn-e-liquid-salt-s-cheap-30ml_x450.png.jpg?v=1683939158\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147632385/fruit-punch-out-the-best-damn-e-liquid-salt-s-cheap-30ml_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/fruit-punch-out-the-best-damn-e-liquid-salt-s-cheap-30ml_x1080.jpg?v=1683939158\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147632385/fruit-punch-out-the-best-damn-e-liquid-salt-s-cheap-30ml_x1080.png.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/fruit-punch-out-the-best-damn-e-liquid-salt-s-cheap-30ml_x1080.png.jpg?v=1683939158\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true,\n                        \"cool\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147861761\": {\n                    \"id\": 8008147861761,\n                    \"prefix\": \"peach-rings-nic-salt-\",\n                    \"seo\": {\n                        \"title\": \"Fuzzberry - Best Strawberry Peach Flavor (2019) | Salt Nic Juice\",\n                        \"description\": \"#1 Top Rated Custom Best Nic Salts / Salt Nic Juice Flavor Fuzzberry is the Best Peach and Strawberry Salt Nic Juice for Vaping. Sweet Taste like Peach Rings Candy E-Liquid.\",\n                        \"handle\": \"peach-rings-nic-salt\"\n                    },\n                    \"caption\": \"Fuzzberry Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-retired-products\",\n                        \"countdown\",\n                        \"Fruit Flavors\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939274000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147861761/fuzzberry-strawberry-peach-nic-salt-juice-2019-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/fuzzberry-strawberry-peach-nic-salt-juice-2019-c_x450.jpg?v=1683939278\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147861761/best-fuzzberry-salt-nic-juice-strawberry-peach-cheap-salts_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-fuzzberry-salt-nic-juice-strawberry-peach-cheap-salts_x450.jpg?v=1683939278\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147861761/fuzzberry-strawberry-peach-nic-salt-juice-2019-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/fuzzberry-strawberry-peach-nic-salt-juice-2019-c_x1080.jpg?v=1683939278\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147861761/best-fuzzberry-salt-nic-juice-strawberry-peach-cheap-salts_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-fuzzberry-salt-nic-juice-strawberry-peach-cheap-salts_x1080.jpg?v=1683939278\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147894529\": {\n                    \"id\": 8008147894529,\n                    \"prefix\": \"horchata-cinnamon-salts-cheap-\",\n                    \"seo\": {\n                        \"title\": \"Horchata - Best Cinnamon Milk Salts Flavor | Nic Salt Juice\",\n                        \"description\": \"#1 Best Selling Horchata Cinnamon Milk Vape Flavor Now Available In Salt Nic. Order Cheap Nic Salts Juice With Custom Options and Free Shipping.\",\n                        \"handle\": \"horchata-cinnamon-salts-cheap\"\n                    },\n                    \"caption\": \"Horchata Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-retired-products\",\n                        \"Dessert Flavors\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939279000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147894529/Horchata-Cinnamon-Salt-Nic-Juice-Cream-Nicotine-Salts-Milk-TBD-Cheap-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Horchata-Cinnamon-Salt-Nic-Juice-Cream-Nicotine-Salts-Milk-TBD-Cheap-c_x450.jpg?v=1683939282\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147894529/best-horchata-salt-nic-juice-cheap-cinnamon-salts_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-horchata-salt-nic-juice-cheap-cinnamon-salts_x450.jpg?v=1683939282\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147894529/Horchata-Cinnamon-Salt-Nic-Juice-Cream-Nicotine-Salts-Milk-TBD-Cheap-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Horchata-Cinnamon-Salt-Nic-Juice-Cream-Nicotine-Salts-Milk-TBD-Cheap-c_x1080.jpg?v=1683939282\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147894529/best-horchata-salt-nic-juice-cheap-cinnamon-salts_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-horchata-salt-nic-juice-cheap-cinnamon-salts_x1080.jpg?v=1683939282\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147927297\": {\n                    \"id\": 8008147927297,\n                    \"prefix\": \"strapple-melon-salts-cheap-\",\n                    \"seo\": {\n                        \"title\": \"Strapple Melon Salts - Green Apple and Watermelon | Salt Nic Juice\",\n                        \"description\": \"#1 Rated Best Apple Watermelon Salt Nic Juice with Custom Nicotine Options starting cheap at $0.75. Sucralose Free Salts and Best Vape Deals Online.\",\n                        \"handle\": \"strapple-melon-salts-cheap\"\n                    },\n                    \"caption\": \"Strapple Melon Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-retired-products\",\n                        \"Fruit Flavors\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939283000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147927297/strapple-melon-nicotine-salt-juice-best-nic-salts-new-c_2dd059da-0ef0-469b-8d74-58714c1ba17a_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/strapple-melon-nicotine-salt-juice-best-nic-salts-new-c_2dd059da-0ef0-469b-8d74-58714c1ba17a_x450.jpg?v=1683939286\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147927297/new-salts-best-green-apple-watermelon-salt-nic-juice-cheap_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-salts-best-green-apple-watermelon-salt-nic-juice-cheap_x450.jpg?v=1683939286\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147927297/strapple-melon-nicotine-salt-juice-best-nic-salts-new-c_2dd059da-0ef0-469b-8d74-58714c1ba17a_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/strapple-melon-nicotine-salt-juice-best-nic-salts-new-c_2dd059da-0ef0-469b-8d74-58714c1ba17a_x1080.jpg?v=1683939286\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008147927297/new-salts-best-green-apple-watermelon-salt-nic-juice-cheap_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-salts-best-green-apple-watermelon-salt-nic-juice-cheap_x1080.jpg?v=1683939286\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008147992833\": {\n                    \"id\": 8008147992833,\n                    \"prefix\": \"red-balls-\",\n                    \"seo\": {\n                        \"title\": \"Red Balls - Energy Vape Juice | TBD Liquids\",\n                        \"description\": \"Create your perfect energy drink vape when you try Red Balls from us. We offer custom options so you can craft your perfect bottle of e liquid.\",\n                        \"handle\": \"red-balls\"\n                    },\n                    \"caption\": \"Red Balls\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-retired-products\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939291000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147992833/redballs-compressor_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/redballs-compressor_x450.jpg?v=1683939292\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008147992833/redballs-compressor_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/redballs-compressor_x1080.jpg?v=1683939292\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148058369\": {\n                    \"id\": 8008148058369,\n                    \"prefix\": \"strawberry-milk-v3-\",\n                    \"seo\": {\n                        \"title\": \"Strawberry Milk V3 - E Juice | TBD Liquids\",\n                        \"description\": \"V3 is a more recent update to our best strawberry milk e liquid line, featuring more of a creamy vape alongside the strawberry. \",\n                        \"handle\": \"strawberry-milk-v3\"\n                    },\n                    \"caption\": \"Strawberry Milk v3\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-retired-products\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939298000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148058369/e-liquid-strawberry-milk-v3-1_large-compressor_large_8ae5a27d-d341-441b-b775-8b2592bdcee1_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-strawberry-milk-v3-1_large-compressor_large_8ae5a27d-d341-441b-b775-8b2592bdcee1_x450.jpg?v=1683939299\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148058369/e-liquid-strawberry-milk-v3-1_large-compressor_large_8ae5a27d-d341-441b-b775-8b2592bdcee1_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-strawberry-milk-v3-1_large-compressor_large_8ae5a27d-d341-441b-b775-8b2592bdcee1_x1080.jpg?v=1683939299\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148091137\": {\n                    \"id\": 8008148091137,\n                    \"prefix\": \"dragons-milk-nic-salt-\",\n                    \"seo\": {\n                        \"title\": \"Dragons Milk Salt - Best Dragon Fruit Cream Nic Salts | New Flavor\",\n                        \"description\": \"Are you ready to try A Unique Nic Salt Flavor? Our Best Selling Dragon Fruit & Strawberry Cream Recipe is now available in Nic Salts form, starting at 15mg up to 50mg, or you can choose your own custom salt nic level. We've adapted the recipe to ensure maximum performance in your nic salt vaping setup, time to be bold!\",\n                        \"handle\": \"dragons-milk-nic-salt\"\n                    },\n                    \"caption\": \"Dragons Milk Salt\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-retired-products\",\n                        \"countdown\",\n                        \"Dessert Flavors\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939301000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148091137/dragons-milk-best-nic-salts-dragon-fruit-dessert-salt-nicotine_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/dragons-milk-best-nic-salts-dragon-fruit-dessert-salt-nicotine_x450.jpg?v=1683939305\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148091137/best-salt-nic-juice-dragons-milk-nicotine-salts-bottle_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-salt-nic-juice-dragons-milk-nicotine-salts-bottle_x450.jpg?v=1683939305\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148091137/dragons-milk-best-nic-salts-dragon-fruit-dessert-salt-nicotine_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/dragons-milk-best-nic-salts-dragon-fruit-dessert-salt-nicotine_x1080.jpg?v=1683939305\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148091137/best-salt-nic-juice-dragons-milk-nicotine-salts-bottle_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-salt-nic-juice-dragons-milk-nicotine-salts-bottle_x1080.jpg?v=1683939305\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148156673\": {\n                    \"id\": 8008148156673,\n                    \"prefix\": \"berry-menthol-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Berry Cool - Best Menthol Vape Juice Flavor | TBD Liquids\",\n                        \"description\": \"Fill up a bottle of delicious berry cool ejuice. We make the best menthol vape juice that will leave you satisfied every puff.\",\n                        \"handle\": \"berry-menthol-ejuice\"\n                    },\n                    \"caption\": \"Berry Cool\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"countdown\",\n                        \"Fruit\",\n                        \"just-juice\",\n                        \"Menthol\"\n                    ],\n                    \"publishedAt\": 1683939350000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148156673/berry-cool-best-e-juice-vape-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/berry-cool-best-e-juice-vape-cheap-min_x450.jpg?v=1683939353\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148156673/Berry-Cool-Menthol-Vape-Juice-E-Juice-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Berry-Cool-Menthol-Vape-Juice-E-Juice-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.jpg?v=1683939353\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148156673/Berry-Cool-Bottle-Best-Menthol-Vape-Juice-Fruit-E-Liquid-Flavor-Cheap-Online_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Berry-Cool-Bottle-Best-Menthol-Vape-Juice-Fruit-E-Liquid-Flavor-Cheap-Online_x450.jpg?v=1683939353\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148156673/berry-cool-best-e-juice-vape-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/berry-cool-best-e-juice-vape-cheap-min_x1080.jpg?v=1683939353\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148156673/Berry-Cool-Menthol-Vape-Juice-E-Juice-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Berry-Cool-Menthol-Vape-Juice-E-Juice-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.jpg?v=1683939353\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148156673/Berry-Cool-Bottle-Best-Menthol-Vape-Juice-Fruit-E-Liquid-Flavor-Cheap-Online_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Berry-Cool-Bottle-Best-Menthol-Vape-Juice-Fruit-E-Liquid-Flavor-Cheap-Online_x1080.jpg?v=1683939353\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148189441\": {\n                    \"id\": 8008148189441,\n                    \"prefix\": \"blueberry-muffin-vape-\",\n                    \"seo\": {\n                        \"title\": \"Blueberry Muffin Vape Juice\",\n                        \"description\": \"Flavor summary * inhale: sweet blueberry * exhale: fresh muffin / pastry notes * sucralose free best vape juice / e-liquid / ejuice to ensure clean burning flavor and maximum coil lifespan * best selling blueberry dessert e-juice for over 4 years * customize to your personal tastes - you can add extra flavor, sweet, sour, or even cool. * custom pg/vg level - are you interested in trying maybe 65vg/35pg? Max vg? You can indicate any pg/vg ratio and see where the sweet spot for your device setup is. * custom nicotine level - you can order any nicotine (10mg, 12mg, 14mg, 16mg, 18mg, etc. Up to 24mg), even .5 mg increments. You're no longer limited to the handful of nicotine levels other cheap vendors offer, with us you have complete control over your e-liquid! * Ingredients: Nicotine, Propylene Glycol, Vegetable Glycerin, Natural & Artificial Flavorings full e-juice description blueberry muffin has always been my personal favorite ejuice, and when I first made the recipe i'm pretty sure I didn't vape any other juice for at least 6 months. It was that perfect as an all day vape for me! its got a sweet blueberry inhale with a light pie graham cracker crust on the exhale. And yes, this babys got some bite! I crafted it for anyone like me who was looking for the perfect balance of blue berry alongside the light authentic pastry notes. Sweet, but never too sweet. I love pairing it with a cup of coffee for an amazing morning vape, but honestly I think it's one of our best best vape juice / e-liquid / ejuice flavors for any time of day. People swear its like vaping an actual blueberry muffin from their local bakery. Certified diacetyl free e-liquid * our e liquid recipes are all gc/ms tested by a professional laboratory in order to ensure our customer's safety. * we only use flavorings that are diacetyl free * we make the lab report available so that you can rest easy knowing that you are vaping clean and safe e liquid flavors.\",\n                        \"handle\": \"blueberry-muffin-vape\"\n                    },\n                    \"caption\": \"Blueberry Muffin\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"countdown\",\n                        \"Dessert\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939356000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148189441/best-blueberry-muffin-e-juice-vape-cheap_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-blueberry-muffin-e-juice-vape-cheap_x450.jpg?v=1683939357\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148189441/best-blueberry-muffin-e-juice-vape-cheap_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-blueberry-muffin-e-juice-vape-cheap_x1080.jpg?v=1683939357\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"dessert\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148222209\": {\n                    \"id\": 8008148222209,\n                    \"prefix\": \"vanilla-custard-vape-\",\n                    \"seo\": {\n                        \"title\": \"Capn Custard - Best Strawberry Custard Best Vape Juice / E-Liquid / eJuice | TBD Liquids\",\n                        \"description\": \"Ahoy! Our captain has crafted the finest strawberry vanilla custard Best Vape Juice / E-Liquid / eJuice. It's a delicious fruit and cream e juice, simply the best.\",\n                        \"handle\": \"vanilla-custard-vape\"\n                    },\n                    \"caption\": \"Capn Custard\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"countdown\",\n                        \"Dessert\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939359000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148222209/cap-n-custard-best-e-juice-vape-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/cap-n-custard-best-e-juice-vape-cheap-min_x450.jpg?v=1683939363\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148222209/Capn-Custard-Strawberry-Custard-Vape-Juice-Vanilla-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Capn-Custard-Strawberry-Custard-Vape-Juice-Vanilla-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.jpg?v=1683939363\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148222209/Capn-Custard-EJuice-Best-Strawberry-Custard-Vape-Juice-Cheap_406x.progressive_4f70281d-f215-43e4-a7e7-76de174a5814_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Capn-Custard-EJuice-Best-Strawberry-Custard-Vape-Juice-Cheap_406x.progressive_4f70281d-f215-43e4-a7e7-76de174a5814_x450.jpg?v=1683939363\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148222209/cap-n-custard-best-e-juice-vape-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/cap-n-custard-best-e-juice-vape-cheap-min_x1080.jpg?v=1683939363\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148222209/Capn-Custard-Strawberry-Custard-Vape-Juice-Vanilla-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Capn-Custard-Strawberry-Custard-Vape-Juice-Vanilla-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.jpg?v=1683939363\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148222209/Capn-Custard-EJuice-Best-Strawberry-Custard-Vape-Juice-Cheap_406x.progressive_4f70281d-f215-43e4-a7e7-76de174a5814_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Capn-Custard-EJuice-Best-Strawberry-Custard-Vape-Juice-Cheap_406x.progressive_4f70281d-f215-43e4-a7e7-76de174a5814_x1080.jpg?v=1683939363\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"dessert\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148254977\": {\n                    \"id\": 8008148254977,\n                    \"prefix\": \"coffee-dessert-vape-\",\n                    \"seo\": {\n                        \"title\": \"Caramel Tiramisu - Best Coffee Best Vape Juice / E-Liquid / eJuice Free Shipping | TBD Liquids\",\n                        \"description\": \"Our Caramel Tiramisu Best Vape Juice / E-Liquid / eJuice is the perfect coffee ejuice. Start your day off the right way with the best coffee e liquid, we know you'll love it.\",\n                        \"handle\": \"coffee-dessert-vape\"\n                    },\n                    \"caption\": \"Caramel Tiramisu\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"countdown\",\n                        \"Dessert\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939365000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148254977/caramel-tiramisu-e-juice-vape-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/caramel-tiramisu-e-juice-vape-cheap-min_x450.jpg?v=1683939369\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148254977/Caramel-Tiramisu-Coffee-Vape-Juice-E-Juice-By-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Caramel-Tiramisu-Coffee-Vape-Juice-E-Juice-By-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.jpg?v=1683939369\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148254977/Caramel-Tiramisu-Coffee-Vape-Juice-Bottle-E-Liquid-Cheap_x450.png.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Caramel-Tiramisu-Coffee-Vape-Juice-Bottle-E-Liquid-Cheap_x450.png.jpg?v=1683939369\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148254977/caramel-tiramisu-e-juice-vape-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/caramel-tiramisu-e-juice-vape-cheap-min_x1080.jpg?v=1683939369\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148254977/Caramel-Tiramisu-Coffee-Vape-Juice-E-Juice-By-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Caramel-Tiramisu-Coffee-Vape-Juice-E-Juice-By-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.jpg?v=1683939369\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148254977/Caramel-Tiramisu-Coffee-Vape-Juice-Bottle-E-Liquid-Cheap_x1080.png.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Caramel-Tiramisu-Coffee-Vape-Juice-Bottle-E-Liquid-Cheap_x1080.png.jpg?v=1683939369\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"dessert\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148287745\": {\n                    \"id\": 8008148287745,\n                    \"prefix\": \"fruit-loops-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Cereal Fiend - Best Fruit Loops Best Vape Juice / E-Liquid / eJuice | TBD Liquids\",\n                        \"description\": \"#1 Rated Sugary Fruit Loops Cereal Best Vape Juice / E-Liquid / eJuice. New Custom Options so you can Create the Perfect E Juice Cheap for only $0.75 more with Free Shipping.\",\n                        \"handle\": \"fruit-loops-ejuice\"\n                    },\n                    \"caption\": \"Cereal Fiend\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"countdown\",\n                        \"Dessert\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939371000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148287745/best-cereal-e-juice-vape-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-cereal-e-juice-vape-cheap-min_x450.jpg?v=1683939376\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148287745/Cereal-Fiend-Fruit-Loops-Vape-Juice-E-Juice-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Cereal-Fiend-Fruit-Loops-Vape-Juice-E-Juice-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.jpg?v=1683939376\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148287745/Cereal-Fiend-Bottle-Fruit-Loops-Vape-E-Juice-Cheap_x450.png.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Cereal-Fiend-Bottle-Fruit-Loops-Vape-E-Juice-Cheap_x450.png.jpg?v=1683939376\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148287745/best-cereal-e-juice-vape-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-cereal-e-juice-vape-cheap-min_x1080.jpg?v=1683939376\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148287745/Cereal-Fiend-Fruit-Loops-Vape-Juice-E-Juice-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Cereal-Fiend-Fruit-Loops-Vape-Juice-E-Juice-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.jpg?v=1683939376\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148287745/Cereal-Fiend-Bottle-Fruit-Loops-Vape-E-Juice-Cheap_x1080.png.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Cereal-Fiend-Bottle-Fruit-Loops-Vape-E-Juice-Cheap_x1080.png.jpg?v=1683939376\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"dessert\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148353281\": {\n                    \"id\": 8008148353281,\n                    \"prefix\": \"churro-vape-juice-\",\n                    \"seo\": {\n                        \"title\": \"Best Churro Vape Juice Flavor  2019 | TBD Liquids\",\n                        \"description\": \"Enjoy the delicious taste of sweet cinnamon in one of our best selling e juice flavors. Our churro vape juice e liquid is a perfect dessert flavor straight out of the box.\",\n                        \"handle\": \"churro-vape-juice\"\n                    },\n                    \"caption\": \"Churro\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"countdown\",\n                        \"Dessert\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939379000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148353281/best-churro-e-juice-vape-liquid-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-churro-e-juice-vape-liquid-cheap-min_x450.jpg?v=1683939382\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148353281/Churro-Cinnamon-E-Juice-Dessert-Vape-Juice-Flavor-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Churro-Cinnamon-E-Juice-Dessert-Vape-Juice-Flavor-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.jpg?v=1683939382\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148353281/Best-Churro-Cinnamon-E-Liquid-Cheap-Vape-Juice-Flavor_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Best-Churro-Cinnamon-E-Liquid-Cheap-Vape-Juice-Flavor_x450.jpg?v=1683939382\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148353281/best-churro-e-juice-vape-liquid-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-churro-e-juice-vape-liquid-cheap-min_x1080.jpg?v=1683939382\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148353281/Churro-Cinnamon-E-Juice-Dessert-Vape-Juice-Flavor-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Churro-Cinnamon-E-Juice-Dessert-Vape-Juice-Flavor-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.jpg?v=1683939382\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148353281/Best-Churro-Cinnamon-E-Liquid-Cheap-Vape-Juice-Flavor_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Best-Churro-Cinnamon-E-Liquid-Cheap-Vape-Juice-Flavor_x1080.jpg?v=1683939382\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"dessert\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148386049\": {\n                    \"id\": 8008148386049,\n                    \"prefix\": \"grape-vape-flavor-\",\n                    \"seo\": {\n                        \"title\": \"Concord Grape - Best Vape Juice Flavor 2019  | TBD Liquids\",\n                        \"description\": \"We made Concord because we weren't happy with any of the grape vape juice flavors out there. This is the best authentic grape e-liquid flavor available online.\",\n                        \"handle\": \"grape-vape-flavor\"\n                    },\n                    \"caption\": \"Concord\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"countdown\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939384000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148386049/best-grape-concord-e-juice-vape-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-grape-concord-e-juice-vape-cheap-min_x450.jpg?v=1683939388\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148386049/Concord-Grape-Vape-Juice-Flavor-E-Juice-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Concord-Grape-Vape-Juice-Flavor-E-Juice-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.jpg?v=1683939388\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148386049/Concord-Bottle-Best-Grape-Vape-Juice-Flavor-Cheap-E-Liquid_x450.png.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Concord-Bottle-Best-Grape-Vape-Juice-Flavor-Cheap-E-Liquid_x450.png.jpg?v=1683939388\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148386049/best-grape-concord-e-juice-vape-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-grape-concord-e-juice-vape-cheap-min_x1080.jpg?v=1683939388\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148386049/Concord-Grape-Vape-Juice-Flavor-E-Juice-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Concord-Grape-Vape-Juice-Flavor-E-Juice-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.jpg?v=1683939388\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148386049/Concord-Bottle-Best-Grape-Vape-Juice-Flavor-Cheap-E-Liquid_x1080.png.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Concord-Bottle-Best-Grape-Vape-Juice-Flavor-Cheap-E-Liquid_x1080.png.jpg?v=1683939388\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148451585\": {\n                    \"id\": 8008148451585,\n                    \"prefix\": \"dragonfruit-eliquid-\",\n                    \"seo\": {\n                        \"title\": \"Dragons Milk - Best Dragon Fruit Vape Juice Flavor | TBD Liquids\",\n                        \"description\": \"Step into the dragon's den and enjoy our deliciously creamy Dragon Fruit E Juice. A perfect blend of strawberry, dragonfruit, and cream creates our most unique e-liquid flavor yet. \",\n                        \"handle\": \"dragonfruit-eliquid\"\n                    },\n                    \"caption\": \"Dragons Milk\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"countdown\",\n                        \"Dessert\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939389000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148451585/cheap-dragons-milk-ejuice-vape-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/cheap-dragons-milk-ejuice-vape-min_x450.jpg?v=1683939392\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148451585/Dragons-Milk-Dragon-Fruit-Cream-Best-Vape-Juice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Dragons-Milk-Dragon-Fruit-Cream-Best-Vape-Juice_x450.jpg?v=1683939392\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148451585/Dragons-Milk-Best-Dragon-Fruit-E-Juice-Cheap-Vape-Flavor_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Dragons-Milk-Best-Dragon-Fruit-E-Juice-Cheap-Vape-Flavor_x450.jpg?v=1683939392\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148451585/cheap-dragons-milk-ejuice-vape-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/cheap-dragons-milk-ejuice-vape-min_x1080.jpg?v=1683939392\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148451585/Dragons-Milk-Dragon-Fruit-Cream-Best-Vape-Juice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Dragons-Milk-Dragon-Fruit-Cream-Best-Vape-Juice_x1080.jpg?v=1683939392\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148451585/Dragons-Milk-Best-Dragon-Fruit-E-Juice-Cheap-Vape-Flavor_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Dragons-Milk-Best-Dragon-Fruit-E-Juice-Cheap-Vape-Flavor_x1080.jpg?v=1683939392\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"dessert\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148484353\": {\n                    \"id\": 8008148484353,\n                    \"prefix\": \"straw-peach-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Fuzzberry - Strawberry Peach Rings Cheap Best Vape Juice / E-Liquid / eJuice | TBD Liquids\",\n                        \"description\": \"Rated #1 Strawberry Peach E Liquid Flavor with Cheap Custom Options. Starting at just $0.50, you can create your Best Peach Rings Best Vape Juice / E-Liquid / eJuice Flavor.\",\n                        \"handle\": \"straw-peach-ejuice\"\n                    },\n                    \"caption\": \"Fuzzberry\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"countdown\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939394000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148484353/new-fuzzberry-cheap-vape-e-juice-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-fuzzberry-cheap-vape-e-juice-min_x450.jpg?v=1683939398\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148484353/Fuzzberry-Peach-Rings-Vape-Juice-Strawberry-E-Juice-Flavor-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Fuzzberry-Peach-Rings-Vape-Juice-Strawberry-E-Juice-Flavor-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x450.jpg?v=1683939398\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148484353/fuzzberry-strawberry-peach-rings-vape-ejuice-cheap_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/fuzzberry-strawberry-peach-rings-vape-ejuice-cheap_x450.jpg?v=1683939398\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148484353/new-fuzzberry-cheap-vape-e-juice-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-fuzzberry-cheap-vape-e-juice-min_x1080.jpg?v=1683939398\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148484353/Fuzzberry-Peach-Rings-Vape-Juice-Strawberry-E-Juice-Flavor-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Fuzzberry-Peach-Rings-Vape-Juice-Strawberry-E-Juice-Flavor-The-Best-Damn-Liquids-Cheap-E-Liquid-TBD_x1080.jpg?v=1683939398\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148484353/fuzzberry-strawberry-peach-rings-vape-ejuice-cheap_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/fuzzberry-strawberry-peach-rings-vape-ejuice-cheap_x1080.jpg?v=1683939398\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148517121\": {\n                    \"id\": 8008148517121,\n                    \"prefix\": \"caramel-vape-eliquid-\",\n                    \"seo\": {\n                        \"title\": \"Gods Custard - Best Caramel Best Vape Juice / E-Liquid / eJuice Flavor Cheap  | TBD Liquids\",\n                        \"description\": \"New #1 Favorite Caramel EJuice Dessert Flavor. Order our Best Best Vape Juice / E-Liquid / eJuice with cheap Custom Options starting at just $0.50 you can create your perfect e liquid.\",\n                        \"handle\": \"caramel-vape-eliquid\"\n                    },\n                    \"caption\": \"Gods Custard\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"countdown\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939400000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148517121/gods-custard-eliquid-vape-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/gods-custard-eliquid-vape-cheap-min_x450.jpg?v=1683939405\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148517121/Gods-Custard-Best-Caramel-Vape-Juice-TBD-E-Liquid-Cheap_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Gods-Custard-Best-Caramel-Vape-Juice-TBD-E-Liquid-Cheap_x450.jpg?v=1683939405\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148517121/Gods-Custard-Best-Caramel-Vape-Juice-TBD-Cheap-E-Liquid-Deals_93ca5fe3-8964-4484-af51-522950f1d5d3_x450.png.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Gods-Custard-Best-Caramel-Vape-Juice-TBD-Cheap-E-Liquid-Deals_93ca5fe3-8964-4484-af51-522950f1d5d3_x450.png.jpg?v=1683939405\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148517121/gods-custard-eliquid-vape-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/gods-custard-eliquid-vape-cheap-min_x1080.jpg?v=1683939405\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148517121/Gods-Custard-Best-Caramel-Vape-Juice-TBD-E-Liquid-Cheap_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Gods-Custard-Best-Caramel-Vape-Juice-TBD-E-Liquid-Cheap_x1080.jpg?v=1683939405\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148517121/Gods-Custard-Best-Caramel-Vape-Juice-TBD-Cheap-E-Liquid-Deals_93ca5fe3-8964-4484-af51-522950f1d5d3_x1080.png.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Gods-Custard-Best-Caramel-Vape-Juice-TBD-Cheap-E-Liquid-Deals_93ca5fe3-8964-4484-af51-522950f1d5d3_x1080.png.jpg?v=1683939405\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148582657\": {\n                    \"id\": 8008148582657,\n                    \"prefix\": \"harvest-berry-ejuice-cheap-\",\n                    \"seo\": {\n                        \"title\": \"Harvest Berry - Best Raspberry / Blackberry Vape Juice | TBD Liquids\",\n                        \"description\": \"Rated #1 Best Raspberry / Blackberry eJuice Flavor 2019. Voted Customer Favorite to Add Custom Menthol Option to for only $0.75 buy cheap vape juice online.\",\n                        \"handle\": \"harvest-berry-ejuice-cheap\"\n                    },\n                    \"caption\": \"Harvest Berry\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939407000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148582657/harvest-berry-best-vape-juice-tbd-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/harvest-berry-best-vape-juice-tbd-min_x450.jpg?v=1683939411\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148582657/Harvest-Berry-Best-Raspberry-Blackberry-Vape-Juice-TBD-E-Liquid-Cheap_1ca79dfe-ab07-4d4c-a2d0-e2b10cf12709_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Harvest-Berry-Best-Raspberry-Blackberry-Vape-Juice-TBD-E-Liquid-Cheap_1ca79dfe-ab07-4d4c-a2d0-e2b10cf12709_x450.jpg?v=1683939411\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148582657/Harvest-Berry-Bottle-Raspberries-Blackberries-Blueberry-Cheap-Ejuice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Harvest-Berry-Bottle-Raspberries-Blackberries-Blueberry-Cheap-Ejuice_x450.jpg?v=1683939411\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148582657/harvest-berry-best-vape-juice-tbd-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/harvest-berry-best-vape-juice-tbd-min_x1080.jpg?v=1683939411\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148582657/Harvest-Berry-Best-Raspberry-Blackberry-Vape-Juice-TBD-E-Liquid-Cheap_1ca79dfe-ab07-4d4c-a2d0-e2b10cf12709_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Harvest-Berry-Best-Raspberry-Blackberry-Vape-Juice-TBD-E-Liquid-Cheap_1ca79dfe-ab07-4d4c-a2d0-e2b10cf12709_x1080.jpg?v=1683939411\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148582657/Harvest-Berry-Bottle-Raspberries-Blackberries-Blueberry-Cheap-Ejuice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Harvest-Berry-Bottle-Raspberries-Blackberries-Blueberry-Cheap-Ejuice_x1080.jpg?v=1683939411\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148615425\": {\n                    \"id\": 8008148615425,\n                    \"prefix\": \"horchata-e-juice-cheap-\",\n                    \"seo\": {\n                        \"title\": \"Best Horchata Vape Juice (2019)  - Cinnamon E-Liquid |  TBD Liquids\",\n                        \"description\": \"Our #1 Reviewed Flavor Horchata is The Best Cinnamon Vape Juice backed by a Refreshingly Creamy Milk. See why our Customers Love Our Custom E-Liquid so much. \",\n                        \"handle\": \"horchata-e-juice-cheap\"\n                    },\n                    \"caption\": \"Horchata\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Dessert\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939413000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148615425/new-horchata-e-juice-vape-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-horchata-e-juice-vape-cheap-min_x450.jpg?v=1683939417\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148615425/Horchata-Cinnamon-Vape-Juice-Milk-Cream-E-Liquid-TBD-Cheap_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Horchata-Cinnamon-Vape-Juice-Milk-Cream-E-Liquid-TBD-Cheap_x450.jpg?v=1683939417\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148615425/Horchata-E-Liquid-Bottle-Cinnamon-Vape-Juice-Cheap-Milk-Dessert-Flavor_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Horchata-E-Liquid-Bottle-Cinnamon-Vape-Juice-Cheap-Milk-Dessert-Flavor_x450.jpg?v=1683939417\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148615425/new-horchata-e-juice-vape-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-horchata-e-juice-vape-cheap-min_x1080.jpg?v=1683939417\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148615425/Horchata-Cinnamon-Vape-Juice-Milk-Cream-E-Liquid-TBD-Cheap_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Horchata-Cinnamon-Vape-Juice-Milk-Cream-E-Liquid-TBD-Cheap_x1080.jpg?v=1683939417\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148615425/Horchata-E-Liquid-Bottle-Cinnamon-Vape-Juice-Cheap-Milk-Dessert-Flavor_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Horchata-E-Liquid-Bottle-Cinnamon-Vape-Juice-Cheap-Milk-Dessert-Flavor_x1080.jpg?v=1683939417\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"dessert\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148648193\": {\n                    \"id\": 8008148648193,\n                    \"prefix\": \"key-lime-pie-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Key Lime Pie - Best Keylime Cookie Best Vape Juice / E-Liquid / eJuice | TBD Liquids\",\n                        \"description\": \"Customer Favorite Key Lime Pie Best Vape Juice / E-Liquid / eJuice Flavor has arrived. Order today with cheap Custom Options starting at $0.50 create your Best Keylime Cookie E Liquid\",\n                        \"handle\": \"key-lime-pie-ejuice\"\n                    },\n                    \"caption\": \"Key Lime Pie\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Dessert\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939419000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148648193/best-key-lime-pie-e-juice-vape-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-key-lime-pie-e-juice-vape-cheap-min_x450.jpg?v=1683939423\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148648193/Key-Lime-Pie-Cookie-Vape-Juice-TBD-Liquids-Cheap-Online-Ejuice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Key-Lime-Pie-Cookie-Vape-Juice-TBD-Liquids-Cheap-Online-Ejuice_x450.jpg?v=1683939423\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148648193/Key-Lime-Pie-Liquid-Bottle-Cookie-Vape-Juice-TBD-Liquids-Cheap-Online-Ejuice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Key-Lime-Pie-Liquid-Bottle-Cookie-Vape-Juice-TBD-Liquids-Cheap-Online-Ejuice_x450.jpg?v=1683939423\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148648193/best-key-lime-pie-e-juice-vape-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-key-lime-pie-e-juice-vape-cheap-min_x1080.jpg?v=1683939423\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148648193/Key-Lime-Pie-Cookie-Vape-Juice-TBD-Liquids-Cheap-Online-Ejuice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Key-Lime-Pie-Cookie-Vape-Juice-TBD-Liquids-Cheap-Online-Ejuice_x1080.jpg?v=1683939423\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148648193/Key-Lime-Pie-Liquid-Bottle-Cookie-Vape-Juice-TBD-Liquids-Cheap-Online-Ejuice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Key-Lime-Pie-Liquid-Bottle-Cookie-Vape-Juice-TBD-Liquids-Cheap-Online-Ejuice_x1080.jpg?v=1683939423\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"dessert\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148680961\": {\n                    \"id\": 8008148680961,\n                    \"prefix\": \"monkey-juice-eliquid-\",\n                    \"seo\": {\n                        \"title\": \"Monkey Juice - Best Strawberry Banana Vape Juice Cheap | TBD Liquids\",\n                        \"description\": \"#1 Best Strawberry Banana Vape Juice Flavor for over four years. Custom Options available Cheap starting at only $0.50. New Vape Deals with Free E Liquid.\",\n                        \"handle\": \"monkey-juice-eliquid\"\n                    },\n                    \"caption\": \"Monkey Juice\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939424000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148680961/monkey-juice-e-liquid-vape-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/monkey-juice-e-liquid-vape-cheap-min_x450.jpg?v=1683939428\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148680961/best-strawberry-banana-ejuice-eliquid-vape_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strawberry-banana-ejuice-eliquid-vape_x450.jpg?v=1683939428\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148680961/Monkey-Juice-Best-Strawberry-Banana-EJuice-Cheap_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Monkey-Juice-Best-Strawberry-Banana-EJuice-Cheap_x450.jpg?v=1683939428\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148680961/monkey-juice-e-liquid-vape-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/monkey-juice-e-liquid-vape-cheap-min_x1080.jpg?v=1683939428\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148680961/best-strawberry-banana-ejuice-eliquid-vape_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strawberry-banana-ejuice-eliquid-vape_x1080.jpg?v=1683939428\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148680961/Monkey-Juice-Best-Strawberry-Banana-EJuice-Cheap_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Monkey-Juice-Best-Strawberry-Banana-EJuice-Cheap_x1080.jpg?v=1683939428\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148713729\": {\n                    \"id\": 8008148713729,\n                    \"prefix\": \"nana-custard-ejuice-cheap-\",\n                    \"seo\": {\n                        \"title\": \"Nana Custard - New Banana Cream Vape Juice Flavor | TBD Liquids\",\n                        \"description\": \"Our #1 Customer Favorite Banana Cream EJuice is the Best New Dessert Vape E Liquid with cheap Custom Options starting at just $9.95 with Free Shipping. \",\n                        \"handle\": \"nana-custard-ejuice-cheap\"\n                    },\n                    \"caption\": \"Nana Custard\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Dessert\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939430000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148713729/nana-custard-e-juice-vape-liquid-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/nana-custard-e-juice-vape-liquid-min_x450.jpg?v=1683939434\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148713729/Nana-Custard-Best-Banana-Vape-Juice-E-Liquid_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Nana-Custard-Best-Banana-Vape-Juice-E-Liquid_x450.jpg?v=1683939434\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148713729/Nana-Custard-Best-Banana-Cream-Vape-Ejuice-Cheap_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Nana-Custard-Best-Banana-Cream-Vape-Ejuice-Cheap_x450.jpg?v=1683939434\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148713729/nana-custard-e-juice-vape-liquid-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/nana-custard-e-juice-vape-liquid-min_x1080.jpg?v=1683939434\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148713729/Nana-Custard-Best-Banana-Vape-Juice-E-Liquid_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Nana-Custard-Best-Banana-Vape-Juice-E-Liquid_x1080.jpg?v=1683939434\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148713729/Nana-Custard-Best-Banana-Cream-Vape-Ejuice-Cheap_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Nana-Custard-Best-Banana-Cream-Vape-Ejuice-Cheap_x1080.jpg?v=1683939434\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"dessert\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148746497\": {\n                    \"id\": 8008148746497,\n                    \"prefix\": \"peach-dragon-tea-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Peach Dragon Tea Flavor - Best Iced Tea Vape Juice | TBD Liquids\",\n                        \"description\": \"The #1 Best Peach Iced Tea EJuice Flavor by TBD Liquids. Order today with Cheap Custom Vape Juice Options starting at $0.50 you can create your perfect Eliquid.\",\n                        \"handle\": \"peach-dragon-tea-ejuice\"\n                    },\n                    \"caption\": \"Peach Dragon Tea\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939437000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148746497/peach-dragon-tea-e-juice-vape-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/peach-dragon-tea-e-juice-vape-cheap-min_x450.jpg?v=1683939441\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148746497/e-liquid-peach-dragon-tea-1_large-compressor_large_ea4e42fb-9cdd-4bbd-b2ef-af656cfed69c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-peach-dragon-tea-1_large-compressor_large_ea4e42fb-9cdd-4bbd-b2ef-af656cfed69c_x450.jpg?v=1683939441\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148746497/peach-dragon-tea-iced-best-vape-ejuice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/peach-dragon-tea-iced-best-vape-ejuice_x450.jpg?v=1683939441\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148746497/peach-dragon-tea-e-juice-vape-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/peach-dragon-tea-e-juice-vape-cheap-min_x1080.jpg?v=1683939441\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148746497/e-liquid-peach-dragon-tea-1_large-compressor_large_ea4e42fb-9cdd-4bbd-b2ef-af656cfed69c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-peach-dragon-tea-1_large-compressor_large_ea4e42fb-9cdd-4bbd-b2ef-af656cfed69c_x1080.jpg?v=1683939441\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148746497/peach-dragon-tea-iced-best-vape-ejuice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/peach-dragon-tea-iced-best-vape-ejuice_x1080.jpg?v=1683939441\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148779265\": {\n                    \"id\": 8008148779265,\n                    \"prefix\": \"peanut-butter-cup-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Peanut Butter Cup - Best Chocolate E Juice | TBD Liquids\",\n                        \"description\": \"A long standing favorite E liquid, Peanut Butter Cup is a delicious blend of chocolate and peanut butter in vape juice form. Not too sweet, just the best.\",\n                        \"handle\": \"peanut-butter-cup-ejuice\"\n                    },\n                    \"caption\": \"Peanut Butter Cup\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Dessert\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939443000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148779265/best-peanut-butter-cup-e-juice-vape-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-peanut-butter-cup-e-juice-vape-min_x450.jpg?v=1683939447\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148779265/e-liquid-peanut-butter-cup-1_large-compressor_large_926891d0-3de3-4472-b84d-55a15cd76db8_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-peanut-butter-cup-1_large-compressor_large_926891d0-3de3-4472-b84d-55a15cd76db8_x450.jpg?v=1683939447\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148779265/peanut-butter-cup-best-chocolate-vape-ejuice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/peanut-butter-cup-best-chocolate-vape-ejuice_x450.jpg?v=1683939447\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148779265/best-peanut-butter-cup-e-juice-vape-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-peanut-butter-cup-e-juice-vape-min_x1080.jpg?v=1683939447\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148779265/e-liquid-peanut-butter-cup-1_large-compressor_large_926891d0-3de3-4472-b84d-55a15cd76db8_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-peanut-butter-cup-1_large-compressor_large_926891d0-3de3-4472-b84d-55a15cd76db8_x1080.jpg?v=1683939447\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148779265/peanut-butter-cup-best-chocolate-vape-ejuice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/peanut-butter-cup-best-chocolate-vape-ejuice_x1080.jpg?v=1683939447\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"dessert\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148812033\": {\n                    \"id\": 8008148812033,\n                    \"prefix\": \"pina-guavada-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Pina Guavada - Best Guava Vape Juice Flavor  Cheap | TBD Liquids\",\n                        \"description\": \"Ranked #1 for being the Best Guava Vape Juice Flavor available with Cheap Custom Options starting at  $0.50. Create your new favorite bottle of ejuice today\",\n                        \"handle\": \"pina-guavada-ejuice\"\n                    },\n                    \"caption\": \"Pina Guavada\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939449000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148812033/new-pina-guavada-ejuice-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-pina-guavada-ejuice-cheap-min_x450.jpg?v=1683939454\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148812033/Pina-Guavada-Best-Guava-Vape-Juice_14098b8c-81a2-4caf-ab07-19b1795aee5e_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Pina-Guavada-Best-Guava-Vape-Juice_14098b8c-81a2-4caf-ab07-19b1795aee5e_x450.jpg?v=1683939454\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148812033/pina-guavada-best-guava-vape-ejuice-cheap_67afaba8-281d-4e89-ad6d-6332a58a757f_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/pina-guavada-best-guava-vape-ejuice-cheap_67afaba8-281d-4e89-ad6d-6332a58a757f_x450.jpg?v=1683939454\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148812033/new-pina-guavada-ejuice-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-pina-guavada-ejuice-cheap-min_x1080.jpg?v=1683939454\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148812033/Pina-Guavada-Best-Guava-Vape-Juice_14098b8c-81a2-4caf-ab07-19b1795aee5e_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Pina-Guavada-Best-Guava-Vape-Juice_14098b8c-81a2-4caf-ab07-19b1795aee5e_x1080.jpg?v=1683939454\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148812033/pina-guavada-best-guava-vape-ejuice-cheap_67afaba8-281d-4e89-ad6d-6332a58a757f_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/pina-guavada-best-guava-vape-ejuice-cheap_67afaba8-281d-4e89-ad6d-6332a58a757f_x1080.jpg?v=1683939454\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148844801\": {\n                    \"id\": 8008148844801,\n                    \"prefix\": \"pineapple-peach-smoothie-\",\n                    \"seo\": {\n                        \"title\": \"Pineapple Peach Smoothie - Best Pineapple Vape Juice | TBD Liquids\",\n                        \"description\": \"Who lives in a pineapple under the sea? We had to rename this e liquid a few years ago, but this ejuice is still one of our best selling vape juice flavors.\",\n                        \"handle\": \"pineapple-peach-smoothie\"\n                    },\n                    \"caption\": \"Pineapple Peach Smoothie\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939456000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148844801/best-pineapple-peach-smoothie-e-juice-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-pineapple-peach-smoothie-e-juice-min_x450.jpg?v=1683939460\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148844801/e-liquid-pineapple-peach-smoothie-1_large-compressor_large_3da80fce-e0b2-476c-8d2a-b3e4b5fc4bea_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-pineapple-peach-smoothie-1_large-compressor_large_3da80fce-e0b2-476c-8d2a-b3e4b5fc4bea_x450.jpg?v=1683939460\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148844801/best-pineapple-peach-smoothie-vape-juice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-pineapple-peach-smoothie-vape-juice_x450.jpg?v=1683939460\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148844801/best-pineapple-peach-smoothie-e-juice-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-pineapple-peach-smoothie-e-juice-min_x1080.jpg?v=1683939460\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148844801/e-liquid-pineapple-peach-smoothie-1_large-compressor_large_3da80fce-e0b2-476c-8d2a-b3e4b5fc4bea_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-pineapple-peach-smoothie-1_large-compressor_large_3da80fce-e0b2-476c-8d2a-b3e4b5fc4bea_x1080.jpg?v=1683939460\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148844801/best-pineapple-peach-smoothie-vape-juice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-pineapple-peach-smoothie-vape-juice_x1080.jpg?v=1683939460\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148910337\": {\n                    \"id\": 8008148910337,\n                    \"prefix\": \"pixy-stix-style-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Pixy - Best Candy Flavor Vape Juice Cheap  | TBD Liquids\",\n                        \"description\": \"New fan favorite our Pixy Ejuice Flavor will keep you satisfied. Try today with Cheap Customization starting at just $0.50 you can create your Best Vape Juice. \",\n                        \"handle\": \"pixy-stix-style-ejuice\"\n                    },\n                    \"caption\": \"Pixy\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939463000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148910337/best-pixy-candy-e-juice-vape-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-pixy-candy-e-juice-vape-cheap-min_x450.jpg?v=1683939467\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148910337/e-liquid-pixy-v2-1_large-compressor_large_28c9740d-a7da-43fa-9ab4-839f9ab629a1_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-pixy-v2-1_large-compressor_large_28c9740d-a7da-43fa-9ab4-839f9ab629a1_x450.jpg?v=1683939467\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148910337/pixy-stix-best-candy-vape-ejuice-cheap_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/pixy-stix-best-candy-vape-ejuice-cheap_x450.jpg?v=1683939467\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148910337/best-pixy-candy-e-juice-vape-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-pixy-candy-e-juice-vape-cheap-min_x1080.jpg?v=1683939467\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148910337/e-liquid-pixy-v2-1_large-compressor_large_28c9740d-a7da-43fa-9ab4-839f9ab629a1_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-pixy-v2-1_large-compressor_large_28c9740d-a7da-43fa-9ab4-839f9ab629a1_x1080.jpg?v=1683939467\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148910337/pixy-stix-best-candy-vape-ejuice-cheap_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/pixy-stix-best-candy-vape-ejuice-cheap_x1080.jpg?v=1683939467\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148943105\": {\n                    \"id\": 8008148943105,\n                    \"prefix\": \"polar-pear-menthol-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Polar Pear - Best Menthol E-Liquid Flavor (2019)  | Custom Vape Juice\",\n                        \"description\": \"Polar Pear is the #1 Best Menthol E-Liquid by TBD Liquids. A deliciously smooth Fruit Flavor which makes it the Perfect Cool EJuice on a warm summer day.\",\n                        \"handle\": \"polar-pear-menthol-ejuice\"\n                    },\n                    \"caption\": \"Polar Pear\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"just-juice\",\n                        \"Menthol\"\n                    ],\n                    \"publishedAt\": 1683939469000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148943105/new-polar-pear-e-liquid-vape-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-polar-pear-e-liquid-vape-cheap-min_x450.jpg?v=1683939474\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148943105/polar-pear-best-menthol-vape-juice-tbd_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/polar-pear-best-menthol-vape-juice-tbd_x450.jpg?v=1683939474\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148943105/polar-pear-best-menthol-vape-juice-cheap_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/polar-pear-best-menthol-vape-juice-cheap_x450.jpg?v=1683939474\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148943105/new-polar-pear-e-liquid-vape-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-polar-pear-e-liquid-vape-cheap-min_x1080.jpg?v=1683939474\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148943105/polar-pear-best-menthol-vape-juice-tbd_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/polar-pear-best-menthol-vape-juice-tbd_x1080.jpg?v=1683939474\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148943105/polar-pear-best-menthol-vape-juice-cheap_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/polar-pear-best-menthol-vape-juice-cheap_x1080.jpg?v=1683939474\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008148975873\": {\n                    \"id\": 8008148975873,\n                    \"prefix\": \"prickly-pear-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Prickly Pear - Best Strawberry Kiwi Vape Juice  | TBD Liquids\",\n                        \"description\": \"A refreshing blend of cactus, strawberry, and kiwi our best vape juice flavor prickly pear will delight your senses. Cheap Custom Ejuice Options available now.\",\n                        \"handle\": \"prickly-pear-ejuice\"\n                    },\n                    \"caption\": \"Prickly Pear\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939477000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148975873/new-prickly-pear-vape-e-juice-cheap-min_b30281ac-3996-4036-bcbd-312a0c95cfc2_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-prickly-pear-vape-e-juice-cheap-min_b30281ac-3996-4036-bcbd-312a0c95cfc2_x450.jpg?v=1683939481\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148975873/e-liquid-prickly-pear-1_large-compressor_large_7eecbe56-fb78-4e46-83b9-2134d0aade33_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-prickly-pear-1_large-compressor_large_7eecbe56-fb78-4e46-83b9-2134d0aade33_x450.jpg?v=1683939481\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148975873/Prickly-Pear-Best-Strawberry-Kiwi-Cactus-Kaktus-Vape-Juice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Prickly-Pear-Best-Strawberry-Kiwi-Cactus-Kaktus-Vape-Juice_x450.jpg?v=1683939481\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008148975873/new-prickly-pear-vape-e-juice-cheap-min_b30281ac-3996-4036-bcbd-312a0c95cfc2_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-prickly-pear-vape-e-juice-cheap-min_b30281ac-3996-4036-bcbd-312a0c95cfc2_x1080.jpg?v=1683939481\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148975873/e-liquid-prickly-pear-1_large-compressor_large_7eecbe56-fb78-4e46-83b9-2134d0aade33_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-prickly-pear-1_large-compressor_large_7eecbe56-fb78-4e46-83b9-2134d0aade33_x1080.jpg?v=1683939481\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008148975873/Prickly-Pear-Best-Strawberry-Kiwi-Cactus-Kaktus-Vape-Juice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/Prickly-Pear-Best-Strawberry-Kiwi-Cactus-Kaktus-Vape-Juice_x1080.jpg?v=1683939481\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008149008641\": {\n                    \"id\": 8008149008641,\n                    \"prefix\": \"rainbow-sherbet-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Rainbow Sherbet - Best Ice Cream Vape Juice | TBD Liquids\",\n                        \"description\": \"The Best Ice Cream Vape Juice Flavor sold cheap by TBD liquids. Order now with new Custom Options starting at just $0.50 create your perfect ejuice today.\",\n                        \"handle\": \"rainbow-sherbet-ejuice\"\n                    },\n                    \"caption\": \"Rainbow Sherbet\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939483000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008149008641/best-rainbow-sherbet-e-juice-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-rainbow-sherbet-e-juice-cheap-min_x450.jpg?v=1683939488\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149008641/e-liquid-rainbow-sherbet-1_large-compressor_large_32a478c7-c5aa-4214-8dbc-312c3109e0e5_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-rainbow-sherbet-1_large-compressor_large_32a478c7-c5aa-4214-8dbc-312c3109e0e5_x450.jpg?v=1683939488\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149008641/best-rainbow-sherbet-ejuice-vape-juice-liquid_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-rainbow-sherbet-ejuice-vape-juice-liquid_x450.jpg?v=1683939488\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008149008641/best-rainbow-sherbet-e-juice-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-rainbow-sherbet-e-juice-cheap-min_x1080.jpg?v=1683939488\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149008641/e-liquid-rainbow-sherbet-1_large-compressor_large_32a478c7-c5aa-4214-8dbc-312c3109e0e5_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-rainbow-sherbet-1_large-compressor_large_32a478c7-c5aa-4214-8dbc-312c3109e0e5_x1080.jpg?v=1683939488\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149008641/best-rainbow-sherbet-ejuice-vape-juice-liquid_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-rainbow-sherbet-ejuice-vape-juice-liquid_x1080.jpg?v=1683939488\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008149041409\": {\n                    \"id\": 8008149041409,\n                    \"prefix\": \"raspberry-sorbet-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Raspberry Sorbet - Best Tart Dessert Vape Juice | TBD Liquids\",\n                        \"description\": \"We make the Best Raspberry Vape Juice Flavor with Cheap Custom Options starting at only $0.50. Our Blue Raspberry Like Dessert Ejuice is perfect on a warm day.\",\n                        \"handle\": \"raspberry-sorbet-ejuice\"\n                    },\n                    \"caption\": \"Raspberry Sorbet\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Dessert\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939490000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008149041409/new-raspberry-sorbet-eliquid-free-shipping-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-raspberry-sorbet-eliquid-free-shipping-min_x450.jpg?v=1683939494\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149041409/e-liquid-raspberry-sorbet-new-1_large-compressor_large_b102bd5b-cc76-48b9-adb7-cd7e19416fe0_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-raspberry-sorbet-new-1_large-compressor_large_b102bd5b-cc76-48b9-adb7-cd7e19416fe0_x450.jpg?v=1683939494\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149041409/best-raspberry-sorbet-vape-juice-blue-ejuice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-raspberry-sorbet-vape-juice-blue-ejuice_x450.jpg?v=1683939494\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008149041409/new-raspberry-sorbet-eliquid-free-shipping-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-raspberry-sorbet-eliquid-free-shipping-min_x1080.jpg?v=1683939494\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149041409/e-liquid-raspberry-sorbet-new-1_large-compressor_large_b102bd5b-cc76-48b9-adb7-cd7e19416fe0_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-raspberry-sorbet-new-1_large-compressor_large_b102bd5b-cc76-48b9-adb7-cd7e19416fe0_x1080.jpg?v=1683939494\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149041409/best-raspberry-sorbet-vape-juice-blue-ejuice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-raspberry-sorbet-vape-juice-blue-ejuice_x1080.jpg?v=1683939494\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"dessert\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008149074177\": {\n                    \"id\": 8008149074177,\n                    \"prefix\": \"strapple-berry-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Strapple Berry - Best Green Apple Vape Juice | TBD Liquids\",\n                        \"description\": \"Our favorite Fruit EJuice Flavor Strapple Berry is the Best Green Apple Vape Juice Flavor. Both Sweet and Sour our E Liquid will leave your mouth watering.\",\n                        \"handle\": \"strapple-berry-ejuice\"\n                    },\n                    \"caption\": \"Strapple Berry\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939497000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008149074177/new-strapple-berry-e-juice-flavor-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-strapple-berry-e-juice-flavor-min_x450.jpg?v=1683939501\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149074177/e-liquid-strapple-berry-1_large-compressor_large_979a33be-8c71-44b2-a04a-d51d059cd432_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-strapple-berry-1_large-compressor_large_979a33be-8c71-44b2-a04a-d51d059cd432_x450.jpg?v=1683939501\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149074177/best-strapple-berry-green-apple-vape-juice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strapple-berry-green-apple-vape-juice_x450.jpg?v=1683939501\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008149074177/new-strapple-berry-e-juice-flavor-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/new-strapple-berry-e-juice-flavor-min_x1080.jpg?v=1683939501\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149074177/e-liquid-strapple-berry-1_large-compressor_large_979a33be-8c71-44b2-a04a-d51d059cd432_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-strapple-berry-1_large-compressor_large_979a33be-8c71-44b2-a04a-d51d059cd432_x1080.jpg?v=1683939501\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149074177/best-strapple-berry-green-apple-vape-juice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strapple-berry-green-apple-vape-juice_x1080.jpg?v=1683939501\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008149106945\": {\n                    \"id\": 8008149106945,\n                    \"prefix\": \"strapple-melon-\",\n                    \"seo\": {\n                        \"title\": \"Strapple Melon - Apple Watermelon Vape Juice | TBD Liquids\",\n                        \"description\": \"One of our best selling e liquid flavors, Strapple Melon is a delicious blend of green apple and watermelon, creating the perfect bottle of fruit vape juice. \",\n                        \"handle\": \"strapple-melon\"\n                    },\n                    \"caption\": \"Strapple Melon\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939504000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008149106945/cheap-strapple-melon-e-liquid-tbd-min_62749c60-99cb-445a-a352-bebbb2638a5a_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/cheap-strapple-melon-e-liquid-tbd-min_62749c60-99cb-445a-a352-bebbb2638a5a_x450.jpg?v=1683939508\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149106945/strapple-melon-best-vape-juice-strawberry-watermelon-ejuice-eliquid_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/strapple-melon-best-vape-juice-strawberry-watermelon-ejuice-eliquid_x450.jpg?v=1683939508\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149106945/best-strapple-watermelon-vape-ejuice-cheap_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strapple-watermelon-vape-ejuice-cheap_x450.jpg?v=1683939508\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008149106945/cheap-strapple-melon-e-liquid-tbd-min_62749c60-99cb-445a-a352-bebbb2638a5a_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/cheap-strapple-melon-e-liquid-tbd-min_62749c60-99cb-445a-a352-bebbb2638a5a_x1080.jpg?v=1683939508\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149106945/strapple-melon-best-vape-juice-strawberry-watermelon-ejuice-eliquid_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/strapple-melon-best-vape-juice-strawberry-watermelon-ejuice-eliquid_x1080.jpg?v=1683939508\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149106945/best-strapple-watermelon-vape-ejuice-cheap_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strapple-watermelon-vape-ejuice-cheap_x1080.jpg?v=1683939508\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008149139713\": {\n                    \"id\": 8008149139713,\n                    \"prefix\": \"strawberry-milk-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Strawberry Milk - Best Milkshake Vape Juice Flavor | TBD Liquids\",\n                        \"description\": \"#1 Rated Best Strawberry Milk Vape Juice by TBD Liquids. Delicious Milkshake style EJuice that will leave you satisfied. Cheap Custom Options starting at $0.50\",\n                        \"handle\": \"strawberry-milk-ejuice\"\n                    },\n                    \"caption\": \"Strawberry Milk\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Dessert\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939512000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008149139713/best-strawberry-milk-e-juice-cheap-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strawberry-milk-e-juice-cheap-min_x450.jpg?v=1683939516\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149139713/e-liquid-strawberry-milk-v4-new-1_large-compressor_large_0fca6463-e2b2-43a7-80b3-efa9f7930d2c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-strawberry-milk-v4-new-1_large-compressor_large_0fca6463-e2b2-43a7-80b3-efa9f7930d2c_x450.jpg?v=1683939516\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149139713/best-strawberry-milk-vape-juice-cheap-ejuice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strawberry-milk-vape-juice-cheap-ejuice_x450.jpg?v=1683939516\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008149139713/best-strawberry-milk-e-juice-cheap-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strawberry-milk-e-juice-cheap-min_x1080.jpg?v=1683939516\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149139713/e-liquid-strawberry-milk-v4-new-1_large-compressor_large_0fca6463-e2b2-43a7-80b3-efa9f7930d2c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-strawberry-milk-v4-new-1_large-compressor_large_0fca6463-e2b2-43a7-80b3-efa9f7930d2c_x1080.jpg?v=1683939516\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149139713/best-strawberry-milk-vape-juice-cheap-ejuice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-strawberry-milk-vape-juice-cheap-ejuice_x1080.jpg?v=1683939516\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"dessert\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8008149172481\": {\n                    \"id\": 8008149172481,\n                    \"prefix\": \"watermelon-ejuice-\",\n                    \"seo\": {\n                        \"title\": \"Watermelon Cooler - Best Lime Best Vape Juice / E-Liquid / eJuice | TBD Liquids\",\n                        \"description\": \"Our perfect blend with Watermelon creates the Best Lime Best Vape Juice / E-Liquid / eJuice. Add Menthol to it cheap for only $0.50. This is the perfect new summer ejuice flavor.\",\n                        \"handle\": \"watermelon-ejuice\"\n                    },\n                    \"caption\": \"Watermelon Cooler\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-signature-e-juice\",\n                        \"Fruit\",\n                        \"just-juice\"\n                    ],\n                    \"publishedAt\": 1683939518000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008149172481/best-watermelon-cooler-e-juice-flavor-min_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-watermelon-cooler-e-juice-flavor-min_x450.jpg?v=1683939522\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149172481/e-liquid-watermelon-cooler-1_large-compressor_large_6c3645cc-4678-4fd5-9413-08c82512a129_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-watermelon-cooler-1_large-compressor_large_6c3645cc-4678-4fd5-9413-08c82512a129_x450.jpg?v=1683939522\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149172481/best-watermelon-lime-cool-vape-juice-cheap-ejuice_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-watermelon-lime-cool-vape-juice-cheap-ejuice_x450.jpg?v=1683939522\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8008149172481/best-watermelon-cooler-e-juice-flavor-min_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-watermelon-cooler-e-juice-flavor-min_x1080.jpg?v=1683939522\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149172481/e-liquid-watermelon-cooler-1_large-compressor_large_6c3645cc-4678-4fd5-9413-08c82512a129_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/e-liquid-watermelon-cooler-1_large-compressor_large_6c3645cc-4678-4fd5-9413-08c82512a129_x1080.jpg?v=1683939522\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8008149172481/best-watermelon-lime-cool-vape-juice-cheap-ejuice_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/best-watermelon-lime-cool-vape-juice-cheap-ejuice_x1080.jpg?v=1683939522\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"fruit\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8014242414849\": {\n                    \"id\": 8014242414849,\n                    \"prefix\": \"xros-pod-series-4-pack-\",\n                    \"seo\": {\n                        \"title\": \"XROS Pod Series | 4-Pack\",\n                        \"description\": \"Introducing the Vaporesso xros Pod Series | 4-Pack, the ultimate refillable pod solution designed to enhance your vaping experience. With a generous 2mL capacity and a range of resistance options, these pods are built to deliver exceptional flavor and performance. One of the standout features of the xros replacement pods is the hidden top fill system, cleverly concealed beneath the mouthpiece. No more hassle or mess when refilling your pods  simply remove the mouthpiece to reveal the convenient filling mechanism. Plus, the transparent juice viewing window allows you to easily keep track of your juice levels without removing the pod. Equipped with an integrated mesh coil heating structure, the xros pods provide a smooth and consistent vaping experience. We offer the newest 0.8ohm and 1.0ohm options. Whether you prefer a warmer or cooler vape, we've got you covered. Compatibility is not an issue with the xros Pods, as they are designed to work seamlessly with all xros devices. Enjoy the convenience and versatility of using these pods with your favorite xros device, knowing that you'll always get the same outstanding performance. Each pack includes four high-quality xros pods, ensuring that you have an ample supply to keep you vaping without interruption. So, why settle for anything less when you can experience the best? Upgrade your vaping game with the Vaporesso xros Pod Series | 4-Pack today. Features * 2mL Pod Capacity for long-lasting vaping sessions * Top Fill System  Hidden By Mouthpiece, for quick and mess-free refills * Transparent Juice Viewing Window, allowing you to monitor juice levels at a glance * Exceptional quality and performance * 0.8ohm and 1.0ohm options * Magnetic Pod Connection for secure and effortless installation includes * 4 Pods Per Pack, ensuring you have a sufficient supply for uninterrupted vaping enjoyment faq Which Resistance Should I Choose? When it comes to choosing between the Smooth (1.0) Pods and the Turbo (0.8) Pods, it really boils down to personal preference. We would recommend trying out both to see which one suits you better. Here's what we've noticed as the main differences between the two: Smooth (1.0) Pods: These pods offer a calmer experience with reduced airflow. They provide a smoother draw and a more relaxed vaping experience. Turbo (0.8) Pods: If you're looking for more airflow, enhanced flavor, and a bit more oomph to your vaping, the Turbo Pods are a great choice. They offer a boost in flavor and a more dynamic vaping experience. Neither of these pods tend to get hot like the 0.9ohm Caliburn a2 Pods. They both provide enjoyable flavor profiles and a mellow vaping experience. How Easy is it to Refill? The drip tip snaps off very easily. Unlike with Caliburn Pods, you don't need to pry the drip tip off. Simply remove the drip tip by snapping it while the pod is still inserted on the device. By leaving the pod on the device, it gives you the leverage to apply direct horizontal pressure to the top of the pod and \\\"snap\\\" the drip tip right off. Don't worry about breaking the drip tip, it's made out of a very durable plastic so you can just push flat against it and it'll snap off the top of the pod. Be sure to push it from the front or the rear of the device, pushing it from the side won't work and will just lift the pod from the device.\",\n                        \"handle\": \"xros-pod-series-4-pack\"\n                    },\n                    \"caption\": \"XROS Pod Series | 4-Pack\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-xros-3-mini\",\n                        \"hardware\",\n                        \"just-pods\",\n                        \"pods\",\n                        \"vaporesso\",\n                        \"vaporesso pods\",\n                        \"xros\",\n                        \"xros 3 mini\"\n                    ],\n                    \"publishedAt\": 1685685082000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8014242414849/vaporesso-xros-3-mini-pod-s-1.0-resistance-coils_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-pod-s-1.0-resistance-coils_x450.jpg?v=1685685087\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242414849/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_x450.jpg?v=1685685087\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242414849/vaporesso-xros-3-mini-pod-s-0.8-resistance-coils_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-pod-s-0.8-resistance-coils_x450.jpg?v=1685685087\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8014242414849/vaporesso-xros-3-mini-pod-s-1.0-resistance-coils_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-pod-s-1.0-resistance-coils_x1080.jpg?v=1685685087\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242414849/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_x1080.jpg?v=1685685087\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242414849/vaporesso-xros-3-mini-pod-s-0.8-resistance-coils_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-pod-s-0.8-resistance-coils_x1080.jpg?v=1685685087\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"xrosPodSeries4Pack\",\n                    \"visibility\": \"active\"\n                },\n                \"8014242447617\": {\n                    \"id\": 8014242447617,\n                    \"prefix\": \"xros-3-mini-pod-device-\",\n                    \"seo\": {\n                        \"title\": \"XROS 3 MINI Pod Device | Vaporesso\",\n                        \"description\": \"Say hello to the Vaporesso xros 3 Mini Pod System  your perfect pocket-sized companion for top-notch vaping experiences. Sporting a sturdy stainless steel chassis, this device is designed to withstand light falls and drops, ensuring your vape journey remains uninterrupted. Inside its compact form, it houses a potent 1000mAh battery, promising extended vape sessions without the constant need to recharge. Coupled with the new xros 3 Pods, you're in for a long-lasting vaping delight. Embrace flexibility with the xros 3 Mini as it welcomes both freebase and salt nicotine e-juices, giving you the freedom to choose your preferred flavor. With a generous 2.0 mL vape juice capacity, it ensures a long-lasting vaping experience that won't leave you dry. Plus, this device is your open invitation to explore a world of flavor as it's compatible with all previous xros Pods. Filling your pod is a breeze with our top-fill design. Simply remove the sleek black cap, refill, and get back to enjoying your vape in no time. The pods are a snap to connect, thanks to the magnetic connection that ensures a secure, stable link. To top it off, the xros 3 Mini features a trendy neon led indicator light, adding a touch of style while enhancing your vaping convenience. Features Here are the features that make the Vaporesso xros 3 Mini a must-have: * Chipset: axon for smooth performance * Compact dimensions: 99mm by 23.6mm by 13.8mm for portability * Powerful 1000mAh battery for extended vape sessions * Constant Voltage Based Output for a consistent vaping experience * Resistance Range: 0.8/1.0ohm suitable for various e-liquids and salts * Durable Zinc-Alloy chassis for increased durability * Charging: Swift and convenient via the Type-C Port * Operation: Easy-to-use draw-activated system * Pod Series: xros 3 Pod Series for a variety of flavors * Fill System: User-friendly top-fill design * Pod Material: Durable pctg * Pod Capacity: Generous 2mL to hold more e-liquid * Pod Connection: Secure and simple magnetic mechanism * Additional Feature: Trendy neon led indicator light for convenience and style includes The package includes: * xros 3 Mini Battery * 1.0ohm xros 3 Mesh Pod * Type-C Charging Cable * Reminder Card * User Manual * Warranty Card\",\n                        \"handle\": \"xros-3-mini-pod-device\"\n                    },\n                    \"caption\": \"XROS 3 Mini Device\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-xros-3-mini\",\n                        \"device\",\n                        \"devices\",\n                        \"hardware\",\n                        \"vaporesso\",\n                        \"xros\",\n                        \"xros 3 mini\"\n                    ],\n                    \"publishedAt\": 1685685088000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8014242447617/vaporesso-xros-3-mini-vaping-salt-s-device-black_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-vaping-salt-s-device-black_x450.jpg?v=1685685093\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242447617/vaporesso-xros-3-mini-vaping-salt-s-device-black-kit-box-incudes_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-vaping-salt-s-device-black-kit-box-incudes_x450.jpg?v=1685685093\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242447617/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_df25cebe-c2ba-4dd3-993d-adc1e28af7c1_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_df25cebe-c2ba-4dd3-993d-adc1e28af7c1_x450.jpg?v=1685685093\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242447617/vaporesso-xros-3-mini-vaping-salt-s-device-black-b_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-vaping-salt-s-device-black-b_x450.jpg?v=1685685093\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8014242447617/vaporesso-xros-3-mini-vaping-salt-s-device-black_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-vaping-salt-s-device-black_x1080.jpg?v=1685685093\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242447617/vaporesso-xros-3-mini-vaping-salt-s-device-black-kit-box-incudes_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-vaping-salt-s-device-black-kit-box-incudes_x1080.jpg?v=1685685093\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242447617/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_df25cebe-c2ba-4dd3-993d-adc1e28af7c1_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_df25cebe-c2ba-4dd3-993d-adc1e28af7c1_x1080.jpg?v=1685685093\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242447617/vaporesso-xros-3-mini-vaping-salt-s-device-black-b_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-vaping-salt-s-device-black-b_x1080.jpg?v=1685685093\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"alias\": \"xros3MiniDevice\",\n                    \"visibility\": \"active\"\n                },\n                \"8014242480385\": {\n                    \"id\": 8014242480385,\n                    \"prefix\": \"xros-starter-bundle-\",\n                    \"seo\": {\n                        \"title\": \"XROS Starter Bundle | Vaporesso\",\n                        \"description\": \"Introducing our xros Starter Bundle - the ultimate launchpad to your vaping journey, curated by a team who loves and lives the vaping experience daily. Kick-start your vaping adventure with the heart of our bundle, the Vaporesso xros 3 Mini Device. Compact yet powerful, this device boasts a 1000mAh battery and an advanced axon chipset, ensuring smooth and versatile vaping sessions that we've all come to cherish. But the joy doesn't stop there. Our bundle features up to 60ml of juice from our exceptional range of Handcrafted Salts. Each flavor is carefully crafted and optimized to perfectly complement the xros 3 Mini Pod System, offering you an unrivaled vaping experience. To make things even more exciting, we're including a free 30ml of our Mystery Flavor. This unreleased recipe is a secret delight we update seasonally, and trust us, it's a revelation every time. Get a sneak peek at our newest creation before anyone else. The xros Starter Bundle isn't just a product offering  it's a shared passion. As avid users of the xros 3 Mini ourselves, we're thrilled to share with you what we believe is the ultimate vaping experience. Welcome to the tbd family! features Here are the features that make the Vaporesso xros 3 Mini a must-have: * Chipset: axon for smooth performance * Compact dimensions: 99mm by 23.6mm by 13.8mm for portability * Powerful 1000mAh battery for extended vape sessions * Constant Voltage Based Output for a consistent vaping experience * Resistance Range: 0.8/1.0ohm suitable for various e-liquids and salts * Durable Zinc-Alloy chassis for increased durability * Charging: Swift and convenient via the Type-C Port * Operation: Easy-to-use draw-activated system * Pod Series: xros 3 Pod Series for a variety of flavors * Fill System: User-friendly top-fill design * Pod Material: Durable pctg * Pod Capacity: Generous 2mL to hold more e-liquid * Pod Connection: Secure and simple magnetic mechanism * Additional Feature: Trendy neon led indicator light for convenience and style includes The package includes: * xros 3 Mini Battery * 1.0ohm xros 3 Mesh Pod * Type-C Charging Cable * (2) 30ml Handcrafted Salts of your choice * (1) 30ml Seasonal Mystery Flavor * Reminder Card * User Manual * Warranty Card\",\n                        \"handle\": \"xros-starter-bundle\"\n                    },\n                    \"caption\": \"XROS Starter Bundle\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-xros-3-mini\",\n                        \"just-packs\",\n                        \"vaporesso\",\n                        \"xros\",\n                        \"xros 3 mini\"\n                    ],\n                    \"publishedAt\": 1685685093000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8014242480385/vaporesso-xros-3-mini-starter-bundle-black_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-starter-bundle-black_x450.jpg?v=1685685097\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242480385/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_2856230c-7c43-4375-84f4-d4d0558e8f14_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_2856230c-7c43-4375-84f4-d4d0558e8f14_x450.jpg?v=1685685097\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242480385/vaporesso-xros-3-mini-starter-bundle-black-b_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-starter-bundle-black-b_x450.jpg?v=1685685097\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8014242480385/vaporesso-xros-3-mini-starter-bundle-black_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-starter-bundle-black_x1080.jpg?v=1685685097\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242480385/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_2856230c-7c43-4375-84f4-d4d0558e8f14_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_2856230c-7c43-4375-84f4-d4d0558e8f14_x1080.jpg?v=1685685097\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014242480385/vaporesso-xros-3-mini-starter-bundle-black-b_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/products/vaporesso-xros-3-mini-starter-bundle-black-b_x1080.jpg?v=1685685097\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": false,\n                    \"visibility\": \"active\"\n                },\n                \"8014585266433\": {\n                    \"id\": 8014585266433,\n                    \"prefix\": \"xros-starter-bundle-alt-variants-\",\n                    \"seo\": {\n                        \"title\": \"XROS Starter Bundle | Vaporesso\",\n                        \"description\": \"This is an alt-variants product - not the real thing. These should remain active. Note: Alt-Variant products are part of a temporary solution to manage variants in an alternative way for the new website while the old website is still active. Once the new site completely replaces the old site, the real product variants will be updated, and the Alt-Variant products will be discard.\",\n                        \"handle\": \"xros-starter-bundle-alt-variants\"\n                    },\n                    \"caption\": \"XROS Starter Bundle\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-extras\"\n                    ],\n                    \"publishedAt\": 1685896912000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8014585266433/vaporesso-xros-3-mini-starter-bundle-black_a24a6a00-d121-424a-9e56-84289108bd22_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-starter-bundle-black_a24a6a00-d121-424a-9e56-84289108bd22_x450.jpg?v=1685896917\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014585266433/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_15cf70ec-6592-4ab4-afc0-93537559e811_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_15cf70ec-6592-4ab4-afc0-93537559e811_x450.jpg?v=1685896917\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014585266433/vaporesso-xros-3-mini-starter-bundle-black-b_d0cad7ac-be00-48b9-8074-475d922f9a0a_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-starter-bundle-black-b_d0cad7ac-be00-48b9-8074-475d922f9a0a_x450.jpg?v=1685896917\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8014585266433/vaporesso-xros-3-mini-starter-bundle-black_a24a6a00-d121-424a-9e56-84289108bd22_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-starter-bundle-black_a24a6a00-d121-424a-9e56-84289108bd22_x1080.jpg?v=1685896917\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014585266433/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_15cf70ec-6592-4ab4-afc0-93537559e811_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_15cf70ec-6592-4ab4-afc0-93537559e811_x1080.jpg?v=1685896917\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014585266433/vaporesso-xros-3-mini-starter-bundle-black-b_d0cad7ac-be00-48b9-8074-475d922f9a0a_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-starter-bundle-black-b_d0cad7ac-be00-48b9-8074-475d922f9a0a_x1080.jpg?v=1685896917\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": true,\n                    \"alias\": \"xrosStarterBundleAltVariants\",\n                    \"visibility\": \"hidden\"\n                },\n                \"8014754513153\": {\n                    \"id\": 8014754513153,\n                    \"prefix\": \"build-your-own-pack-alt-variants-\",\n                    \"seo\": {\n                        \"title\": \"Build-Your-Own Pack\",\n                        \"description\": \"This is an alt-variants product - not the real thing. These should remain active. Note: Alt-Variant products are part of a temporary solution to manage variants in an alternative way for the new website while the old website is still active. Once the new site completely replaces the old site, the real product variants will be updated, and the Alt-Variant products will be discard.\",\n                        \"handle\": \"build-your-own-pack-alt-variants\"\n                    },\n                    \"caption\": \"Build-Your-Own Pack\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-extras\"\n                    ],\n                    \"publishedAt\": 1685981744000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8014754513153/build-your-own-pack-2023-new-custom-vaporesso-deal-c_0809b7e4-5ebd-43b7-8fd3-30da50274b70_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/build-your-own-pack-2023-new-custom-vaporesso-deal-c_0809b7e4-5ebd-43b7-8fd3-30da50274b70_x450.jpg?v=1685981755\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014754513153/build-your-own-pack-15mg-nicotine-option-selected-c_456a1395-63d7-403c-b263-0c5deba0b9aa_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/build-your-own-pack-15mg-nicotine-option-selected-c_456a1395-63d7-403c-b263-0c5deba0b9aa_x450.jpg?v=1685981755\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014754513153/build-your-own-pack-30mg-nicotine-option-selected-c_20469b81-7515-4c55-b2db-efa03cf58748_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/build-your-own-pack-30mg-nicotine-option-selected-c_20469b81-7515-4c55-b2db-efa03cf58748_x450.jpg?v=1685981755\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014754513153/build-your-own-pack-50mg-nicotine-option-selected-c_cf07bc91-8336-41c5-992c-0451a4cc2354_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/build-your-own-pack-50mg-nicotine-option-selected-c_cf07bc91-8336-41c5-992c-0451a4cc2354_x450.jpg?v=1685981755\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014754513153/build-your-own-pack-custom-nicotine-option-selected-c_1d8a9c3d-10b1-445a-b34a-4d7a8ee31220_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/build-your-own-pack-custom-nicotine-option-selected-c_1d8a9c3d-10b1-445a-b34a-4d7a8ee31220_x450.jpg?v=1685981756\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014754513153/choose-any-flavor_72d4e6d5-7b53-4e8f-bb3c-732dd6a696de_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/choose-any-flavor_72d4e6d5-7b53-4e8f-bb3c-732dd6a696de_x450.jpg?v=1685981756\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8014754513153/build-your-own-pack-2023-new-custom-vaporesso-deal-c_0809b7e4-5ebd-43b7-8fd3-30da50274b70_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/build-your-own-pack-2023-new-custom-vaporesso-deal-c_0809b7e4-5ebd-43b7-8fd3-30da50274b70_x1080.jpg?v=1685981755\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014754513153/build-your-own-pack-15mg-nicotine-option-selected-c_456a1395-63d7-403c-b263-0c5deba0b9aa_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/build-your-own-pack-15mg-nicotine-option-selected-c_456a1395-63d7-403c-b263-0c5deba0b9aa_x1080.jpg?v=1685981755\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014754513153/build-your-own-pack-30mg-nicotine-option-selected-c_20469b81-7515-4c55-b2db-efa03cf58748_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/build-your-own-pack-30mg-nicotine-option-selected-c_20469b81-7515-4c55-b2db-efa03cf58748_x1080.jpg?v=1685981755\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014754513153/build-your-own-pack-50mg-nicotine-option-selected-c_cf07bc91-8336-41c5-992c-0451a4cc2354_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/build-your-own-pack-50mg-nicotine-option-selected-c_cf07bc91-8336-41c5-992c-0451a4cc2354_x1080.jpg?v=1685981755\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014754513153/build-your-own-pack-custom-nicotine-option-selected-c_1d8a9c3d-10b1-445a-b34a-4d7a8ee31220_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/build-your-own-pack-custom-nicotine-option-selected-c_1d8a9c3d-10b1-445a-b34a-4d7a8ee31220_x1080.jpg?v=1685981756\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8014754513153/choose-any-flavor_72d4e6d5-7b53-4e8f-bb3c-732dd6a696de_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/choose-any-flavor_72d4e6d5-7b53-4e8f-bb3c-732dd6a696de_x1080.jpg?v=1685981756\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": true,\n                    \"alias\": \"buildYourOwnPackAltVariants\",\n                    \"visibility\": \"hidden\"\n                },\n                \"8016065265921\": {\n                    \"id\": 8016065265921,\n                    \"prefix\": \"copy-of-caliburn-a2-replacement-pods-alt-variants-\",\n                    \"seo\": {\n                        \"title\": \"Caliburn A2 Replacement Pods | UWELL\",\n                        \"description\": \"UWELL Caliburn A2 Pods. Contains four replacement pods per pack. These 0.9ohm resistance coils are compatible with the Caliburn A2 device. We stand by our products and guarantee the quality of replacement pods purchased through us. \",\n                        \"handle\": \"copy-of-caliburn-a2-replacement-pods-alt-variants\"\n                    },\n                    \"caption\": \"Caliburn A2 Replacement Pods\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-extras\"\n                    ],\n                    \"publishedAt\": 1686294426000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8016065265921/uwell-caliburn-a2-replacement-pod-pack-s-1.2_a65f8381-08e8-4d35-8674-7b1b1900040c_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/uwell-caliburn-a2-replacement-pod-pack-s-1.2_a65f8381-08e8-4d35-8674-7b1b1900040c_x450.jpg?v=1686294433\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8016065265921/uwell-caliburn-a2-replacement-pod-pack-s_3de9da27-bc65-4e5f-9dee-a15985ec2ef8_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/uwell-caliburn-a2-replacement-pod-pack-s_3de9da27-bc65-4e5f-9dee-a15985ec2ef8_x450.jpg?v=1686294433\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8016065265921/uwell-caliburn-a2-compatible-pods_17252a32-edae-47dc-b8a5-1ec372415299_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/uwell-caliburn-a2-compatible-pods_17252a32-edae-47dc-b8a5-1ec372415299_x450.jpg?v=1686294433\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8016065265921/uwell-caliburn-a2-12-replacement-pod-s_18827309-7598-42a3-bfad-5c3853153ff3_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/uwell-caliburn-a2-12-replacement-pod-s_18827309-7598-42a3-bfad-5c3853153ff3_x450.jpg?v=1686294433\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8016065265921/uwell-caliburn-a2-pod-design_c9098175-ba63-4a59-a0a3-c5e2ec9b4c70_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/uwell-caliburn-a2-pod-design_c9098175-ba63-4a59-a0a3-c5e2ec9b4c70_x450.jpg?v=1686294433\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8016065265921/uwell-caliburn-a2-replacement-pod-pack-s-1.2_a65f8381-08e8-4d35-8674-7b1b1900040c_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/uwell-caliburn-a2-replacement-pod-pack-s-1.2_a65f8381-08e8-4d35-8674-7b1b1900040c_x1080.jpg?v=1686294433\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8016065265921/uwell-caliburn-a2-replacement-pod-pack-s_3de9da27-bc65-4e5f-9dee-a15985ec2ef8_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/uwell-caliburn-a2-replacement-pod-pack-s_3de9da27-bc65-4e5f-9dee-a15985ec2ef8_x1080.jpg?v=1686294433\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8016065265921/uwell-caliburn-a2-compatible-pods_17252a32-edae-47dc-b8a5-1ec372415299_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/uwell-caliburn-a2-compatible-pods_17252a32-edae-47dc-b8a5-1ec372415299_x1080.jpg?v=1686294433\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8016065265921/uwell-caliburn-a2-12-replacement-pod-s_18827309-7598-42a3-bfad-5c3853153ff3_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/uwell-caliburn-a2-12-replacement-pod-s_18827309-7598-42a3-bfad-5c3853153ff3_x1080.jpg?v=1686294433\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8016065265921/uwell-caliburn-a2-pod-design_c9098175-ba63-4a59-a0a3-c5e2ec9b4c70_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/uwell-caliburn-a2-pod-design_c9098175-ba63-4a59-a0a3-c5e2ec9b4c70_x1080.jpg?v=1686294433\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": true,\n                    \"alias\": \"caliburnA2ReplacementPodsAltVariants\",\n                    \"visibility\": \"hidden\"\n                },\n                \"8017189241089\": {\n                    \"id\": 8017189241089,\n                    \"prefix\": \"copy-of-xros-3-mini-device-alt-variants-\",\n                    \"seo\": {\n                        \"title\": \"XROS 3 MINI Pod Device | Vaporesso\",\n                        \"description\": \"This is an alt-variants product - not the real thing. These should remain active. Note: Alt-Variant products are part of a temporary solution to manage variants in an alternative way for the new website while the old website is still active. Once the new site completely replaces the old site, the real product variants will be updated, and the Alt-Variant products will be discard.\",\n                        \"handle\": \"copy-of-xros-3-mini-device-alt-variants\"\n                    },\n                    \"caption\": \"XROS 3 Mini Device\",\n                    \"descriptionHtml\": \"\",\n                    \"tags\": [\n                        \"collection-extras\"\n                    ],\n                    \"publishedAt\": 1686644420000,\n                    \"starRating\": 0,\n                    \"ratingCount\": 0,\n                    \"smallImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8017189241089/vaporesso-xros-3-mini-vaping-salt-s-device-black_fae8748b-7428-453b-89e8-6a1119690714_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-vaping-salt-s-device-black_fae8748b-7428-453b-89e8-6a1119690714_x450.jpg?v=1686644426\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8017189241089/vaporesso-xros-3-mini-vaping-salt-s-device-black-kit-box-incudes_7c9c60b0-541c-4665-8e06-cea483419921_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-vaping-salt-s-device-black-kit-box-incudes_7c9c60b0-541c-4665-8e06-cea483419921_x450.jpg?v=1686644426\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8017189241089/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_617714ff-74f9-4a42-9ed0-62aeb0ab5e70_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_617714ff-74f9-4a42-9ed0-62aeb0ab5e70_x450.jpg?v=1686644426\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8017189241089/vaporesso-xros-3-mini-vaping-salt-s-device-black-b_24996eae-e41a-418d-9592-be98d6912f25_x450.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-vaping-salt-s-device-black-b_24996eae-e41a-418d-9592-be98d6912f25_x450.jpg?v=1686644426\"\n                        }\n                    ],\n                    \"largeImages\": [\n                        {\n                            \"src\": \"/pre-build/products/8017189241089/vaporesso-xros-3-mini-vaping-salt-s-device-black_fae8748b-7428-453b-89e8-6a1119690714_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-vaping-salt-s-device-black_fae8748b-7428-453b-89e8-6a1119690714_x1080.jpg?v=1686644426\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8017189241089/vaporesso-xros-3-mini-vaping-salt-s-device-black-kit-box-incudes_7c9c60b0-541c-4665-8e06-cea483419921_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-vaping-salt-s-device-black-kit-box-incudes_7c9c60b0-541c-4665-8e06-cea483419921_x1080.jpg?v=1686644426\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8017189241089/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_617714ff-74f9-4a42-9ed0-62aeb0ab5e70_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-pod-s-convenient-top-fill-c_617714ff-74f9-4a42-9ed0-62aeb0ab5e70_x1080.jpg?v=1686644426\"\n                        },\n                        {\n                            \"src\": \"/pre-build/products/8017189241089/vaporesso-xros-3-mini-vaping-salt-s-device-black-b_24996eae-e41a-418d-9592-be98d6912f25_x1080.webp\",\n                            \"originalSrc\": \"https://cdn.shopify.com/s/files/1/0616/1757/0049/files/vaporesso-xros-3-mini-vaping-salt-s-device-black-b_24996eae-e41a-418d-9592-be98d6912f25_x1080.jpg?v=1686644426\"\n                        }\n                    ],\n                    \"filters\": {\n                        \"other\": true\n                    },\n                    \"hidden\": true,\n                    \"alias\": \"xros3MiniDeviceAltVariants\",\n                    \"visibility\": \"hidden\"\n                }\n            };\n        }\n        const process = () => {\n            const ret: ProductTable = {};\n            if (this.preview) {\n                Object.keys(this.preview.products).forEach((productId) => {\n                    // ret[productId] = {\n                    //     ...this.preview.products[productId]\n                    // };\n                });\n            }\n            else {\n                Object.keys(productsConfig).forEach((productId) => {\n                    ret[productId] = {\n                        ...productsConfig[productId]\n                    };\n                });\n            }\n            return ret;\n        };\n\n        return this._productTable = this._productTable || process();\n    }\n\n    getProductById(id: string): ConfigProductData {\n        const productTable = this.getProductTable();\n        return productTable[id]?productTable[id]:null;\n    }\n\n    getCollectionByHandle(handle: string): ConfigCollectionData\n    {\n        const collectionTable = this.getCollectionTable();\n        return collectionTable[handle]?collectionTable[handle]:null;\n    }\n\n    getCollectionItems({omitSupport = false}: {omitSupport?: boolean} = {})\n    {\n        if (this.preview) {\n            return this.preview.collections.filter(({seo: {handle}}) => (!omitSupport) || (handle!==\"help\")).map(({seo: { handle },caption}) => ({handle,caption}));\n        }\n        else {\n            return collectionsConfig.filter(({seo: {handle}}) => (!omitSupport) || (handle!==\"help\")).map(({seo: { handle },caption}) => ({handle,caption}));\n        }\n    }\n\n    getOptionsSnapshot() {\n        return _optionsSnapshot as OptionSnapshot;\n    }\n\n    getProductTags(productId: string) {\n        return this.getProductById(productId)?.tags || [];\n    }\n\n    getVariantHash() {\n        const process = () => {\n            const ret: VariantHash = {};\n\n            const optionSnapshot = this.getOptionsSnapshot();\n            Object.keys(optionSnapshot.products).forEach((productId) => {\n                optionSnapshot.products[productId].variants.forEach((variant) => {\n                    ret[variant.id] = {\n                        variant,\n                        productId\n                    };                    \n                });\n            });\n\n            return ret;\n        };\n\n        return this._variantHash = this._variantHash || process();\n    }\n\n    getFilteredProductList(filters: OptionsOptionProductSelectFilter[],sort: OptionsOptionProductSelectSortOptions) {\n        const collectionFilters = filters.filter(({type}) => type===\"collection\") as OptionsOptionProductSelectFilterCollection[];\n        const includeTaggedFilters = filters.filter(({type}) => type===\"include-if-tagged\") as OptionsOptionProductSelectFilterIfTagged[];\n        const excludeTaggedFilters = filters.filter(({type}) => type===\"exclude-if-tagged\") as OptionsOptionProductSelectFilterIfTagged[];\n        let products = (() => {\n            if (collectionFilters.length>0) {\n                const ret: ConfigProduct[] = [];\n                collectionFilters.forEach((collectionFilter) => {\n                    ret.push(...(this.getCollectionById(collectionFilter.id)?.products || []));\n                });                \n                return ret;\n            }\n            else {\n                const productTable = this.getProductTable();\n                return Object.keys(productTable).map((productId) => productTable[productId]);\n            }    \n        })();\n\n        const tagsMatch = (tags: string[],fromTags: string[]) => {\n            const hash: {[value: string]: true} = {};\n            fromTags.forEach((tag) => hash[tag] = true);\n            for(let i=0;i<tags.length;i++) {\n                if (hash[tags[i]]) return true;\n            }\n            return false;\n        };\n\n        if (includeTaggedFilters.length>0) {\n            products = products.filter((product) => {\n                let ret = false;\n                const { tags } = product;\n                for(let i=0;i<includeTaggedFilters.length;i++) {\n                    const taggedFilter = includeTaggedFilters[i];\n                    ret = ret || tagsMatch(tags,taggedFilter.tags);\n                }\n                return ret;\n            });\n        }        \n        if (excludeTaggedFilters.length>0) {\n            products = products.filter((product) => {\n                let ret = true;\n                const { tags } = product;\n                for(let i=0;i<excludeTaggedFilters.length;i++) {\n                    const taggedFilter = excludeTaggedFilters[i];\n                    ret = ret && !tagsMatch(tags,taggedFilter.tags);\n                }\n                return ret;\n            });\n        }        \n\n        if (sort===\"alpha-asc\") {\n            products.sort(({caption: a},{caption: b}) => {\n                if (a<b) return -1;\n                if (a>b) return 1;\n                return 0;\n            });\n        }\n        else if (sort===\"alpha-desc\") {\n            products.sort(({caption: a},{caption: b}) => {\n                if (a<b) return 1;\n                if (a>b) return -1;\n                return 0;\n            });\n        }\n\n        return products.filter(({visibility}) => visibility===\"active\");\n    }\n\n    getProductStubTable() {        \n        const process = () => {            \n            const ret: ProductStubTable = {};\n            const optionSnapshot = this.getOptionsSnapshot();            \n            const productTable = this.getProductTable();\n\n            Object.keys(productTable).forEach((productId) => {\n                const { id,caption } = productTable[productId];\n                const { variants } = optionSnapshot.products[productId];                   \n\n                ret[id] = {\n                    _variants: variants,\n                    id: id.toString(),\n                    title: caption\n                };                    \n                ret[id]._variants.forEach((variant) => {                        \n                    if (variant.signature.length>0) {                            \n                        misc.combinations(variant.signature.length,(indexes) => {                                \n                            let pnt: any = ret[id];\n                            indexes.forEach((index) => {\n                                const { id,value } = variant.signature[index];                                    \n                                pnt[id] = pnt[id] || {};\n                                pnt[id][value] = pnt[id][value] || {_variants: []};\n                                pnt[id][value]._variants.push(variant);\n                                pnt = pnt[id][value];\n                            });\n                        });\n                    }\n                });    \n            });\n\n            return ret;\n        };\n\n        return this._productStubTable = this._productStubTable || process();\n    }\n\n    getProductDescriptionHtmlTable() {        \n        const process = () => {\n            const ret: ProductDescriptionHtmlTable = {};\n            const optionSnapshot = this.getOptionsSnapshot();\n            Object.keys(optionSnapshot.products).forEach((productId) => {\n                ret[productId] = optionSnapshot.products[productId].descriptionHtml;\n            });\n            return ret;\n        };\n\n        return this._productDescriptionHtmlTable = this._productDescriptionHtmlTable || process();\n    }\n\n    getProductDescriptionHtml(productId: string) {\n        return this.getProductDescriptionHtmlTable()[productId];\n    }\n\n    getProductStub(productId: string) {\n        return this.getProductStubTable()[productId];\n    }\n\n    getProductAliasStubTable() {\n        const process = () => {\n            const ret: ProductAliasStubTable = {};\n            const productStubTable = this.getProductStubTable();\n\n            const productTable = this.getProductTable();\n            Object.keys(productTable).forEach((productId) => {\n                const { id,alias } = productTable[productId];\n                if (alias) {\n                    ret[alias] = productStubTable[id];\n                }\n            });\n\n            return ret;\n        };\n\n        return this._productAliasStubTable = this._productAliasStubTable || process();\n    }\n\n    getProductAliasStub(alias: string) {\n        return this.getProductAliasStubTable()[alias];\n    }\n\n    getVariantStubTable() {\n        const process = () => {\n            const ret: VariantStubTable = {};\n\n            const optionsSnapshot = this.getOptionsSnapshot();\n            Object.keys(optionsSnapshot.products).forEach((productId) => {\n                const { variants } = optionsSnapshot.products[productId];\n                variants.forEach(({id,signature,custom}) => {\n                    ret[id] = {\n                        id,\n                        title: (signature.length>0)?signature.map(({caption}) => caption).join(\" / \"):\"Default\",\n                        productId,\n                        custom: !!custom\n                    };\n                });\n            });\n\n            return ret;\n        };\n        \n        return this._variantStubTable = this._variantStubTable || process();\n    }\n\n    getVariantStub(variantId: string) {\n        return this.getVariantStubTable()[variantId];\n    }\n\n    getVariantAndProductStub(variantId: string) {\n        const variantHash = this.getVariantHash();\n        if (variantHash[variantId]) {\n            const { productId } = variantHash[variantId];\n            const variant = this.getVariantStub(variantId);\n            const product = this.getProductStub(productId);\n            return {variant,product};\n        }\n        else {\n            return null;\n        }\n    }\n\n    variantExists(variantId: string) {\n        const hash = this.getVariantHash();\n        return !!hash[variantId];\n    }\n\n    isVariantCustom(variantId: string) {\n        return !!this.getVariantStub(variantId)?.custom;\n    }\n\n    evalInContext(fnCode: string) {        \n        const process = () => {\n            const productAliasStubTable = this.getProductAliasStubTable();\n            // console.log(\"productAliasStubTable\",productAliasStubTable);\n            const allVariants = (stub: any) => stub?._variants || [];\n            const firstVariant = (stub: any) => [(stub?._variants || [])[0]].filter((x) => !!x);\n            const globalVars = prebuildData.getGlobalConfig().vars;\n            const fnFactory = Function(\"util\",\"localStack\",`with(localStack) { return ${fnCode}; }`);\n            // console.log(\"fnCode\",fnCode);\n            return fnFactory(util,{...productAliasStubTable,allVariants,firstVariant,globalVars});\n        };\n\n        return this._evalInContextCache[fnCode] = this._evalInContextCache[fnCode] || process();\n    }\n\n    getProductSmallImageSlideShowMatch(productId: string,slideshowMatch?: string) {\n        const product = this.getProductById(productId);\n        if (product) {\n            if (slideshowMatch) {\n                for(let i=0;i<product.smallImages.length;i++) {\n                    if (product.smallImages[i].src.indexOf(slideshowMatch)!==-1) {\n                        const imageSrc = product.smallImages[i].src;\n                        const originalSrc = product.smallImages[i].originalSrc;\n                        return { imageSrc,originalSrc };\n                    }                        \n                }\n            }\n            const imageSrc = product.smallImages[0].src;\n            const originalSrc = product.smallImages[0].originalSrc;\n            return { imageSrc,originalSrc };\n        }\n        return null;\n    }\n\n    extractVariantsFromLink(productId: string,optionValues: CartItemOptionValues,optionId: string,link: string) {\n        const optionsCompiler = prebuildData.getOptionsCompiler();\n\n        const productOptions = optionsCompiler.getProductOptions(productId);\n        const optionsStub: {[id: string]: {itemId: string}} = {};\n        productOptions.options.forEach((option) => {\n            const optionValue = optionValues[option.id];\n            if ((option.type===\"buttons\") && (optionValue?.type===\"buttons\")) {\n                optionsStub[option.id] = {itemId: optionValue.id};\n            }\n        });\n        const option = {itemId: optionId}\n        const fn = prebuildData.evalInContext(link);\n        return [fn({options: optionsStub,option})].flat().map((link) => link?._variants?.[0]).filter((variant) => !!variant);\n    }\n\n    getStorefront() {\n        return storefrontConfig as StorefrontConfig;\n    }\n\n    getCentVariantId() {\n        const optionsSnapshot = this.getOptionsSnapshot();\n        return optionsSnapshot.centVariantId;\n    }\n\n    getInfoVariantId() {\n        const optionsSnapshot = this.getOptionsSnapshot();\n        return optionsSnapshot.infoVariantId;\n    }\n\n    getProductPriceTable() {\n        const optionsCompiler = prebuildData.getOptionsCompiler();\n\n        const process = () => {\n            const ret: ProductPriceTable = {};\n            const { products } = this.getOptionsSnapshot();\n            Object.keys(products).forEach((productId) => {\n                const { price,options } = optionsCompiler.getProductOptions(productId);\n                const optionsStub: {[id: string]: {itemId: string}} = {};\n                options.forEach((option) => {\n                    if (option.type===\"buttons\") {\n                        if (option.items.length>0) {\n                            let selectedIndex = 0;\n                            for(let i=0;i<option.items.length;i++) {\n                                if (option.items[i].selected) {\n                                    selectedIndex = i;\n                                    break;\n                                }\n                            }\n                            optionsStub[option.id] = {\n                                itemId: option.items[selectedIndex].id\n                            };\n                        }\n                    }\n                });                \n\n                let total = 0;\n\n                const processPriceComponent = (priceDef: any,param: any = {}) => {\n                    if (typeof priceDef===\"string\") {\n                        let debug = false;\n                        if (priceDef.startsWith(\"price.\")) {\n                            priceDef = `({price}) => ${priceDef}`;\n                            debug = true;\n                        }\n                        const fn = this.evalInContext(priceDef);\n                        const globalPriceObj = prebuildData.getGlobalConfig().vars.price || {};\n                        const _param = isSimpleObject(param)?{...param,price: globalPriceObj}:{price: globalPriceObj};\n                        const priceComponent = fn(_param);\n                        if (typeof priceComponent===\"number\") {\n                            total+= priceComponent;\n                        }\n                    }\n                    else if (typeof priceDef===\"number\") {\n                        total+= priceDef;\n                    }\n                };                \n\n                processPriceComponent(price.base?price.base:0);                \n\n                options.forEach((option) => {\n                    if (option.type===\"buttons\") {\n                        const optionStub = {\n                            itemId: option.items[0].id\n                        };\n                        processPriceComponent(price[option.id]?.[option.items[0].id],{options: optionsStub,option: optionStub});\n                    }\n                    else if (option.type===\"product-select\") {\n                        if ((!option.multiSelect) && (option.required)) {\n                            processPriceComponent(price[option.id],{options: optionsStub,option: {}});\n                        }\n                        else if ((option.multiSelect) && (option.multiSelect.min>0)) {\n                            processPriceComponent(price[option.id],{options: optionsStub,option: {multiSelect: {selectedCount: option.multiSelect.min}}});\n                        }\n                    }\n                });\n\n                ret[productId] = total;\n            });            \n            return ret;\n        };\n\n        const ret = this._productPriceTable = this._productPriceTable || process();\n        // console.log(\"priceTable\",ret);\n        return ret;\n    }\n\n    getProductPrice(productId: string,asInteger = false) {\n        const productPriceTable = this.getProductPriceTable();\n        const ret = productPriceTable[productId] || 0;\n        return asInteger?Math.round(ret*100):ret;\n    }\n\n    applyDiscountsToPrice(price: number,discounts: ProductDiscount[],freeProduct = false,freeComponentName?: string) {        \n        const ret: { discountBreakdown: DiscountBreakdown,price: number } = {\n            discountBreakdown: {},\n            price\n        };\n        if (freeProduct) {\n            ret.price = 0;\n            ret.discountBreakdown[freeComponentName] = {\n                discount: price,\n                fromQuantity: 0\n            };\n            return ret;\n        }\n        const totalPercentage = discounts.reduce((acc,{percentage}) => acc+percentage,0);\n        if (totalPercentage===0) return ret;\n        ret.price = Math.round(((100-totalPercentage)/100)*price);\n        ret.price = Math.min(price,Math.round(ret.price/50)*50);\n        const totalDiscount = price-ret.price;\n        let remainingDiscount = totalDiscount;\n        discounts.forEach(({componentName,percentage},index) => {            \n            const take = (index<discounts.length-1)?Math.floor((percentage/totalPercentage)*totalDiscount):remainingDiscount;\n            remainingDiscount-= take;\n            ret.discountBreakdown[componentName] = {\n                discount: take,\n                fromQuantity: 0\n            };\n        });        \n        return ret;\n    }\n\n    getProductPageRouteTable() {\n        const process = () => {\n            const ret: ProductPageRouteTable = {};\n            const collectionTable = this.getCollectionTable();\n            Object.keys(collectionTable).forEach((collectionHandle) => {\n                collectionTable[collectionHandle].products.forEach(({id: productId,seo:{handle: productHandle}}) => {\n                    ret[productId] = `/collections/${collectionHandle}/products/${productHandle}`;\n                });\n            });\n            return ret;\n        };\n        return this._productPageRouteTable = this._productPageRouteTable || process();\n    }\n\n    getProductPageDiscountedPrice(productId: string | number,price: number,freeProduct = false,freeComponentName?: string) {\n        return this.applyDiscountsToPrice(price,this.getProductDiscount(productId.toString()),freeProduct,freeComponentName);\n    }\n\n    getProductPageRoute(productId: string) {\n        const productPageRouteTable = this.getProductPageRouteTable();\n        return productPageRouteTable[productId];\n    }\n\n    getProductCollectionByHandlesTable() {\n        const process = () => {\n            const ret: ProductCollectionByHandlesTable = {};\n                const collectionTable = this.getCollectionTable();\n                Object.keys(collectionTable).forEach((collectionHandle) => {\n                    collectionTable[collectionHandle].products.forEach((product) => {\n                        const {seo:{handle: productHandle}} = product;\n                        const digest = `${collectionHandle}-${productHandle}`;\n                        ret[digest] = {\n                            collection: collectionTable[collectionHandle],\n                            product\n                        };\n                    });\n                });\n            return ret;\n        };\n\n        return this._productCollectionByHandlesTable = this._productCollectionByHandlesTable || process();\n    }\n\n    getProductCollectionByHandles(collectionHandle: string,productHandle: string) {\n        const table = this.getProductCollectionByHandlesTable();\n        const digest = `${collectionHandle}-${productHandle}`;\n        return table[digest];\n    }\n\n    getProductToCollectionTable() {\n        const process = () => {\n            const ret: ProductToCollectionTable = {};\n            const collectionsTable = this.getCollectionTableById();            \n            Object.keys(collectionsTable).forEach((collectionId) => {\n                const {products,caption} = collectionsTable[collectionId];\n                if (collectionId!==\"best-sellers\") {\n                    products.forEach(({id}) => {\n                        if (!ret[id]) {\n                            ret[id] = {\n                                 collectionId,\n                                 collectionName: caption\n                            };\n                        };\n                    });\n                }\n            });\n            return ret;\n        };\n\n        return this._productToCollectionTable = this._productToCollectionTable || process();\n    }\n\n    getProductToCollectionById(productId: string) {\n        const table = this.getProductToCollectionTable();\n        return table[productId];\n    }\n\n    getHomePageGridImages() {\n        const process = () => {\n            const collectionTable = this.getCollectionTable();\n            const ids = [\"xros-3-mini\",\"flavor-packs\",\"handcrafted-salts\",\"signature-e-juice\",\"caliburn-a2\",\"extras\"];\n            return Object.keys(collectionTable).filter((key) => ids.indexOf(collectionTable[key].id.toString())!==-1).map((key) => {\n                const { id,products,caption,route,seo: { handle } } = collectionTable[key];                \n                const visProducts = products.filter(({hidden}) => !hidden);\n                const first = visProducts[0];\n                const last = visProducts[visProducts.length-1];                                \n                const ret: HomePageGridImage = {\n                    route: route.split(\"{handle}\").join(handle),\n                    caption,\n                    image: first.largeImages[0].src,\n                    imageHover: (last!==first)?last.largeImages[0].src:(first.largeImages[1]?first.largeImages[1].src:first.largeImages[0].src)\n                };\n                return ret;\n            });    \n        };\n\n        return this._homePageGridImages = this._homePageGridImages || process();\n    }\n\n    getCollectionProductsHashTable() {\n        const process = () => {\n            const ret: CollectionProductsHashTable = {};\n            const collectionTable = this.getCollectionTable();\n            Object.keys(collectionTable).forEach((handle) => {\n                const { id: collectionId,products } = collectionTable[handle];\n                ret[collectionId] = {};\n                products.forEach(({id: productId}) => {\n                    ret[collectionId][productId]  = true;\n                });                \n            });\n            return ret;\n        };\n\n        return this._collectionProductsHashTable = this._collectionProductsHashTable || process();\n    }\n\n    collectionHasProduct(collectionId: string,productId: string | number) {\n        const hashTable = this.getCollectionProductsHashTable();\n        return hashTable[collectionId]?.[productId];\n    }\n\n    getProductPageParamsTable() {\n        const process = () => {\n            const ret: ProductPageParamsTable = {};\n            const collectionTable = this.getCollectionTable();\n            Object.keys(collectionTable).forEach((collectionHandle) => {\n                collectionTable[collectionHandle].products.forEach(({id: productId,seo:{handle: productHandle}}) => {\n                    ret[productId] = {id: collectionHandle,product_id: productHandle};\n                });\n            });\n            return ret;\n        };\n        return this._productPageParamsTable = this._productPageParamsTable || process();\n    }\n\n    getProductPageParams(productId: string) {\n        return this.getProductPageParamsTable()[productId];\n    }\n\n    private _optionsCompiler: OptionsCompiler;\n\n    getOptionsCompiler() {\n        return this._optionsCompiler = this._optionsCompiler || new OptionsCompiler(prebuildData.getOptionsSnapshot());\n    }\n\n    async loadOnlineSnapshot(snapshotId: string,isPreview = false) {\n        if (this._snapshotAlreadyLoaded) return;\n        const url = `${serverRefs.buckets.public}${isPreview?\"/preview\":\"\"}/snapshots/${snapshotId}.json`;\n        const response = await infiniteFetch(url);\n        const snapshot = await response.json();\n\n        const addOriginalSrcToImages = (images: any) => {\n            images.forEach((image: any) => {\n                image.originalSrc = image.src;\n            });\n        };\n\n        Object.keys(snapshot.products).forEach((pid) => {\n            const { smallImages,largeImages } = snapshot.products[pid];\n            addOriginalSrcToImages(smallImages);\n            addOriginalSrcToImages(largeImages);\n        });\n        // console.log(\"snapshot\",snapshot);\n        this.loadSnapshot(snapshot);\n    }\n}\n\nexport const prebuildData = new PrebuildData();\n// export const optionsCompiler = new OptionsCompiler(prebuildData.getOptionsSnapshot());","export const util = {\n    wordCase(value: string) {\n        return value.trim().toLowerCase().replaceAll(/\\s+/g,\" \").split(\" \").map((word) => word.charAt(0).toUpperCase()+word.substring(1)).join(\" \");\n    }\n};","import { misc } from \"./misc\";\nimport { prebuildData } from \"./prebuild-data\";\n\ntype SeachTable = {\n    [fragment: string]: {[productId: string]: true};\n};\n\nexport type SearchResult = {\n    productId: string;\n    htmlCaption: string;\n    collectionHtmlCaption: string;\n};\n\nclass Search {\n    private tableBuilt = false;\n    private table: SeachTable = {};\n\n    private breakIntoWords(value: string) {\n        return value.split(\" \").filter((word) => word!==\"\");\n    }\n\n    buildTable() {\n        if (this.tableBuilt) return;\n        const productTable = prebuildData.getProductTable();\n        const ptcTable = prebuildData.getProductToCollectionTable();\n        Object.keys(productTable).forEach((productId) => {\n            const { caption,hidden } = productTable[productId];\n            if (hidden) return;\n            const collectionName = ptcTable[productId]?.collectionName || \"\";\n            this.breakIntoWords(caption.toLowerCase()+\" \"+collectionName.toLowerCase()).forEach((word) => {\n                for(let i=0;i<word.length;i++) {\n                    for(let j=i+1;j<=word.length;j++) {\n                        const fragment = word.substring(i,j);\n                        this.table[fragment] = this.table[fragment] || {};\n                        this.table[fragment][productId] = true;\n                    }\n                }\n            });\n        });\n        this.tableBuilt = true;        \n    }\n\n    search(value: string,collectionId?: string) {\n        if (value.trim()===\"\") return [];\n        this.buildTable();\n        const productTable = prebuildData.getProductTable();\n        const productHash: {[productId: string]: {[word: string]: true}} = {};\n        const valueWords = misc.removeDuplicates(this.breakIntoWords(value.toLowerCase()));\n        valueWords.forEach((word) => {\n            if (this.table[word]) {\n                Object.keys(this.table[word]).forEach((productId) => {\n                    if ((!collectionId) || (prebuildData.collectionHasProduct(collectionId,productId))) {\n                        productHash[productId] = productHash[productId] || {};\n                        productHash[productId][word] = true;                            \n                    }\n                });\n            }\n        });\n\n        const wordCountHash: {[productId: string]: number} = {};\n\n        const ret: SearchResult[] = Object.keys(productHash)\n                .filter((productId) => Object.keys(productHash[productId]).length===valueWords.length)\n                .map((productId) => {\n            const product = productTable[productId];\n            const { collectionName } = prebuildData.getProductToCollectionById(productId);\n            const words = Object.keys(productHash[productId]);\n\n            const captionToHtmlCaption = (caption: string) => {\n                const lcCaption = caption.toLowerCase();\n                const harr: boolean[] = [];\n                harr.length = caption.length+1;\n                for(let i=0;i<harr.length;i++) harr[i] = false;\n                words.forEach((word) => {\n                    let pnt = 0;\n                    while(true) {\n                        let index = lcCaption.indexOf(word,pnt);\n                        if (index===-1) break;\n                        for(let i=0;i<word.length;i++) {\n                            harr[index+i] = true;\n                        }\n                        pnt = index+word.length;\n                    }\n                });\n                let ret = \"\";\n                let open = false;\n                for(let i=0;i<harr.length;i++) {\n                    if (open) {                    \n                        if (!harr[i]) {\n                            open = false;\n                            ret+= `</span>`;\n                        }\n                        if (i<caption.length) ret+= caption.charAt(i);\n                    }\n                    else {\n                        if (harr[i]) {\n                            open = true;\n                            ret+= `<span class=\"highlight\">`;\n                        }\n                        if (i<caption.length) ret+= caption.charAt(i);\n                    }\n                }\n                return ret;\n            };\n\n            const { caption } = product;\n            const htmlCaption = captionToHtmlCaption(caption);\n            const collectionHtmlCaption = captionToHtmlCaption(collectionName);\n            wordCountHash[productId] = words.length;\n            return {\n                productId,\n                htmlCaption,\n                collectionHtmlCaption\n            };\n        });\n\n        ret.sort((_a,_b) => {\n            const a = wordCountHash[_a.productId.toString()];\n            const b = wordCountHash[_b.productId.toString()];\n            if (a<b) return 1;\n            if (a>b) return -1;\n            return 0;\n        });\n\n        return ret;\n    }\n}\n\nexport const libSearch = new Search();","import { useEffect, useRef, useState } from \"react\";\nimport { CollectionsGridNoItems } from \"../../../components/pages/collection/grid/no-items\";\nimport { OptionsCompiler } from \"../../shared/options/snapshot/compiler\";\nimport { DiscountBreakdown, prebuildData } from \"../../prebuild-data\";\nimport { ActivatedOptionsMap, CartItem, CartItemDisplay, CartItemOptionValues, CartItemOptionValuesArray, CartItemPropertyGroupDisplay, OptionValue, OptionValueButton, OptionValueCheckboxGroup, OptionValueProductSelect, OptionValueSelect } from \"./types\";\nimport { PriceItem } from \"../../shared/options/types\";\nimport { checkoutLineItemsAdd, createCheckout, LineItem, splitObject } from \"../../api/storefront\";\nimport { NextRequest } from \"next/server\";\nimport { cloneSimpleData, isSimpleObject } from \"../../shared/options/snapshot/misc\";\nimport { misc } from \"../../misc\";\nimport { lstore } from \"../../localstorage\";\nimport { useRouter } from \"next/router\";\nimport { EditOrderCartItem, EditOrderOrder } from \"../../api/editorder\";\nimport { apiSalesSignature } from \"../../api/sales_signature\";\nimport { Account } from \"../../../hooks/use_account\";\nimport { miscShared } from \"../../shared/lib/misc\";\nimport { OptionSnapshotProductVariantSignature } from \"../../shared/options/snapshot/types\";\n\nexport type VariantPriceContribution = {[variantId: string]: {price: number; fromQuantity: number}};\n\nconst _generateCartItemPropertiesCache: {[digest: string]: { \n    price: number; \n    priceBeyondFirst: number; \n    properties: CartItemPropertyGroupDisplay[];\n    imageSrc: string;\n    originalSrc: string;\n    variantPriceContribution: VariantPriceContribution;\n    variantPriceContributionBeyondFirst: VariantPriceContribution;\n    variantId: string;\n\n}} = {};\n\nexport const dollarPriceToCentPrice = (value: number) => Math.round(value*100);\n\nexport const infoAttributesToDisplayString = (infoAttributes: InfoAttributes) => {\n    const itemSep = \"+/0/+\";\n    const infoSep = \"+/1/+\";\n    const propertySep = \"+/2/+\";\n    const titleSep = \"+/3/+\";\n    const linesSep = \"+/4/+\";    \n    return infoAttributes.items.map(({title,thumbSrc,price,quantity,properties}) => {\n        return [\n            title,\n            thumbSrc,\n            price,\n            quantity,\n            properties.map(({title,lines}) => `${title}${titleSep}${lines.join(linesSep)}`).join(propertySep)\n        ].join(infoSep);\n    }).join(itemSep);\n};\n\ntype PackingSlipTitlePartColor = \"black\" | \"green\" | \"yellow\" | \"blue\" | \"red\";\n\ntype PackingSlipTitlePart = {\n    color: PackingSlipTitlePartColor;\n    text: string;\n};\n\ntype PackingSlipTitle = PackingSlipTitlePart[];\n\ntype PackingSlipItemPart = {\n    title: PackingSlipTitle;\n    thumbSrc: string;\n    dodgerLines: string[];\n    blueLines: string[];\n    blackLines: string[];\n    quantity: number;\n};\n\nconst packingSlipTitlePartToString = ({color,text}: PackingSlipTitlePart) => {\n    const titlePartSep = \"+/3/+\";\n    return [color,text].join(titlePartSep);\n};\n\n\nconst packingSlipTitleToString = (title: PackingSlipTitle) => {\n    const titleSep = \"+/2/+\";\n    return title.map(packingSlipTitlePartToString).join(titleSep);\n};\n\n\nconst packingSlipPartToString = ({title,thumbSrc,quantity,dodgerLines,blueLines,blackLines}: PackingSlipItemPart) => {\n    const infoSep = \"+/1/+\";\n    const dodgerLineSep = \"+/4/+\";\n    const blueLineSep = \"+/5/+\";\n    const blackLineSep = \"+/6/+\";\n    return [\n        packingSlipTitleToString(title),\n        thumbSrc,\n        quantity,\n        dodgerLines.join(dodgerLineSep),\n        blueLines.join(blueLineSep),\n        blackLines.join(blackLineSep)\n    ].join(infoSep);\n};\n\nconst packingSlipPartsToString = (itemParts: PackingSlipItemPart[]) => {\n    const itemSep = \"+/0/+\";\n    return itemParts.map(packingSlipPartToString).join(itemSep);\n};\n\nexport const genPackslipAttributeString = (cartItems: CartItem[]) => {\n    const optionsCompiler = prebuildData.getOptionsCompiler();\n\n    const getBlackLinesFromAddons = (optionValues: CartItemOptionValues) => {\n        const blackLines: string[] = [];\n\n        const addonsOption = optionValues[\"addons\"];\n        const extraFlavoringOption = optionValues[\"extraFlavoring\"];\n        const extraCoolOption = optionValues[\"extraCool\"];            \n\n        if ((addonsOption) && (addonsOption.type===\"checkbox-group\") && (addonsOption.ids.length>0)) {\n            const idToString = (id: string) => {\n                const map = {\n                    sour: \"+Sour (Malic)\",\n                    cool: \"+Cool (Menthol)\",\n                    sweet: \"+Sweet (Sucralose)\"\n                };\n                return map[id];\n            };\n            blackLines.push(addonsOption.ids.map(idToString).join(\", \"));\n        }            \n\n        if ((extraFlavoringOption) && (extraFlavoringOption.type===\"select\") && (extraFlavoringOption.id!==\"none\")) {\n            blackLines.push(`+${extraFlavoringOption.id.substring(4)}% Flavor`);\n        }\n\n        if ((extraCoolOption) && (extraCoolOption.type===\"select\") && (extraCoolOption.id!==\"none\")) {\n            blackLines.push(`+${extraCoolOption.id.charAt(0).toUpperCase()}${extraCoolOption.id.substring(1)} Menthol Shot`);\n        }\n\n        return blackLines;\n    };\n\n    const aliases: string[] = [\n        \"agentCool\",\n        \"sweetener\",\n        \"originalCaliburnReplacementPods\",\n        \"caliburnA2ReplacementPods\",\n        \"whiteCaliburnA2Device\",\n        \"caliburnA2Device\",\n        \"usbCCable\",\n        \"caliburnA2StarterBundle\",\n        \"mysteryFlavor\",\n        \"buildYourOwnPack\",\n        \"essentialSaltsPack\",\n        \"starterSaltsPack\"];\n    const aliasedProductIds: {[alias: string]: string} = {};\n    const whiteDeviceColorId = \"specialEditionWhite\";\n    aliases.forEach((alias) => {\n        aliasedProductIds[alias] = prebuildData.getProductAliasStub(alias).id;;\n    });\n\n    let agentCoolQuantity = 0;\n    let sweetenerQuantity = 0;\n    let usbCableQuantity = 0;\n    const itemParts: PackingSlipItemPart[] = [];\n    const salts: { [productId: string]: { [nicotineId: string]: number } } = {};\n    const pods: { [productId: string]: { [resistanceId: string]: number } } = {};\n    const devices: { [colorId: string]: number } = {};\n\n    const addSimpleItem = (productId: string,title: string,quantity: number,slideshowMatch?: string) => {\n        const thumbImage = prebuildData.getProductSmallImageSlideShowMatch(productId,slideshowMatch);\n        if (thumbImage) {\n            const { originalSrc: thumbSrc } = thumbImage;\n            itemParts.push({\n                title: [{color: \"black\",text: title}],\n                thumbSrc,\n                quantity,\n                dodgerLines: [],\n                blueLines: [],\n                blackLines: []\n            });    \n        }\n    };\n\n    const addNonCustomSalt = (productId: string,nicotineId: string,quantity: number) => {\n        if ([\"mg15\",\"mg30\",\"mg50\"].includes(nicotineId)) {\n            salts[productId] = salts[productId] || {};\n            salts[productId][nicotineId] = salts[productId][nicotineId] || 0;\n            salts[productId][nicotineId]+= quantity;    \n        }\n    };\n\n    const addReplacementPod = (productId: string,resistanceId: string,quantity: number) => {\n        if ([\"ohm09\",\"ohm14\",\"ohm12\"].includes(resistanceId)) {\n            pods[productId] = pods[productId] || {};\n            pods[productId][resistanceId] = pods[productId][resistanceId] || 0;\n            pods[productId][resistanceId]+= quantity;    \n        }\n    };\n\n    const extractReplacementPods = (optionValues: CartItemOptionValues,quantity: number) => {\n        const replacementPodsOption = optionValues[\"replacementPods\"];\n        if (replacementPodsOption?.type===\"variant-select\") {\n            const { id,quantity: podQuantity } = replacementPodsOption;\n            const { title,productId } = prebuildData.getVariantStub(id);\n            const resistanceId = `ohm${title.substring(0,title.length-1).split(\".\").join(\"\")}`;\n            addReplacementPod(productId,resistanceId,quantity*podQuantity);\n        }\n    };\n\n    const extractUsbCable = (optionValues: CartItemOptionValues,quantity: number) => {\n        const usbCCableOption = optionValues[\"usbCCable\"];\n        if (usbCCableOption?.type===\"checkbox\") {\n            usbCableQuantity+= quantity;\n        }\n    };\n\n    const extractColorInfo = (optionValues: CartItemOptionValues,productId: string,itemId = \"color\") => {  \n        const colorOption = optionValues[itemId];\n        const colorOptionRef = optionsCompiler.getProductOptions(productId).options.filter(({id}) => id===itemId)[0];\n        if ((colorOption?.type===\"buttons\") && (colorOptionRef?.type===\"buttons\")) {\n            const colorItemRef = colorOptionRef.items.filter(({id}) => id===colorOption.id)[0];\n            if (colorItemRef) {\n                const { caption: colorCaption,slideshowMatch: colorSlideshowMatch } = colorItemRef;\n                const colorId = colorOption.id;\n                return {\n                    colorId,\n                    colorCaption,\n                    colorSlideshowMatch\n                };\n            }\n        }\n        return null;\n    };\n\n    const colorCode: {[id: string]: PackingSlipTitlePart} = {\n        mg15: {color: \"yellow\",text: \"15mg\"},\n        mg30: {color: \"blue\",text: \"30mg\"},\n        mg50: {color: \"red\",text: \"50mg (FIFTY)\"},\n        custom: {color: \"green\",text: \"custom\"}\n    };\n\n    const extractNicotineInfo = (optionValues: CartItemOptionValues) => {\n        const nicotineOption = optionValues[\"nicotine\"];\n        if (nicotineOption?.type===\"buttons\") {\n            const titlePart = colorCode[nicotineOption.id];\n            const customLine = (nicotineOption.id===\"custom\")?`Nicotine ${nicotineOption.value}`:\"\";\n            return {titlePart,customLine};\n        }\n        return null;\n    };\n\n    const extractFlavorBlackLines = (optionValues: CartItemOptionValues) => {\n        const flavorsOption = optionValues[\"flavors\"];\n        if (flavorsOption?.type===\"product-select\") {\n            return flavorsOption.ids.map((productId) => prebuildData.getProductById(productId).caption);\n        }\n        return [];\n    };\n\n    const extractAddonProducts = (optionValues: CartItemOptionValues,quantity: number) => {\n        const agentCoolOption = optionValues[\"agentCool\"];\n        const sweetenerOption = optionValues[\"sweetener\"];\n        if (agentCoolOption?.type===\"checkbox\") agentCoolQuantity+= quantity;\n        if (sweetenerOption?.type===\"checkbox\") sweetenerQuantity+= quantity;\n    };\n\n    const extractPodPacksInfo = (productId: string,optionValues: CartItemOptionValues,quantity: number) => {\n        const podPackOptionRef = optionsCompiler.getProductOptions(productId).options.filter(({id}) => id===\"podPack\")[0];\n        const podPackOption = optionValues[\"podPack\"];\n        if ((podPackOptionRef?.type===\"buttons\") && (podPackOption?.type===\"buttons\")) {\n            const podPackId = podPackOption.id;\n            const podPackQuantity = podPackOption.quantity || 1;\n            if ((podPackQuantity>1) && (podPackOptionRef.link)) {\n                const variantId: string = prebuildData.extractVariantsFromLink(productId,optionValues,podPackId,podPackOptionRef.link)?.[0]?.id || \"\";\n                if (variantId) {\n                    const { title,productId } = prebuildData.getVariantStub(variantId);\n                    const resistanceId = `ohm${title.substring(0,title.length-1).split(\".\").join(\"\")}`;\n                    addReplacementPod(productId,resistanceId,quantity*(podPackQuantity-1));        \n                }\n            }            \n            const podPackCaption = `(${podPackId.substring(0,2).toUpperCase()}) ${podPackId.substring(6).split(\"\").join(\".\")} ohm`;\n            return {\n                podPackId,\n                podPackQuantity,\n                podPackCaption\n            };            \n        }\n        return null;\n    };\n\n    const extractFlavorPackInfo = (productId: string,optionValues: CartItemOptionValues) => {\n        const flavorPackOptionRef = optionsCompiler.getProductOptions(productId).options.filter(({id}) => id===\"flavorPack\")[0];\n        const flavorPackOption = optionValues[\"flavorPack\"];\n        if ((flavorPackOptionRef?.type===\"buttons\") && (flavorPackOption?.type===\"buttons\")) {\n            const flavorPackId = flavorPackOption.id;\n            const flavorPackItemRef = flavorPackOptionRef.items.filter(({id}) => id===flavorPackId)[0];\n            if (flavorPackItemRef) {\n                const { caption: flavorPackCaption } = flavorPackItemRef;\n                const flavors: string[] = [];\n                if (flavorPackOptionRef.link) {                \n                    flavors.push(...prebuildData.extractVariantsFromLink(productId,optionValues,flavorPackId,flavorPackOptionRef.link).map(({id}) => {\n                        return prebuildData.getProductById(prebuildData.getVariantStub(id).productId).caption;\n                    }));\n                }\n                return { flavorPackId,flavorPackCaption,flavors };    \n            }            \n        }\n        return null;\n    };\n\n    const extractBonusFlavor = (optionValues: CartItemOptionValues) => {\n        const bonusFlavorOption = optionValues[\"bonusFlavor\"];\n        if (bonusFlavorOption?.type===\"product-select\") {\n            const product = prebuildData.getProductById(bonusFlavorOption.ids[0] || \"\");\n            if (product) {\n                const bonusFlavorCaption = product.caption;\n                return { bonusFlavorCaption };                \n            }\n        }\n        return null;\n    };\n\n    const customTitlePart: PackingSlipTitlePart = {color: \"green\",text: \"custom\"};\n    const sepTitlePart: PackingSlipTitlePart = {color: \"black\",text: \" / \"};\n\n    cartItems.forEach(({productId,optionValues,quantity}) => {        \n        const { collectionId,collectionName } = prebuildData.getProductToCollectionById(productId);\n        const { caption,smallImages } = prebuildData.getProductById(productId);\n        const thumbSrc = smallImages[0].originalSrc;\n        if ((collectionId===\"handcrafted-salts\") || ((collectionId===\"retired-products\") && (caption.endsWith(\" Salt\")))) {\n            const nicotineOption = optionValues[\"nicotine\"];\n            if ((collectionId===\"handcrafted-salts\") && (nicotineOption?.type===\"buttons\") && (nicotineOption?.id!==\"custom\")) {\n                addNonCustomSalt(productId,nicotineOption?.id,quantity);\n            }\n            else {\n                const title: PackingSlipTitle = [\n                    {color: \"black\",text: `${caption} - `},\n                ];            \n                const dodgerLines: string[] = [collectionName];\n                const blackLines: string[] = getBlackLinesFromAddons(optionValues);\n                    \n                const sizeOption = optionValues[\"size\"];\n\n                const nicotineInfo = extractNicotineInfo(optionValues);\n                if (nicotineInfo) {\n                    const { titlePart,customLine } = nicotineInfo\n                    title.push(titlePart);\n                    if (customLine!==\"\") dodgerLines.push(customLine);\n                }\n    \n                if (sizeOption?.type===\"buttons\") {\n                    const sizeValue = parseInt(sizeOption.id.substring(2));\n                    const infoMap = {\n                        \"30\": \"(small)\",\n                        \"60\": \"(medium)\",\n                        \"120\": \"(value)\"\n                    };\n                    title.push(sepTitlePart);\n                    title.push({color: \"black\",text: `${sizeValue}ml ${infoMap[sizeValue]}`});\n                }\n\n                extractAddonProducts(optionValues,quantity);\n    \n                itemParts.push({\n                    title,\n                    thumbSrc,\n                    quantity,\n                    dodgerLines,\n                    blueLines: [],\n                    blackLines\n                });    \n            }\n        }\n        else if ((collectionId===\"signature-e-juice\") || ((collectionId===\"retired-products\") && (!caption.endsWith(\" Salt\")))) {\n            const title: PackingSlipTitle = [\n                {color: \"black\",text: `${caption} - `},\n            ];\n            const blueLines: string[] = [collectionName];\n            const blackLines: string[] = getBlackLinesFromAddons(optionValues);\n            const nicotineOption = optionValues[\"nicotine\"];\n            const vgOption = optionValues[\"vg\"];\n            const sizeOption = optionValues[\"size\"];\n            \n            if (nicotineOption.type===\"buttons\") {\n                if (nicotineOption.id===\"custom\") {                    \n                    title.push(customTitlePart);     \n                    blueLines.push(`Nicotine ${nicotineOption.value}`);           \n                }\n                else {\n                    title.push({color: \"black\",text: `${nicotineOption.id.substring(2)}mg`});\n                }                \n            }\n            title.push(sepTitlePart);                                                \n            if (vgOption.type===\"buttons\") {\n                if (vgOption.id===\"custom\") {                    \n                    title.push(customTitlePart);                \n                    blueLines.push(`VG ${vgOption.value}`);           \n                }\n                else {\n                    const vgValue = parseInt(vgOption.id.substring(2));\n                    title.push({color: \"black\",text: `${vgValue}VG/${100-vgValue}PG`});\n                }                \n            }\n            title.push(sepTitlePart);\n            if (sizeOption.type===\"buttons\") {\n                const sizeValue = parseInt(sizeOption.id.substring(2));\n                const infoMap = {\n                    \"30\": \"(small)\",\n                    \"60\": \"(medium)\",\n                    \"120\": \"(value)\"\n                };\n                title.push({color: \"black\",text: `${sizeValue}ml ${infoMap[sizeValue]}`});\n            }\n\n            itemParts.push({\n                title,\n                thumbSrc,\n                quantity,\n                dodgerLines: [],\n                blueLines,\n                blackLines\n            });\n        }                \n        else if (productId===aliasedProductIds[\"agentCool\"]) {\n            const sizeOption = optionValues[\"size\"];\n            if (sizeOption?.type===\"buttons\") {\n                if (sizeOption.id===\"ml15\") {\n                    agentCoolQuantity+= quantity;\n                }\n                else {\n                    addSimpleItem(aliasedProductIds[\"agentCool\"],\"Agent Cool - 60ml (bulk) Super Concentrate\",quantity);\n                }\n            }\n        }\n        else if (productId===aliasedProductIds[\"sweetener\"]) {\n            sweetenerQuantity+= quantity;\n        }\n        else if ((productId===aliasedProductIds[\"originalCaliburnReplacementPods\"]) || (productId===aliasedProductIds[\"caliburnA2ReplacementPods\"])) {\n            const resistanceOption = optionValues[\"resistance\"];\n            const dealOption = optionValues[\"deal\"];\n            if (resistanceOption?.type===\"buttons\") {\n                addReplacementPod(productId,resistanceOption.id,quantity);\n            }\n            if ((dealOption?.type===\"variant-select\") && (dealOption?.id)) {\n                const variantStub = prebuildData.getVariantStub(dealOption?.id);\n                if (variantStub) {\n                    const nicotineId = `mg${variantStub.title}`;\n                    addNonCustomSalt(variantStub.productId,nicotineId,1);\n                }\n            }\n        }\n        else if (productId===aliasedProductIds[\"whiteCaliburnA2Device\"]) {\n            devices[whiteDeviceColorId] = devices[whiteDeviceColorId] || 0;\n            devices[whiteDeviceColorId]+= quantity;\n            extractReplacementPods(optionValues,quantity);\n            extractUsbCable(optionValues,quantity);\n        }\n        else if (productId===aliasedProductIds[\"caliburnA2Device\"]) {\n            const colorInfo = extractColorInfo(optionValues,productId);\n            if (colorInfo) {\n                const { colorId } = colorInfo;\n                devices[colorId] = devices[colorId] || 0;\n                devices[colorId]+= quantity;\n                extractReplacementPods(optionValues,quantity);\n                extractUsbCable(optionValues,quantity);        \n            }\n        }\n        else if ((productId===aliasedProductIds[\"caliburnA2StarterBundle\"]) || (productId===aliasedProductIds[\"buildYourOwnPack\"])) {\n            const isCaliburnBundle = (productId===aliasedProductIds[\"caliburnA2StarterBundle\"]);\n            const colorInfo = extractColorInfo(optionValues,productId,isCaliburnBundle?\"color\":\"caliburnA2DeviceKit\");\n            if (colorInfo) {\n                const { colorId,colorCaption,colorSlideshowMatch } = colorInfo;\n                const nicotineInfo = extractNicotineInfo(optionValues);\n                if (nicotineInfo) {\n                    const { titlePart,customLine } = nicotineInfo;\n                    const title: PackingSlipTitle = [\n                        {color: \"black\",text: `${caption}${isCaliburnBundle?` - ${colorCaption}`:\"\"} / `},\n                        titlePart\n                    ];\n                    const dodgerLines: string[] = customLine?[customLine]:[];\n                    const blackLines: string[] = extractFlavorBlackLines(optionValues);\n                    const mysteryFlavorVariantCaption = optionsCompiler.getProductOptions(aliasedProductIds[\"mysteryFlavor\"]).vars[\"variantCaption\"] || \"\";\n                    blackLines.push(`Mystery Flavor${mysteryFlavorVariantCaption?` - ${mysteryFlavorVariantCaption}`:\"\"}`);\n\n                    const thumbImage = prebuildData.getProductSmallImageSlideShowMatch(productId,isCaliburnBundle?colorSlideshowMatch:undefined);\n                    if (thumbImage) {\n                        const { originalSrc: thumbSrc } = thumbImage;\n\n                        itemParts.push({\n                            title,\n                            thumbSrc,\n                            quantity,\n                            dodgerLines,\n                            blueLines: [],\n                            blackLines\n                        }); \n                        \n                        extractReplacementPods(optionValues,quantity);\n                        extractUsbCable(optionValues,quantity);\n                        extractAddonProducts(optionValues,quantity);\n\n                        if ((!isCaliburnBundle) && (colorId!==\"none\")) {\n                            devices[colorId] = devices[colorId] || 0;\n                            devices[colorId]+= quantity;\n                        }\n                    }\n                }\n            }\n        }\n        else if ((productId===aliasedProductIds[\"starterSaltsPack\"]) || (productId===aliasedProductIds[\"essentialSaltsPack\"])) {\n            const isStarterPack = (productId===aliasedProductIds[\"starterSaltsPack\"]);\n            const nicotineInfo = extractNicotineInfo(optionValues);\n            const podPacksInfo = extractPodPacksInfo(productId,optionValues,quantity);\n            const flavorPackInfo = extractFlavorPackInfo(productId,optionValues);\n            if ((nicotineInfo) && (podPacksInfo) && (flavorPackInfo)) {\n                const { titlePart: nicotineTitlePart,customLine: nicotineCustomLine } = nicotineInfo;\n                const { podPackCaption } = podPacksInfo;\n                const { flavorPackCaption,flavors } = flavorPackInfo;\n                const title: PackingSlipTitle = [\n                    {color: \"black\",text: `${caption} - `},\n                    nicotineTitlePart,\n                    {color: \"black\",text: ` / ${podPackCaption} / ${flavorPackCaption}`}\n                ];\n                const dodgerLines: string[] = [isStarterPack?\"(3) Salts + Pod Pack +\":\"(6) Salts + Pod Pack +\"];\n                if (nicotineCustomLine) dodgerLines.push(nicotineCustomLine);\n                const blackLines: string[] = flavors;\n\n                const extractBonusInfo = extractBonusFlavor(optionValues);\n                if (extractBonusInfo) {\n                    const { bonusFlavorCaption } = extractBonusInfo;\n                    blackLines.push(`[bold]${bonusFlavorCaption}`);                        \n                }\n\n                const mysteryFlavorVariantCaption = optionsCompiler.getProductOptions(aliasedProductIds[\"mysteryFlavor\"]).vars[\"variantCaption\"] || \"\";\n                blackLines.push(`Mystery Flavor${mysteryFlavorVariantCaption?` - ${mysteryFlavorVariantCaption}`:\"\"}`);\n\n                itemParts.push({\n                    title,\n                    thumbSrc,\n                    quantity,\n                    dodgerLines,\n                    blueLines: [],\n                    blackLines\n                }); \n\n                extractAddonProducts(optionValues,quantity);\n\n                const colorInfo = extractColorInfo(optionValues,productId,\"caliburnA2DeviceKit\");\n                if ((colorInfo) && (colorInfo.colorId!==\"none\")) {\n                    devices[colorInfo.colorId] = devices[colorInfo.colorId] || 0;\n                    devices[colorInfo.colorId]+= quantity;\n                }\n            }\n        }\n    });\n    Object.keys(salts).forEach((productId) => {\n        const { collectionName } = prebuildData.getProductToCollectionById(productId);\n        const { caption,smallImages } = prebuildData.getProductById(productId);\n        const thumbSrc = smallImages[0].originalSrc;        \n        Object.keys(salts[productId]).forEach((nicotineId) => {\n            const quantity = salts[productId][nicotineId];            \n            const title: PackingSlipTitle = [\n                {color: \"black\",text: `${caption} - `},\n                colorCode[nicotineId]\n            ];         \n            const dodgerLines: string[] = [collectionName];\n\n            itemParts.push({\n                title,\n                thumbSrc,\n                quantity,\n                dodgerLines,\n                blueLines: [],\n                blackLines: []\n            });    \n        });\n    });\n    const deviceCaption = prebuildData.getProductById(aliasedProductIds[\"caliburnA2Device\"]).caption;\n    const whiteDeviceCaption = prebuildData.getProductById(aliasedProductIds[\"whiteCaliburnA2Device\"]).caption;\n    Object.keys(devices).forEach((colorId) => {\n        const quantity = devices[colorId];\n        const colorInfo = extractColorInfo({\n            color: {\n                type: \"buttons\",\n                id: colorId\n            }\n        },aliasedProductIds[\"caliburnA2Device\"],\"color\");\n        if (colorInfo) {\n            const { colorCaption,colorSlideshowMatch } = colorInfo;            \n            addSimpleItem(aliasedProductIds[\"caliburnA2Device\"],(colorId===whiteDeviceColorId)?whiteDeviceCaption:`${deviceCaption} - ${colorCaption}`,quantity,colorSlideshowMatch);\n        }\n    });\n    Object.keys(pods).forEach((productId) => {\n        const { caption } = prebuildData.getProductById(productId);\n        Object.keys(pods[productId]).forEach((resistanceId) => {\n            const quantity = pods[productId][resistanceId];\n            addSimpleItem(productId,`${caption} - ${resistanceId.substring(3).split(\"\").join(\".\")}`,quantity);\n        });\n    });\n    if (agentCoolQuantity>0) {\n        addSimpleItem(aliasedProductIds[\"agentCool\"],\"Agent Cool Super Concentrate\",agentCoolQuantity);\n    }\n    if (sweetenerQuantity>0) {\n        addSimpleItem(aliasedProductIds[\"sweetener\"],\"Sweetener Super Concentrate\",sweetenerQuantity);\n    }\n    if (usbCableQuantity>0) {\n        addSimpleItem(aliasedProductIds[\"usbCCable\"],\"USB-C Cable Charging Cable\",usbCableQuantity);\n    }\n    \n    return packingSlipPartsToString(itemParts);\n};\n\nexport type InfoAttributesItem = {\n    thumbSrc: string;\n    price: number;\n    quantity: number;\n    title: string;\n    properties: CartItemPropertyGroupDisplay[];\n    productId: string;\n    options: CartItemOptionValues;\n    collection: {\n        id: string;\n        name: string;\n    };\n    freeProduct: boolean;\n};\nexport type InfoAttributes = {\n    cartUrl: string;\n    items: InfoAttributesItem[];\n};\nexport type CheckoutData = {\n    subtotal: number;\n    infoAttributes: InfoAttributes;\n    variantLinksQuantityHash: {\n        [variantId: string]: {\n            [attrJson: string]: number\n        };\n    },\n    snapshotId: string;\n};\n\nexport const generateCartItemInitialOptionValues = (productId: string) => {\n    const optionsCompiler = prebuildData.getOptionsCompiler();\n\n    const ret: CartItemOptionValues = {};\n    const productOptions = optionsCompiler.getProductOptions(productId);\n    productOptions.options.forEach((option) => {\n        if (option.type===\"buttons\") {\n            const value: OptionValueButton = {\n                type: \"buttons\",\n                id: \"\"\n            };\n            let preSelected = false;\n            let selectedIndex = 0;\n            for(let i=0;i<option.items.length;i++) {\n                if (option.items[i].selected) {\n                    selectedIndex = i;\n                    preSelected = true;\n                    break;\n                }\n            }\n            if (!isSimpleObject(option.items[selectedIndex].value)) {\n                value.id = option.items[selectedIndex].id;                \n                ret[option.id] = {...value,...(preSelected?{}:{defaultSet: true})};\n            }\n        }\n        else if (option.type===\"select\") {            \n            const value: OptionValueSelect = {\n                type: \"select\",\n                id: option.items[0].id\n            };\n            ret[option.id] = {...value,defaultSet: true};\n        }\n        else if ((option.type===\"checkbox\") && (option.included)) {\n            ret[option.id] = {\n                type: \"checkbox\"\n            };\n        }            \n    });\n    return ret;\n};\n\nexport const getSimpleOptionPrice = (productId: string,optionId: string) => {\n    const optionsCompiler = prebuildData.getOptionsCompiler();\n\n    const price = (() => {\n        const productOptions = optionsCompiler.getProductOptions(productId);\n        const option = productOptions.options.filter(({id}) => id===optionId)[0];\n        if ((option) && (option.type===\"checkbox\") && (option.cartLink)) {\n            const variant = prebuildData.extractVariantsFromLink(productId,{},optionId,option.cartLink)[0];\n            return dollarPriceToCentPrice(variant?.price || 0);\n        }\n        else if ((option) && (option.type===\"buttons\") && (option.cartLink)) {\n            for(let i=0;i<option.items.length;i++) {\n                const variant = prebuildData.extractVariantsFromLink(productId,{},option.items[i].id,option.cartLink)[0];\n                if (variant) {\n                    return dollarPriceToCentPrice(variant.price || 0);\n                }                \n            }\n            return 0;\n        }\n        else {\n            if (productOptions) {\n                if (typeof productOptions.price[optionId]===\"number\") {\n                    return dollarPriceToCentPrice(productOptions.price[optionId] as number);\n                }\n                else if (typeof productOptions.price[optionId]===\"string\") {\n                    let priceFunctionCode = productOptions.price[optionId] as string;\n                    if (priceFunctionCode.startsWith(\"price.\")) {\n                        priceFunctionCode = `({price}) => ${priceFunctionCode}`;\n                    }\n                    const globalPriceObj = prebuildData.getGlobalConfig().vars.price || {};\n                    const fnPrice = prebuildData.evalInContext(priceFunctionCode);\n                    return dollarPriceToCentPrice(fnPrice({price: globalPriceObj}));\n        \n                }\n                else {\n                    return 0;    \n                }\n            }\n            else {\n                return 0;\n            }        \n        }\n    })();\n    return prebuildData.getProductPageDiscountedPrice(productId,price).price;\n};\n\nexport const generateCartItemPriceProperties = (item: CartItem,{enforceLimitOnePerOrder = false,hasMoreThanOneItem = false,ignoreUuid = \"\"}: {enforceLimitOnePerOrder?: boolean; hasMoreThanOneItem?: boolean,ignoreUuid?: string} = {}) => {\n    const optionsCompiler = prebuildData.getOptionsCompiler();\n\n    const digest = `${item.uuid}-${item.version}-${hasMoreThanOneItem}`;\n\n    const process = () => {\n        item.activatedOptionsMap = {};\n        const { activatedOptionsMap } = item;\n        const productOptions = optionsCompiler.getProductOptions(item.productId);\n        const itemProduct = prebuildData.getProductById(item.productId);\n        let imageSrc = itemProduct.smallImages[0].src;\n        let originalSrc = itemProduct.smallImages[0].originalSrc;\n        const indexHash: {[id: string]: number} = {};\n\n        type DeterminePriceResult = {\n            priceAddedHash: {[id: string]: true};\n            price: number;\n            priceBeyondFirst: number;\n        };\n\n        const determinePrice = (optionId: string,fnParam: any,itemId?: string,multi = 1,tryParentIfNoChild = false,limitOnePerOrder = false): DeterminePriceResult => {\n            let ret: DeterminePriceResult = { priceAddedHash: {},price: 0,priceBeyondFirst: 0};\n            // if (item.freeProduct) return ret;\n            if (productOptions.price.hasOwnProperty(optionId)) {\n                if (itemId) {\n                    let added = false;\n                    if (productOptions.price[optionId].hasOwnProperty(itemId)) {\n                        if (typeof productOptions.price[optionId][itemId]===\"number\") {\n                            const delta = dollarPriceToCentPrice(productOptions.price[optionId][itemId])*multi;\n                            ret.price+= delta;\n                            if (!limitOnePerOrder) ret.priceBeyondFirst+= delta;\n                            added = true;\n                        }\n                        else if (typeof productOptions.price[optionId][itemId]===\"string\") {\n                            let priceFunctionCode = productOptions.price[optionId][itemId] as string;                            \n                            if (priceFunctionCode.startsWith(\"price.\")) {\n                                priceFunctionCode = `({price}) => ${priceFunctionCode}`;\n                            }\n                            const fnPrice = prebuildData.evalInContext(priceFunctionCode);\n                            const globalPriceObj = prebuildData.getGlobalConfig().vars.price || {};\n                            const _fnParam = isSimpleObject(fnParam)?{...fnParam,price: globalPriceObj}:{price: globalPriceObj};\n                            const delta = dollarPriceToCentPrice(fnPrice(_fnParam))*multi;\n                            ret.price+= delta;\n                            if (!limitOnePerOrder) ret.priceBeyondFirst+= delta;\n                            added = true;\n                        }                        \n                    }\n                    if ((tryParentIfNoChild) && (!added)) {\n                        ret = determinePrice(optionId,fnParam,undefined,multi,false,limitOnePerOrder);\n                    }\n                }\n                else if (typeof productOptions.price[optionId]===\"number\") {\n                    const combinedPriceAddedHash = {...priceAddedHash,...ret.priceAddedHash};\n                    if (!combinedPriceAddedHash[optionId]) {\n                        const delta = dollarPriceToCentPrice(productOptions.price[optionId] as number)*multi;\n                        ret.price+= delta;\n                        if (!limitOnePerOrder) ret.priceBeyondFirst+= delta;\n                        ret.priceAddedHash[optionId] = true;\n                    }                    \n                }\n                else if (typeof productOptions.price[optionId]===\"string\") {\n                    let priceFunctionCode = productOptions.price[optionId] as string;\n                    if (priceFunctionCode.startsWith(\"price.\")) {\n                        priceFunctionCode = `({price}) => ${priceFunctionCode}`;\n                    }\n                    const fnPrice = prebuildData.evalInContext(priceFunctionCode);\n                    const globalPriceObj = prebuildData.getGlobalConfig().vars.price || {};\n                    const _fnParam = isSimpleObject(fnParam)?{...fnParam,price: globalPriceObj}:{price: globalPriceObj};\n                    const delta = dollarPriceToCentPrice(fnPrice(_fnParam))*multi;\n                    ret.price+= delta;\n                    if (!limitOnePerOrder) ret.priceBeyondFirst+= delta;\n                }\n            }\n            return ret;\n        };\n\n        // let price = item.freeProduct?0:(dollarPriceToCentPrice((typeof productOptions.price.base===\"number\")?productOptions.price.base:0));\n        // let price = (dollarPriceToCentPrice((typeof productOptions.price.base===\"number\")?productOptions.price.base:0));\n        let price = determinePrice(\"base\",{}).price;\n        let priceBeyondFirst = price;        \n\n        let properties = productOptions.display.map(({id,caption},index) => {\n            const ret: CartItemPropertyGroupDisplay = {\n                title: caption,\n                lines: []\n            };\n            indexHash[id] = index;\n            return ret;\n        });\n\n        let priceAddedHash: {[id: string]: true} = {};\n\n        let variantPriceContribution: VariantPriceContribution = {};\n        let variantPriceContributionBeyondFirst: VariantPriceContribution = {};\n\n        const breakdown = cart.getVariantLinkBreakdownForItem(item,{ignoreActivatedOptionsMap: true,ignoreQuantity: true});\n        const breakdownNew = cart.getVariantLinkBreakdownForItemNew(item,{ignoreActivatedOptionsMap: true,ignoreQuantity: true});\n        const variantId = Object.keys(breakdownNew[\":variant\"] || {})[0] || \"\";\n\n        const transferBreakdownToSingleContribution = (optionId: string,price: number,contribution: typeof variantPriceContribution,quantityPricingOverOne = false) => {\n            const vb = (() => {\n                if (optionId===\":link:variant\") {\n                    const ret: {[variantId: string]: number} = {};\n                    const add = (hash?: {[variantId: string]: number}) => {\n                        if (hash) {\n                            Object.keys(hash).forEach((variantId) => {\n                                ret[variantId] = ret[variantId] || 0;\n                                ret[variantId]+= hash[variantId];\n                            });\n                        }\n                    };\n                    add(breakdown[\":link\"]);\n                    add(breakdown[\":variant\"]);\n                    return ret;\n                }\n                else {\n                    return breakdown[optionId] || {};\n                }                \n            })();\n            if (vb) {\n                const variantIds = Object.keys(vb);\n                const splitCount = variantIds.length;\n                const partPrice = Math.floor(price/splitCount);\n                variantIds.forEach((variantId,index) => {                    \n                    const take = (index<splitCount-1)?partPrice:price;\n                    const variantQuantity = vb[variantId];\n                    price-= take;\n                    contribution[variantId] = contribution[variantId] || { price: 0, fromQuantity: 0 };                    \n                    contribution[variantId].fromQuantity+= variantQuantity-(((splitCount===1) && (quantityPricingOverOne))?1:0);\n                    contribution[variantId].price+= take;\n                });\n            }\n        };\n\n        const transferBreakdownToContribution = (optionId: string,res: DeterminePriceResult,quantityPricingOverOne = false) => {\n            transferBreakdownToSingleContribution(optionId,res.price,variantPriceContribution,quantityPricingOverOne);\n            transferBreakdownToSingleContribution(optionId,res.priceBeyondFirst,variantPriceContributionBeyondFirst,quantityPricingOverOne);\n        };\n\n        transferBreakdownToContribution(\":link:variant\",{price,priceBeyondFirst,priceAddedHash: {}});\n\n        // console.log(prebuildData.getProductById(item.productId).caption,\"breakdown\",breakdown);\n\n        const addToPrice = (optionId: string,fnParam: any,itemId?: string,multi = 1,tryParentIfNoChild = false,limitOnePerOrder = false) => {\n            const res = determinePrice(optionId,fnParam,itemId,multi,tryParentIfNoChild,limitOnePerOrder);\n            priceAddedHash = {...priceAddedHash,...res.priceAddedHash}\n            price+= res.price;\n            priceBeyondFirst+= res.priceBeyondFirst;\n            return res;\n        };\n\n        const optionsStub: {[optionId: string]: {itemId: string}} = {};\n\n        productOptions.options.forEach((option) => {\n            if (option.type===\"buttons\") {\n                const {id} = option;\n                const optionValue = item.optionValues[id];\n                if ((optionValue) && (optionValue.type===\"buttons\")) {\n                    optionsStub[id] = {\n                        itemId: optionValue.id\n                    };                    \n                }\n            }\n        });\n\n        const addDeterminePriceResult = (a: DeterminePriceResult,b: DeterminePriceResult) => {\n            a.price+= b.price;\n            a.priceBeyondFirst+= b.priceBeyondFirst;\n        };\n\n        const emptyDeterminPriceResult = () => {\n            const ret: DeterminePriceResult = {\n                price: 0,\n                priceBeyondFirst: 0,\n                priceAddedHash: {}\n            };\n            return ret;\n        };\n\n        const activatePriceUsedMap: {[key: string]: true} = {};\n\n        productOptions.options.forEach((option) => {\n            const {display,id} = option;\n            const optionValue = item.optionValues[id];\n            if (optionValue) {\n                if ((optionValue.type===\"buttons\") && (option.type===\"buttons\")) {\n                    if (!option.cartLink) {\n                        if (typeof indexHash[id]===\"number\") {\n                            const optionItem = option.items.filter(({id}) => id===optionValue.id)[0];\n                            if (optionItem) {\n                                const res = emptyDeterminPriceResult();\n    \n                                if (optionItem.slideshowMatch) {\n                                    for(let i=0;i<itemProduct.smallImages.length;i++) {\n                                        if (itemProduct.smallImages[i].src.indexOf(optionItem.slideshowMatch)!==-1) {\n                                            imageSrc = itemProduct.smallImages[i].src;\n                                            originalSrc = itemProduct.smallImages[i].originalSrc;\n                                            break;\n                                        }                        \n                                    }                                \n                                }\n                                const value = ((typeof optionItem.value!==\"string\") && (typeof optionItem.value!==\"number\"))?optionValue.value:optionItem.value;\n                                const caption = optionItem.caption;\n                                const displayFn = prebuildData.evalInContext(display);\n                                if ((!option.displayNullId) || (optionItem.id!==option.displayNullId)) {                                \n                                    properties[indexHash[id]].lines.push(displayFn({value,caption,id: optionItem.id})+(optionValue.quantity?` (x${optionValue.quantity})`:\"\"));\n                                }                            \n                                if (optionItem.activatePrice) {\n                                    if (!activatePriceUsedMap[optionItem.activatePrice]) {\n                                        addDeterminePriceResult(res,\n                                            addToPrice(optionItem.activatePrice,{options: optionsStub,option: {itemId: optionItem.id}})\n                                        );\n                                        activatePriceUsedMap[optionItem.activatePrice] = true;\n                                    }\n                                }\n                                if (option.quantity) {\n                                    const quantityValue = (optionValue.quantity || 1)-(option.quantity.pricingOverOne?1:0);\n                                    if (quantityValue>0) {\n                                        addDeterminePriceResult(res,\n                                            addToPrice(id,{options: optionsStub,option:{itemId: optionItem.id}},optionValue.id,quantityValue,true)\n                                        );\n                                    }                                \n                                }\n                                else {\n                                    addDeterminePriceResult(res,\n                                        addToPrice(id,{options: optionsStub,option:{itemId: optionItem.id}},optionValue.id,1,true)\n                                    );\n                                }                            \n                                transferBreakdownToContribution(option.id,res,!!option.quantity?.pricingOverOne);\n                                activatedOptionsMap[id] = true;\n                            }    \n                        }    \n                    }\n                }            \n                else if ((optionValue.type===\"checkbox\") && (option.type===\"checkbox\")) {                                        \n                    if (!option.cartLink) {\n                        const displayId = option.displayId || id;\n                        if (typeof indexHash[displayId]===\"number\") {\n                            const value = \"checked\";\n                            const caption = option.caption;\n                            const displayFn = prebuildData.evalInContext(display);\n                            properties[indexHash[displayId]].lines.push(displayFn({value,caption}));\n                            const res = addToPrice(id,{options: optionsStub});\n                            transferBreakdownToContribution(option.id,\n                                res\n                            );\n                            activatedOptionsMap[id] = true;                        \n                        }    \n                    }\n                }\n                else if ((optionValue.type===\"select\") && (option.type===\"select\")) {\n                    if (typeof indexHash[id]===\"number\") {\n                        const optionItem = option.items.filter(({id}) => id===optionValue.id)[0];\n                        if (optionItem) {\n                            const value = optionValue.id;\n                            const caption = optionItem.caption;\n                            const displayFn = prebuildData.evalInContext(display);\n                            if ((!option.displayNullId) || (optionItem.id!==option.displayNullId)) {\n                                properties[indexHash[id]].lines.push(displayFn({value,caption}));    \n                            }                            \n                            transferBreakdownToContribution(option.id,\n                                addToPrice(id,{options: optionsStub},optionValue.id)\n                            );\n                            activatedOptionsMap[id] = true;\n                        }\n                    }\n                }    \n                else if ((optionValue.type===\"checkbox-group\") && (option.type===\"checkbox-group\")) {\n                    if (typeof indexHash[id]===\"number\") {\n                        const optionItems = option.items.filter(({id}) => optionValue.ids.indexOf(id)!==-1);\n                        let selected = false;\n                        optionItems.forEach((optionItem) => {\n                            const value = optionItem.id;\n                            const caption = optionItem.caption;\n                            const displayFn = prebuildData.evalInContext(display);\n                            properties[indexHash[id]].lines.push(displayFn({value,caption}));\n                            transferBreakdownToContribution(option.id,\n                                addToPrice(id,{options: optionsStub},optionItem.id)\n                            );\n                            selected = true;\n                        });\n                        if (selected) {\n                            activatedOptionsMap[id] = true;\n                        }\n                    }\n                }\n                else if ((optionValue.type===\"variant-select\") && (option.type===\"variant-select\")) {\n                    if (!option.cartLink) {\n                        if ((enforceLimitOnePerOrder) && (option.limitOnePerOrder) && (cart.hasDealAlready(item.productId,option.id,ignoreUuid))) {\n                            return;\n                        }\n                        \n                        if (typeof indexHash[id]===\"number\") {\n                            const variantHash = prebuildData.getVariantHash();\n                            if (variantHash[optionValue.id]) {\n                                const { productId } = variantHash[optionValue.id];\n                                const product = prebuildData.getProductById(productId);\n                                if (product) {\n                                    if (option.itemCaption) {\n                                        const itemCaptionFn = prebuildData.evalInContext(option.itemCaption);\n                                        const productStub = prebuildData.getProductStub(productId);\n                                        const variantStub = prebuildData.getVariantStub(optionValue.id);\n                                        const quantity = optionValue.quantity || 1;\n                                        const value = \"\";\n                                        const caption = itemCaptionFn({product: productStub,variant: variantStub});\n                                        const displayFn = prebuildData.evalInContext(display);\n                                        properties[indexHash[id]].lines.push(displayFn({value,caption})+((quantity>1)?` (x${quantity})`:\"\")+((option.limitOnePerOrder && hasMoreThanOneItem)?\" [only 1]\":\"\"));                                                                                                            \n                                        transferBreakdownToContribution(option.id,\n                                            addToPrice(id,{options: optionsStub},undefined,((option.multiple) && (optionValue.quantity>1))?optionValue.quantity:1,false,option.limitOnePerOrder)\n                                        );\n                                        activatedOptionsMap[id] = true;\n                                    }\n                                }\n                            }\n                        }    \n                    }\n                }\n                else if ((optionValue.type===\"product-select\") && (option.type===\"product-select\")) {\n                    if (typeof indexHash[id]===\"number\") {\n                        let selected = 0;\n                        optionValue.ids.forEach((productId) => {\n                            const product = prebuildData.getProductById(productId);\n                            if (product) {\n                                if (option.itemCaption) {\n                                    const itemCaptionFn = prebuildData.evalInContext(option.itemCaption);\n                                    const productStub = prebuildData.getProductStub(productId);\n                                    const value = \"\";\n                                    const caption = itemCaptionFn({product: productStub});\n                                    const displayFn = prebuildData.evalInContext(display);\n                                    properties[indexHash[id]].lines.push(displayFn({value,caption}));                                    \n                                    selected++;\n                                }\n                            }\n                        });\n                        if (option.multiSelect) {\n                            if (selected>0) {\n                                const res = addToPrice(id,{\n                                    options: optionsStub,\n                                    option: {\n                                        multiSelect: {\n                                            selectedCount: selected\n                                        }\n                                    }\n                                });\n                                transferBreakdownToContribution(option.id,\n                                    res\n                                );\n                                activatedOptionsMap[id] = true;\n                            }\n                        }\n                        else {\n                            if (selected>0) {\n                                transferBreakdownToContribution(option.id,\n                                    addToPrice(id,{options: optionsStub})\n                                );\n                                activatedOptionsMap[id] = true;\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        properties.forEach((propertyEntry,index) => {\n            if ((propertyEntry.lines.length>1) && (productOptions.display[index].line===\"single\")) {\n                propertyEntry.lines[0] = propertyEntry.lines.join(\", \");\n                propertyEntry.lines.length = 1;\n            }            \n        })\n        properties = properties.filter(({lines}) => lines.length>0);\n\n        const digestKeys = Object.keys(_generateCartItemPropertiesCache);\n        const prefix = `${item.uuid}-`;\n\n        digestKeys.forEach((digestKey) => {\n            if ((digestKey.startsWith(prefix)) && (digestKey!==digest)) {\n                delete _generateCartItemPropertiesCache[digestKey];     \n            }\n        });\n\n        return {\n            price,\n            priceBeyondFirst,\n            properties,\n            imageSrc,\n            originalSrc,\n            variantPriceContribution,\n            variantPriceContributionBeyondFirst,\n            variantId\n        };\n    };\n\n    return _generateCartItemPropertiesCache[digest] = _generateCartItemPropertiesCache[digest] || process();\n};\n\nconst cartItemToCartDisplay = (item: CartItem): CartItemDisplay  => {\n    const product = prebuildData.getProductById(item.productId);\n    if (!product) return null;\n\n    let { price,priceBeyondFirst,properties,imageSrc,originalSrc,variantPriceContribution,variantPriceContributionBeyondFirst,variantId } = generateCartItemPriceProperties(item,{ hasMoreThanOneItem: (item.quantity>1) });\n    variantPriceContribution = cloneSimpleData(variantPriceContribution);\n    variantPriceContributionBeyondFirst = cloneSimpleData(variantPriceContributionBeyondFirst);\n    \n    const realPrice = price+(priceBeyondFirst*(item.quantity-1));\n    const { price: discountedPrice,discountBreakdown } = prebuildData.getProductPageDiscountedPrice(item.productId,realPrice,item.freeProduct,item.freeComponentName);\n    Object.keys(discountBreakdown).forEach((componentName) => {\n        discountBreakdown[componentName].fromQuantity = item.quantity;\n    });\n    \n    if (discountedPrice<realPrice) {\n        const applyDiscountToVariantPriceContribution = (contribution: VariantPriceContribution) => {\n            Object.keys(contribution).forEach((variantId) => {\n                contribution[variantId].price = Math.floor(contribution[variantId].price*(discountedPrice/realPrice));                \n            });\n        };\n\n        applyDiscountToVariantPriceContribution(variantPriceContribution);\n        applyDiscountToVariantPriceContribution(variantPriceContributionBeyondFirst);\n    }\n\n    if (item.quantity>1) {\n        Object.keys(variantPriceContributionBeyondFirst).forEach((variantId) => {\n            const { price,fromQuantity } = variantPriceContributionBeyondFirst[variantId];\n            variantPriceContribution[variantId] = variantPriceContribution[variantId] || { price: 0,fromQuantity: 0 };\n            variantPriceContribution[variantId].price+= price*(item.quantity-1);\n            variantPriceContribution[variantId].fromQuantity+= fromQuantity*(item.quantity-1);\n        });\n    }\n\n    const ret: CartItemDisplay = {\n        id: item.uuid,\n        // imageSrc: product.smallImages[0].src,\n        imageSrc,\n        // originalImageSrc: product.smallImages[0].originalSrc,\n        originalImageSrc: originalSrc,\n        price: realPrice,\n        ...((discountedPrice!==realPrice)?{salePrice: discountedPrice}:{}),\n        productId: item.productId,\n        properties,\n        quantity: item.quantity,\n        quantityDisplay: item.quantityDisplay,\n        title: product.caption,\n        deleted: item.deleted,\n        notQuantityEditable: !!item.freeProduct,\n        variantPriceContribution,\n        discountBreakdown,\n        variantId\n    };\n\n    return ret;\n};\n\nconst editMode = false;\nconst editItems = [] as CartItem[];\n\nconst editOrder = {\n    \"id\": \"1148493168897-inkmnse6oo9dgwbm\",\n    \"name\": \"#D11\",\n    \"customer\": {\n        \"displayName\": \"Dominique Adolphe\",\n        \"email\": \"dominique.adolphe@gmail.com\"\n    },\n    \"cartItems\": [],\n    \"orderType\": \"draft\",\n    \"orderReturnUrl\": \"https://tbdtesting2.myshopify.com/admin/draft_orders/1148493168897\",\n    \"priceCents\": 0\n} as EditOrderOrder;\n\nclass Cart {\n    note = \"\";\n    // note = \"What do we know?\";\n    items: CartItem[] = !editMode?[]:editItems;\n    private lsKey = \"cart\";\n    private loadedFromLocalStorage = false;\n    editOrder: EditOrderOrder = !editMode?undefined:editOrder;\n    editCartItem: CartItem;\n    editOrderIsCreate = false;\n    private beforeLoadedCbs: (() => void)[] = [];\n    version = 0;\n\n    hasDealAlready(productId: string,optionId: string,ignoreUuid = \"\") {\n        return (this.items.filter(({productId: _productId,optionValues,uuid}) => (_productId===productId) && (ignoreUuid!==uuid) && (!!optionValues[optionId])).length>0);\n    }\n\n    accountShopifyIntegrationStore(checkoutUrl: string,accountValue: Account | false) {\n        const res = /\\/checkouts\\/([^\\?$]+)/.exec(checkoutUrl);\n        if (res) {\n            const checkoutId = res[1];                \n            const accountData = (() => {\n                const convertPhone = (phone: string) => {\n                    phone = phone?miscShared.convertSplitPhoneNumberToPlusPhoneNumber(phone):\"\";\n                    if (phone===\"+\") phone = \"\";\n                    return phone;\n                };\n                if (accountValue) {\n                    let { user: { email,firstName,lastName,phone,addresses } } = accountValue; \n                    phone = convertPhone(phone);\n                    addresses.forEach((address) => {\n                        let { phone } = address;\n                        if (phone) {\n                            phone = convertPhone(phone);\n                            if (phone) address.phone = phone;\n                        }\n                    });\n                    return {\n                        email,\n                        firstName,\n                        lastName,\n                        ...(phone?{phone}:{}),\n                        addresses\n                    };\n                }\n                else {\n                    return null;\n                }\n\n            })();\n            localStorage.setItem(`checkout-${checkoutId}.accountData`,JSON.stringify(accountData));\n        }\n    }\n\n    loadEditOrder(order: EditOrderOrder) {\n        this.editOrder = order;\n        this.items = [];\n        order.cartItems.forEach((item) => {\n            if (!item.freeProduct) {\n                this.addEditOrderItem(item);\n            }\n        });\n        this.editOrderIsCreate = (order.cartItems.length===0);\n        this.fireSubscriptions();\n    }\n\n    updateCartItem(id: string,editedItem: CartItem) {\n        const item = this.lookupItem(id);\n        if (item) {\n            item.optionValues = cloneSimpleData(editedItem.optionValues);\n            item.digest = this.genDigest(item).digest;\n            item.version++;\n            this.fireSubscriptions();\n        }\n    }\n\n    saveToLocalStorage() {\n        if (this.editOrder) return;\n        const { note,items } = this;        \n        lstore.set(this.lsKey,{note,items: items.filter(({freeProduct}) => !freeProduct)});\n    }\n    loadFromLocalStorage() {\n        if (this.editOrder) return;\n        if (this.loadedFromLocalStorage) return;\n        const res = lstore.get(this.lsKey);\n        if ((res) && (res.hasOwnProperty(\"note\") && (res.hasOwnProperty(\"items\")))) {\n            this.note = res.note;\n            this.items = res.items.filter(({productId}) => !!prebuildData.getProductById(productId));\n        }\n        this.loadedFromLocalStorage = true;\n        const copyCbs = [...this.beforeLoadedCbs];\n        this.beforeLoadedCbs.length = 0;\n        copyCbs.forEach((cb) => cb());\n    }\n    runWhenLoaded(cb: () => void) {\n        if (this.loadedFromLocalStorage) {\n            cb();\n        }\n        else {\n            this.beforeLoadedCbs.push(cb);\n        }\n    }\n    lookupItem(id: string) {\n        return this.items.filter(({uuid}) => uuid===id)[0];\n    }\n    deleteItem(id: string) {\n        const item = this.lookupItem(id);\n        if (item) {\n            item.deleted = true;\n        }\n    }\n    removeItem(id: string) {        \n        let foundDigest = \"\";\n        this.items = this.items.filter(({uuid,digest}) => {\n            if (uuid===id) {\n                foundDigest = digest;\n            }\n            return uuid!==id;\n        });\n        if (foundDigest!==\"\") {      \n            this.fireDeletionSubscriptions(foundDigest);\n            this.saveToLocalStorage();\n        }\n    }\n\n    applyQuantityDiscounts(items: CartItemDisplay[]) {\n        // console.log(\"applyQuantityDiscounts\");\n        // const item = items[0];\n        // item.salePrice = item.price-500;\n        // item.discountBreakdown[\"discounted-pods\"] = {\n        //     discount: 500,\n        //     fromQuantity: 1\n        // };\n        // console.log(\"item\",item);\n        // //discounted-pods\n        // console.log(\"prebuildData.quantityDiscountDefinitions\",prebuildData.quantityDiscountDefinitions);\n\n        // return items;\n        const usedVariants: {[variantId: string]: true} = {};\n\n        type ItemQuantityDiscounts = {\n            [componentName: string]: {\n                discount: number;\n                fromQuantity: number;\n            };\n        };\n\n        const reversedItems = [...items].reverse();\n\n        const itemQuantityDiscounts: ItemQuantityDiscounts[] = reversedItems.map(() => ({}));        \n\n        prebuildData.quantityDiscountDefinitions.forEach(({variantHash,counter,componentName}) => {\n            counter.reset();\n            const saleUsedVariants: {[variantId: string]: true} = {};\n            reversedItems.forEach((item,itemIndex) => {\n                const {notQuantityEditable,variantId,quantity} = item;\n                const itemSalePrice = item.hasOwnProperty(\"salePrice\")?item.salePrice:item.price;\n                if (notQuantityEditable) return;\n                const itemSaleContribution = { price: 0,fromQuantity: 0};\n                if ((variantHash[variantId]) && (!usedVariants[variantId])) {\n                    itemSaleContribution.fromQuantity = quantity;\n                    itemSaleContribution.price = itemSalePrice;\n                    saleUsedVariants[variantId] = true;\n                }\n\n                if (itemSaleContribution.price>0) {\n                    misc.integerSplit(itemSaleContribution.price,itemSaleContribution.fromQuantity).forEach((part) => {\n                        const percentageDiscount = counter.use();                        \n                        if (percentageDiscount>0) {\n                            itemQuantityDiscounts[itemIndex][componentName] = itemQuantityDiscounts[itemIndex][componentName] || { discount: 0,fromQuantity: 0 };\n                            itemQuantityDiscounts[itemIndex][componentName].discount+= Math.round((percentageDiscount/100)*part);\n                            itemQuantityDiscounts[itemIndex][componentName].fromQuantity++;\n                        }\n                    });                    \n                }\n            });\n            Object.keys(saleUsedVariants).forEach((variantId) => {\n                usedVariants[variantId] = true;\n            });\n        });\n\n        itemQuantityDiscounts.forEach((quantityDiscounts,itemIndex) => {\n            const item = reversedItems[itemIndex];\n            const itemSalePrice = item.hasOwnProperty(\"salePrice\")?item.salePrice:item.price;\n            const componentNames = Object.keys(quantityDiscounts);\n            let totalDiscount = misc.limitCeiling(componentNames.reduce((acc,componentName) => acc+quantityDiscounts[componentName].discount,0),itemSalePrice);\n            if (totalDiscount>0) {                                \n                const newSalePrice = misc.limitCeiling(Math.round((itemSalePrice-totalDiscount)/50)*50,itemSalePrice);\n                const realDiscount = itemSalePrice-newSalePrice;                \n                const ratios = componentNames.map((componentName) => quantityDiscounts[componentName].discount);\n                misc.integerSplitByRatio(realDiscount,ratios).forEach((realDiscountPart,index) => {\n                    const componentName = componentNames[index];                    \n                    item.discountBreakdown[componentName] = {\n                        discount: realDiscountPart,\n                        fromQuantity: quantityDiscounts[componentName].fromQuantity\n                    };\n                });\n                item.salePrice = newSalePrice;            \n            }\n        });\n\n        return items;\n    }\n\n    genDisplayItems() {\n        return this.applyQuantityDiscounts(this.items.map(cartItemToCartDisplay).filter((item) => item!==null));\n    }\n\n    private subscriptionCbs: (() => void)[] = [];\n\n    subscribe(cb: () => void) {\n        this.subscriptionCbs.push(cb);\n        return () => {\n            this.subscriptionCbs = this.subscriptionCbs.filter((_cb) => _cb!==cb);\n        };\n    }\n\n    fireSubscriptions() {\n        this.subscriptionCbs.forEach((cb) => cb());\n    }\n\n    private deletionSubscriptionCbs: ((digest: string) => void)[] = [];\n\n    deletionSubscribe(cb: (digest: string) => void) {\n        this.deletionSubscriptionCbs.push(cb);\n        return () => {\n            this.deletionSubscriptionCbs = this.deletionSubscriptionCbs.filter((_cb) => _cb!==cb);\n        };\n    }\n\n    fireDeletionSubscriptions(digest: string) {\n        this.deletionSubscriptionCbs.forEach((cb) => cb(digest));\n    }\n\n    genDigest(item: CartItem) {\n        const optionsCompiler = prebuildData.getOptionsCompiler();\n\n        const { productId,optionValues } = item;\n        const productOptions = optionsCompiler.getProductOptions(productId);\n        const ids = Object.keys(optionValues).filter((id) => {\n            const option = productOptions.options.filter(({id: _id}) => id===_id)[0];\n            // if ((optionValues[id].type===\"variant-select\") && (option) && (option.type===\"variant-select\") && (option.limitOnePerOrder)) {\n            //     return false;\n            // }\n            if (((option?.type===\"buttons\") || (option?.type===\"checkbox\") || (option?.type===\"variant-select\")) && (option.cartLink)) {\n                return false;\n            }\n            else {\n                return true;\n            }            \n        });\n        ids.sort();\n\n        const normalizeValue = (value: OptionValue) => {\n            if (value.type===\"checkbox-group\") {\n                const ret: OptionValueCheckboxGroup = {\n                    type: \"checkbox-group\",\n                    ids: [...value.ids]\n                };\n                ret.ids.sort();\n                return ret;\n            }\n            else if (value.type===\"product-select\") {\n                const ret: OptionValueProductSelect = {\n                    type: \"product-select\",\n                    ids: [...value.ids]\n                };\n                ret.ids.sort();\n                return ret;\n            }\n            return value;\n        };\n\n        const optionValueArray: CartItemOptionValuesArray = ids.map((id) => ({id,value: normalizeValue(optionValues[id])}));\n        const digestObj = {productId,optionValues: optionValueArray,...(item.freeProduct?{freeProduct:true}:{})};        \n        return {digest: JSON.stringify(digestObj),digestObj};\n    }\n\n    addItem(item: CartItem,willProvideUuid = false) {\n        const ret: { \n            highlightIds: string[];\n            flashIds: string[];\n        } = {\n            highlightIds: [],\n            flashIds: []\n        };\n        const optionsCompiler = prebuildData.getOptionsCompiler();\n        const newId = willProvideUuid?item.uuid:misc.genUUID();        \n        const newItem = cloneSimpleData(item);\n        newItem.digest = this.genDigest(item).digest;\n        newItem.uuid = newId;\n        // const newItem = {...item,digest: this.genDigest(item).digest,uuid: newId};\n        const { uuid } = this.getItemIdByDigest(newItem);\n        if (uuid!==\"\") {\n            const existingItem = this.lookupItem(uuid);\n            if (existingItem) {\n                existingItem.quantity+= item.quantity;\n                existingItem.quantityDisplay = existingItem.quantity.toString();\n                this.items.splice(this.items.indexOf(existingItem),1);                            \n                this.items.splice(0,0,existingItem);\n                ret.flashIds.push(uuid);\n            }\n        }\n        else {\n            this.items.splice(0,0,newItem);\n            ret.highlightIds.push(newId);\n        }\n        \n        const options = optionsCompiler.getProductOptions(item.productId);\n        \n        options.options.forEach((option) => {\n            const optionValue = item.optionValues[option.id];\n            const res = (() => {\n                if ((option.type===\"buttons\") && (optionValue.type===\"buttons\") && (optionValue.id) && (option.cartLink)) {\n                    const variant = prebuildData.extractVariantsFromLink(item.productId,{},optionValue.id,option.cartLink)[0];\n                    if (variant) {\n                        return {variant,quantity: 1};\n                    }                \n                }\n                else if ((option.type===\"checkbox\") && (optionValue?.type===\"checkbox\") && (option.cartLink)) {\n                    const variant = prebuildData.extractVariantsFromLink(item.productId,{},\"\",option.cartLink)[0];\n                    if (variant) {\n                        return {variant,quantity: 1};\n                    }                \n                }\n                else if ((option.type===\"variant-select\") && (optionValue?.type===\"variant-select\") && optionValue.id && (option.cartLink)) {\n                    const variant = prebuildData.getVariantHash()[optionValue.id]?.variant;\n                    if (variant) {                        \n                        return {variant,quantity: optionValue.quantity || 1};\n                    }                \n                }\n            })();\n            if (res) {\n                const { variant,quantity } = res;\n                const { productId } = prebuildData.getVariantStub(variant.id);\n                const linkOptions = optionsCompiler.getProductOptions(productId);\n                const signature = variant.signature as OptionSnapshotProductVariantSignature[];\n                const newId = misc.genUUID();\n                console.log(\"signature\",signature);\n                const optionValues: CartItemOptionValues = {};\n                signature.forEach(({id,value}) => {\n                    const linkOption = linkOptions.options.filter(({id: _id}) => _id===id)[0];\n                    if ((linkOption?.type===\"checkbox\") && (typeof linkOption.track===\"string\")) {\n                        let trackFn: any;\n                        try {\n                            trackFn = eval(linkOption.track);\n                        }\n                        catch(err) {\n                        }    \n                        if (typeof trackFn===\"function\") {\n                            const { value: checkedValue } = trackFn({option: {checked: true}});\n                            const { value: uncheckedValue } = trackFn({option: {checked: false}});\n                            console.log(\"checkedValue\",checkedValue);\n                            console.log(\"uncheckedValue\",uncheckedValue);\n                            console.log(\"value\",value);\n                            if (checkedValue===value) {\n                                optionValues[id] = {type: \"checkbox\"};\n                            }\n                        }                                \n                        return [id,{type: \"buttons\",id: value}];\n                    }\n                    else if (linkOption?.type===\"buttons\") {\n                        optionValues[id] = {type: \"buttons\",id: value};\n                    }\n                });       \n                console.log(\"optionValues\",optionValues);         \n                const linkItem: CartItem = {\n                    activatedOptionsMap: {},\n                    optionValues,\n                    productId,\n                    quantity,\n                    quantityDisplay: quantity.toString(),\n                    uuid: \"\",\n                    version: 0,                        \n                };\n                const { uuid } = this.getItemIdByDigest(linkItem);\n                if (uuid!==\"\") {\n                    const existingItem = this.lookupItem(uuid);\n                    if (existingItem) {\n                        existingItem.quantity+= linkItem.quantity;\n                        existingItem.quantityDisplay = existingItem.quantity.toString();\n                        this.items.splice(this.items.indexOf(existingItem),1);                            \n                        this.items.splice(0,0,existingItem);\n                        ret.flashIds.push(uuid);\n                    }\n                }\n                else {\n                    const newItem = cloneSimpleData(linkItem);                    \n                    newItem.digest = this.genDigest(linkItem).digest;\n                    newItem.uuid = newId;\n                    this.items.splice(0,0,newItem);    \n                    ret.highlightIds.push(newId);\n                }\n            }                \n        });\n        \n        this.fireSubscriptions();\n        this.saveToLocalStorage();\n        return ret;\n    }\n\n    addEditOrderItem(item: EditOrderCartItem) {\n        const newId = misc.genUUID();\n        const newItem: CartItem = {\n            optionValues: item.options,\n            productId: item.productId.toString(),\n            quantity: item.quantity,\n            quantityDisplay: item.quantity.toString(),\n            uuid: newId,\n            activatedOptionsMap: {},\n            version: 1\n        };\n        newItem.digest = this.genDigest(newItem).digest;\n        this.items.push(newItem);\n    }\n\n\n    getItemIdByDigest(item: CartItem) {\n        const {digest,digestObj} = this.genDigest(item);\n        for(let i=0;i<this.items.length;i++) {\n            if (this.items[i].digest===digest) {\n                return {uuid: this.items[i].uuid,digest};\n            }\n        }        \n        return {uuid: \"\",digest,digestObj};\n    }\n\n    clearCart() {\n        this.items.forEach(({digest}) => {\n            this.fireDeletionSubscriptions(digest);\n        });\n        this.items.length = 0;\n        this.saveToLocalStorage();\n    }\n\n    updateItemQuantity(id: string,quantityDisplay: string) {\n        const item = this.lookupItem(id);\n        if (item) {\n            item.quantityDisplay = quantityDisplay.split(\"\").filter((ch) => /[0-9]/.test(ch)).join(\"\");\n            item.quantity = parseInt(item.quantityDisplay) || 0;\n            this.saveToLocalStorage();\n            return true;\n        }\n        return false;\n    }\n\n    minusItemQuantity(id: string) {        \n        const item = this.lookupItem(id);\n        if (item) {\n            const currentQuantity = item.quantity;\n            const newQuantity = Math.max(0,currentQuantity-1);\n            if (newQuantity>0) {\n                item.quantity = newQuantity;\n                item.quantityDisplay = item.quantity.toString();\n                this.saveToLocalStorage();\n            }\n            else {\n                this.deleteItem(id);\n            }\n            return true;\n        }\n        return false;\n    }\n\n    plusItemQuantity(id: string) {\n        const item = this.lookupItem(id);     \n        if (item) {\n            item.quantity++;\n            item.quantityDisplay = item.quantity.toString();\n            this.saveToLocalStorage();\n            return true;\n        }\n        return false;\n    }\n\n    itemQuantityBlur(id: string) {\n        const item = this.lookupItem(id);     \n        if (item) {\n            if (item.quantity===0) {\n                this.deleteItem(id);\n                return true;\n            }\n        }\n        return false;\n    }\n\n    updateNote(note: string) {\n        const oldValue = this.note;\n        this.note = note.trim();\n        if (oldValue!==this.note) {\n            this.saveToLocalStorage();\n            return true;    \n        }\n        return false;\n    }\n\n    genItemsToEditOrderDigest() {        \n        return JSON.stringify(this.items.filter(({freeProduct}) => !freeProduct).map(({productId,quantity,optionValues: options,freeProduct}) => {\n            const ret: EditOrderCartItem = {\n                productId,\n                options,\n                quantity,\n                freeProduct: false\n            };\n            return ret;\n        }));\n    }\n\n    genEditOrderDigest() {        \n        return JSON.stringify(this.editOrder?this.editOrder.cartItems.filter(({freeProduct}) => !freeProduct):[]);\n    }\n\n    itemsDifferFromEditOrder() {\n        return this.editOrder?(this.genItemsToEditOrderDigest()!==this.genEditOrderDigest()):false;\n    }\n\n    getVariantLinkBreakdownForItem(item: CartItem,{ignoreActivatedOptionsMap = false,ignoreQuantity = false}: {ignoreActivatedOptionsMap?: boolean; ignoreQuantity?: boolean} = {}) {\n        \n        const debug = item.productId===\"8008148189441\";\n\n        const optionsCompiler = prebuildData.getOptionsCompiler();\n        const variantLinksHash: {[optionId: string]: {[variantId: string]: number}} = {};\n\n        const { activatedOptionsMap } = item;\n        const productOptions = optionsCompiler.getProductOptions(item.productId);        \n        if (productOptions) {\n            const addVariantLink = (optionId: string,id: string,quantity = 1) => {\n                // if ((prebuildData.variantExists(id)) && (!prebuildData.isVariantCustom(id))) {\n                if (prebuildData.variantExists(id)) {\n                    variantLinksHash[optionId] = variantLinksHash[optionId] || {};\n                    variantLinksHash[optionId][id] = variantLinksHash[optionId][id] || 0;\n                    const itemQuantity = ignoreQuantity?1:item.quantity;\n                    variantLinksHash[optionId][id]+= quantity*itemQuantity;\n                }\n            };\n            const processLink = (optionId: string,link: string,param: any = {},quantity = 1) => {\n                return;\n                const fn = prebuildData.evalInContext(link);\n                const variants = [fn(param)].flat().map((link) => link?._variants?.[0]).filter((variant) => !!variant);\n                variants.forEach(({id}) => {\n                    addVariantLink(optionId,id,quantity);\n                });\n            };\n            if (productOptions.link) {\n                processLink(\":link\",productOptions.link);\n            }\n            const optionsStub: {[id: string]: any} = {};\n            const itemProductStub = prebuildData.getProductStub(item.productId);                    \n            let pnt = itemProductStub;            \n            if (!pnt) return;\n\n            productOptions.options.forEach((option) => {\n                const optionValue = item.optionValues[option.id];\n                if ((option.type===\"buttons\") && (optionValue?.type===\"buttons\")) {                    \n                    optionsStub[option.id] = {itemId: optionValue.id,...((typeof optionValue.value===\"number\")?{value: optionValue.value}:{})};\n                    if (option.track) {\n                        if ((pnt) && (pnt[option.id]?.[optionValue.id])) {\n                            pnt = pnt[option.id][optionValue.id];                                \n                        }\n                        else {\n                            pnt = null;\n                        }    \n                    }\n                }\n                else if ((option.type===\"product-select\") && (optionValue?.type===\"product-select\") && (option.multiSelect) && (typeof option.track===\"string\")) {\n                    let trackFn: any;\n                    try {\n                        trackFn = eval(option.track);\n                    }\n                    catch(err) {                        \n                    }\n                    if (typeof trackFn===\"function\") {\n                        const optionParam = {\n                            multiSelect: {\n                                selectedCount: optionValue.ids.length\n                            }\n                        };\n                        const res = trackFn({option: optionParam});\n                        if ((isSimpleObject(res)) && (typeof res.value===\"string\")) {                            \n                            optionsStub[option.id] = {itemId: res.value};\n                            if ((pnt) && (pnt[option.id]?.[res.value])) {\n                                pnt = pnt[option.id][res.value];                                \n                            }\n                            else {\n                                pnt = null;\n                            }    \n                        }\n                    }\n                }\n                else if ((option.type===\"variant-select\") && (optionValue?.type===\"variant-select\") && (optionValue.id)) {\n                    optionsStub[option.id] = prebuildData.getVariantStub(optionValue.id);\n                }\n            });\n\n            const getProperties = () => {\n                let ret: {[name: string]: string} = {};\n                productOptions.options.forEach((option) => {\n                    const optionValue = item.optionValues[option.id];\n                    if (\n                        ((option.type===\"buttons\") && (optionValue?.type===\"buttons\")) || \n                        ((option.type===\"variant-select\") && (optionValue?.type===\"variant-select\") && (optionValue.id))\n                    ) {\n                        if (typeof option.lineItemProperties===\"string\") {\n                            let fn: any;\n                            try {                                \n                                fn = prebuildData.evalInContext(option.lineItemProperties);\n                            }\n                            catch(err) {                                \n                            }\n                            if (typeof fn===\"function\") {\n                                const res = fn({option: optionsStub[option.id]});\n                                if (isSimpleObject(res)) {\n                                    ret = {...ret,...res};\n                                }\n                            }\n                        }\n                    }\n                    // else if ((option.type===\"variant-select\") && (optionValue?.type===\"variant-select\") && (optionValue.id)) {\n\n                    // }\n                    // else if ((option.type===\"product-select\") && (optionValue?.type===\"product-select\") && (option.multiSelect) && (typeof option.track===\"string\")) {\n                    //     let trackFn: any;\n                    //     try {\n                    //         trackFn = eval(option.track);\n                    //     }\n                    //     catch(err) {                        \n                    //     }\n                    //     if (typeof trackFn===\"function\") {\n                    //         const optionParam = {\n                    //             multiSelect: {\n                    //                 selectedCount: optionValue.ids.length\n                    //             }\n                    //         };\n                    //         const res = trackFn({option: optionParam});\n                    //         if ((isSimpleObject(res)) && (typeof res.value===\"string\")) {                            \n                    //             optionsStub[option.id] = {itemId: res.value};\n                    //             if ((pnt) && (pnt[option.id]?.[res.value])) {\n                    //                 pnt = pnt[option.id][res.value];                                \n                    //             }\n                    //             else {\n                    //                 pnt = null;\n                    //             }    \n                    //         }\n                    //     }\n                    // }\n                });\n        \n                return ret;\n            };\n\n            if ((pnt) && (pnt!==itemProductStub)) {                \n                if (pnt._variants[0]?.id) {\n                    // const properties = getProperties();\n                    // console.log(\"properties !!\",properties);\n                    addVariantLink(\":variant\",pnt._variants[0].id);\n                }\n            }\n            // else if (productOptions.vars.track) {\n            else if (itemProductStub._variants[0]?.id) {\n                // if (itemProductStub._variants[0]?.id) {\n                    // const properties = getProperties();\n                    // console.log(\"properties - -\",properties);\n                    addVariantLink(\":variant\",itemProductStub._variants[0].id);\n                // }                        \n            }\n            productOptions.options.forEach((option) => {\n                const optionValue = item.optionValues[option.id];\n                if (!optionValue) return;\n\n                if (option.type===\"buttons\") {\n                    if (optionValue.type===\"buttons\") {\n                        const { id,link } = option;                        \n                        if ((activatedOptionsMap[id] || ignoreActivatedOptionsMap) && (link)) {                                       \n                            processLink(option.id,link,{options: optionsStub,option: {itemId: optionValue.id}},option.quantity?(optionValue.quantity || 1):1);\n                        }    \n                    }\n                }\n                else if (option.type===\"checkbox\") {\n                    const { id,link } = option;\n                    if ((activatedOptionsMap[id] || ignoreActivatedOptionsMap) && (link)) {\n                        processLink(option.id,link);\n                    }\n                }\n                else if (option.type===\"checkbox-group\") {\n                    const { id,link } = option;\n                    if ((activatedOptionsMap[id] || ignoreActivatedOptionsMap) && (link)) {\n                        processLink(option.id,link);\n                    }\n                }\n                else if (option.type===\"select\") {\n                    const { id,link } = option;\n                    if ((activatedOptionsMap[id] || ignoreActivatedOptionsMap) && (link)) {\n                        processLink(option.id,link);\n                    }\n                }\n                // else if (option.type===\"variant-select\") {                            \n                //     if (optionValue?.type===\"variant-select\") {\n                //         if (optionValue.id) {                        \n                //             // addVariantLink(option.id,optionValue.id,((option.multiple) && (typeof optionValue.quantity===\"number\") && (optionValue.quantity>1))?optionValue.quantity:1);\n                //         }\n                //     }\n                // }\n                else if (option.type===\"product-select\") {\n                    if (optionValue.type===\"product-select\") {\n                        const fn = prebuildData.evalInContext(option.selectVariant);\n                        optionValue.ids.forEach((productId) => {\n                            const productStub = prebuildData.getProductStub(productId);\n                            if (productStub) {\n                                const param = {product: productStub,options: optionsStub};\n                                const variants = [fn(param)].flat().map((link) => link?._variants?.[0]).filter((variant) => !!variant);\n                                variants.forEach(({id}) => {\n                                    // addVariantLink(option.id,id);\n                                });                                                        \n                            }\n                        });\n                    }\n                }\n            });\n        }\n\n        return variantLinksHash;\n    }\n\n    getVariantLinkBreakdownForItemNew(item: CartItem,{ignoreActivatedOptionsMap = false,ignoreQuantity = false}: {ignoreActivatedOptionsMap?: boolean; ignoreQuantity?: boolean} = {}) {\n        \n        const debug = item.productId===\"8008148189441\";\n        // if (debug) console.log(\"item\",item);\n\n        const optionsCompiler = prebuildData.getOptionsCompiler();\n        const variantLinksHash: {[optionId: string]: {\n            [variantId: string]: {\n                [attrJson: string]: number\n            }\n        }} = {};\n\n        const { activatedOptionsMap } = item;\n        const productOptions = optionsCompiler.getProductOptions(item.productId);        \n        if (productOptions) {\n            const addVariantLink = (optionId: string,id: string,attributes: {[name: string]: string} = {},quantity = 1) => {\n                // if ((prebuildData.variantExists(id)) && (!prebuildData.isVariantCustom(id))) {\n                if (prebuildData.variantExists(id)) {\n                    const attrJson = JSON.stringify(attributes);\n                    variantLinksHash[optionId] = variantLinksHash[optionId] || {};\n                    variantLinksHash[optionId][id] = variantLinksHash[optionId][id] || {};\n                    variantLinksHash[optionId][id][attrJson] = variantLinksHash[optionId][id][attrJson] || 0;\n                    const itemQuantity = ignoreQuantity?1:item.quantity;\n                    variantLinksHash[optionId][id][attrJson]+= quantity*itemQuantity;\n                }\n            };\n            const processLink = (optionId: string,link: string,param: any = {},quantity = 1) => {\n                return;\n                const fn = prebuildData.evalInContext(link);\n                const variants = [fn(param)].flat().map((link) => link?._variants?.[0]).filter((variant) => !!variant);\n                variants.forEach(({id}) => {\n                    // addVariantLink(optionId,id,quantity);\n                });\n            };\n            if (productOptions.link) {\n                processLink(\":link\",productOptions.link);\n            }\n            const optionsStub: {[id: string]: any} = {};\n            const itemProductStub = prebuildData.getProductStub(item.productId);                    \n            // console.log(\"itemProductStub\",itemProductStub);\n            let pnt = itemProductStub;            \n            if (!pnt) return;\n\n            productOptions.options.forEach((option) => {\n                const optionValue = item.optionValues[option.id];\n                if ((option.type===\"buttons\") && (optionValue?.type===\"buttons\")) {\n                    optionsStub[option.id] = {itemId: optionValue.id,...((typeof optionValue.value===\"number\")?{value: optionValue.value}:{})};\n                    if (option.track) {\n                        if ((pnt) && (pnt[option.id]?.[optionValue.id])) {\n                            pnt = pnt[option.id][optionValue.id];                                \n                        }\n                        else {\n                            pnt = null;\n                        }    \n                    }\n                }\n                else if ((option.type===\"product-select\") && (optionValue?.type===\"product-select\") && (option.multiSelect)) {\n                    const optionParam = {\n                        multiSelect: {\n                            selectedCount: optionValue.ids.length,\n                            items: optionValue.ids.map((id) => prebuildData.getProductStub(id))\n                        },                            \n                    };\n                    optionsStub[option.id] = optionParam;\n                    if (typeof option.track===\"string\") {\n                        let trackFn: any;\n                        try {\n                            trackFn = eval(option.track);\n                        }\n                        catch(err) {                        \n                        }\n                        if (typeof trackFn===\"function\") {\n                            const res = trackFn({option: optionParam});\n                            if ((isSimpleObject(res)) && (typeof res.value===\"string\")) {                                                        \n                                if ((pnt) && (pnt[option.id]?.[res.value])) {\n                                    pnt = pnt[option.id][res.value];                                \n                                }\n                                else {\n                                    pnt = null;\n                                }    \n                            }\n                        }    \n                    }\n                }\n                else if ((option.type===\"variant-select\") && (typeof option.track===\"string\")) {\n                    let trackFn: any;\n                    try {\n                        trackFn = eval(option.track);\n                    }\n                    catch(err) {                        \n                    }\n                    if (typeof trackFn===\"function\") {\n                        const getVariantSelectOptionStub = (variantId: string) => {\n                            const variant = prebuildData.getVariantStub(variantId);\n                            const product = prebuildData.getProductStub(variant.productId);\n                            return {variant,product};\n                        };                        \n\n                        const optionParam = ((optionValue?.type===\"variant-select\") && optionValue?.id)?getVariantSelectOptionStub(optionValue?.id):{};\n                        const res = trackFn({option: optionParam});\n                        if ((isSimpleObject(res)) && (typeof res.value===\"string\")) {                            \n                            optionsStub[option.id] = (optionValue?.type===\"variant-select\")?getVariantSelectOptionStub(optionValue?.id):null;\n                            if ((pnt) && (pnt[option.id]?.[res.value])) {\n                                pnt = pnt[option.id][res.value];                                \n                            }\n                            else {\n                                pnt = null;\n                            }    \n                        }\n                    }\n                }\n                else if ((option.type===\"checkbox\") && (typeof option.track===\"string\")) {\n                    let trackFn: any;\n                    try {\n                        trackFn = eval(option.track);\n                    }\n                    catch(err) {                        \n                    }\n                    if (typeof trackFn===\"function\") {\n                        const getVariantSelectOptionStub = (variantId: string) => {\n                            const variant = prebuildData.getVariantStub(variantId);\n                            const product = prebuildData.getProductStub(variant.productId);\n                            return {variant,product};\n                        };                        \n\n                        const optionParam = {checked: (optionValue?.type===\"checkbox\")};\n                        const res = trackFn({option: optionParam});\n                        if ((isSimpleObject(res)) && (typeof res.value===\"string\")) {                            \n                            optionsStub[option.id] = optionParam;\n                            if ((pnt) && (pnt[option.id]?.[res.value])) {\n                                pnt = pnt[option.id][res.value];                                \n                            }\n                            else {\n                                pnt = null;\n                            }    \n                        }\n                    }\n                }\n                else if ((option.type===\"select\") && (optionValue?.type===\"select\")) {\n                    optionsStub[option.id] = {itemId: optionValue.id};\n                }\n                else if ((option.type===\"checkbox-group\") && (optionValue?.type===\"checkbox-group\")) {\n                    optionsStub[option.id] = {itemIds: optionValue.ids};\n                }\n            });\n\n            const getProperties = () => {\n                let ret: {[name: string]: string} = {};\n                productOptions.options.forEach((option) => {\n                    const optionValue = item.optionValues[option.id];\n                    if (\n                        ((option.type===\"buttons\") && (optionValue?.type===\"buttons\")) || \n                        ((option.type===\"select\") && (optionValue?.type===\"select\")) || \n                        ((option.type===\"checkbox-group\") && (optionValue?.type===\"checkbox-group\")) ||\n                        ((option.type===\"variant-select\") && (optionValue?.type===\"variant-select\")) ||\n                        ((option.type===\"product-select\") && (optionValue?.type===\"product-select\") && (option.multiSelect))\n                    ) {\n                        if (typeof option.lineItemProperties===\"string\") {\n                            let fn: any;\n                            try {\n                                fn = prebuildData.evalInContext(option.lineItemProperties);                                \n                            }\n                            catch(err) {                                \n                            }\n                            if (typeof fn===\"function\") {\n                                // console.log(\"optionsStub[option.id]\",optionsStub[option.id]);\n                                // console.log(\"option.lineItemProperties\",option.lineItemProperties);\n                                const res = fn({option: optionsStub[option.id]});\n                                // console.log(\"res\",res);\n                                if (isSimpleObject(res)) {\n                                    ret = {...ret,...res};\n                                }\n                            }\n                        }\n                    }\n                    // else if ((option.type===\"product-select\") && (optionValue?.type===\"product-select\") && (option.multiSelect) && (typeof option.track===\"string\")) {\n                    //     let trackFn: any;\n                    //     try {\n                    //         trackFn = eval(option.track);\n                    //     }\n                    //     catch(err) {                        \n                    //     }\n                    //     if (typeof trackFn===\"function\") {\n                    //         const optionParam = {\n                    //             multiSelect: {\n                    //                 selectedCount: optionValue.ids.length\n                    //             }\n                    //         };\n                    //         const res = trackFn({option: optionParam});\n                    //         if ((isSimpleObject(res)) && (typeof res.value===\"string\")) {                            \n                    //             optionsStub[option.id] = {itemId: res.value};\n                    //             if ((pnt) && (pnt[option.id]?.[res.value])) {\n                    //                 pnt = pnt[option.id][res.value];                                \n                    //             }\n                    //             else {\n                    //                 pnt = null;\n                    //             }    \n                    //         }\n                    //     }\n                    // }\n                });\n        \n                return ret;\n            };\n\n            if ((pnt) && (pnt!==itemProductStub)) {                \n                if (pnt._variants[0]?.id) {\n                    const properties = getProperties();\n                    // console.log(\"properties ---\",properties);\n                    addVariantLink(\":variant\",pnt._variants[0].id,properties);\n                }\n            }\n            // else if (productOptions.vars.track) {\n            else if (itemProductStub._variants[0]?.id) {\n                // if (itemProductStub._variants[0]?.id) {\n                    const properties = getProperties();\n                    // console.log(\"properties !!!\",properties);\n                    addVariantLink(\":variant\",itemProductStub._variants[0].id,properties);\n                // }                        \n            }\n            \n            productOptions.options.forEach((option) => {\n                const optionValue = item.optionValues[option.id];\n\n                if (option.type===\"buttons\") {\n                    if (optionValue.type===\"buttons\") {\n                        const { id,link } = option;                        \n                        if ((activatedOptionsMap[id] || ignoreActivatedOptionsMap) && (link)) {                                       \n                            processLink(option.id,link,{options: optionsStub,option: {itemId: optionValue.id}},option.quantity?(optionValue.quantity || 1):1);\n                        }    \n                    }\n                }\n                else if (option.type===\"checkbox\") {\n                    const { id,link } = option;\n                    if ((activatedOptionsMap[id] || ignoreActivatedOptionsMap) && (link)) {\n                        processLink(option.id,link);\n                    }\n                }\n                else if (option.type===\"checkbox-group\") {\n                    const { id,link } = option;\n                    if ((activatedOptionsMap[id] || ignoreActivatedOptionsMap) && (link)) {\n                        processLink(option.id,link);\n                    }\n                }\n                else if (option.type===\"select\") {\n                    const { id,link } = option;\n                    if ((activatedOptionsMap[id] || ignoreActivatedOptionsMap) && (link)) {\n                        processLink(option.id,link);\n                    }\n                }\n                else if (option.type===\"variant-select\") {                            \n                    if (optionValue?.type===\"variant-select\") {\n                        if (optionValue.id) {                        \n                            // addVariantLink(option.id,optionValue.id,((option.multiple) && (typeof optionValue.quantity===\"number\") && (optionValue.quantity>1))?optionValue.quantity:1);\n                        }\n                    }\n                }\n                else if (option.type===\"product-select\") {\n                    if (optionValue?.type===\"product-select\") {\n                        const fn = prebuildData.evalInContext(option.selectVariant);\n                        optionValue.ids.forEach((productId) => {\n                            const productStub = prebuildData.getProductStub(productId);\n                            if (productStub) {\n                                const param = {product: productStub,options: optionsStub};\n                                const variants = [fn(param)].flat().map((link) => link?._variants?.[0]).filter((variant) => !!variant);\n                                variants.forEach(({id}) => {\n                                    // addVariantLink(option.id,id);\n                                });                                                        \n                            }\n                        });\n                    }\n                }\n            });\n        }\n\n        return variantLinksHash;\n    }\n\n    getVariantLinks(ignoreFreeProducts = false) {\n        const variantLinksHash: {[variantId: string]: {\n            [attrJson: string]: number\n        }} = {};        \n\n        cart.items.forEach((item) => {\n            if ((item.freeProduct) && (ignoreFreeProducts)) return;\n\n            const breakdown = this.getVariantLinkBreakdownForItemNew(item);\n\n            Object.keys(breakdown).forEach((optionId) => {\n                Object.keys(breakdown[optionId]).forEach((variantId) => {\n                    Object.keys(breakdown[optionId][variantId]).forEach((attrJson) => {\n                        const quantity = breakdown[optionId][variantId][attrJson];\n                        variantLinksHash[variantId] = variantLinksHash[variantId] || {};\n                        variantLinksHash[variantId][attrJson] = variantLinksHash[variantId][attrJson] || 0;\n                        variantLinksHash[variantId][attrJson]+= quantity;\n                    });\n                });\n            });\n\n        });    \n\n        return variantLinksHash;                        \n    }\n\n}\n\nexport const cart = new Cart();\n\nexport const useCart = (isFirstRender: boolean) => {        \n    const [items,setItems] = useState<CartItemDisplay[]>([]);\n    const isFirstCall = useRef(true);\n    const isFirstRefresh = useRef(true);\n    const beforeRefreshSubscriptionsRef = useRef<(() => void)[]>([]);\n\n    const fireBeforeRefresh = () => {\n        const subsciptions = beforeRefreshSubscriptionsRef.current;\n        subsciptions.forEach((cb) => cb());\n    };\n\n    const refresh = () => {\n        fireBeforeRefresh();\n        cart.version++;\n        setItems(cart.genDisplayItems());\n        if (isFirstRefresh.current) {\n            isFirstRefresh.current = false;\n            refresh();\n        }\n    };\n\n    useEffect(() => {\n        if (isFirstRender) return;\n        cart.loadFromLocalStorage();\n        refresh();\n        return cart.subscribe(() => {\n            // ret.processFreeProducts();\n            refresh();\n        });\n    },[isFirstRender]);\n\n    const ret = {\n        items,\n        note: cart.note,\n        version: cart.version,\n        updateItemQuantity(id: string,quantityDisplay: string) {\n            if (cart.updateItemQuantity(id,quantityDisplay)) {\n                refresh();\n            }\n        },\n        subscribeBeforeRefresh(cb: () => void){\n            const subsciptions = beforeRefreshSubscriptionsRef.current;\n            subsciptions.push(cb);\n\n            return () => {\n                const newState = subsciptions.filter(x => x!==cb);\n                subsciptions.length = 0;\n                subsciptions.push(...newState);\n            };\n        },\n        processFreeProducts() {\n            prebuildData.freeProductDefinitions.forEach((fpDefinition) => {\n                const { cartUuid,conditions,productVariant,componentName } = fpDefinition;                \n                const variantQuantityHash = cart.getVariantLinks(true);\n                let totalQuantity = 0;\n                conditions.forEach(({variants,ratio}) => {\n                    let quantity = 0;\n                    variants.forEach(({variant: { id }}) => {\n                        Object.keys(variantQuantityHash[id] || {}).forEach((attrJson) => {\n                            quantity+= (variantQuantityHash[id][attrJson] || 0);\n                        });\n                    });\n                    totalQuantity+= Math.floor(quantity*ratio);\n                });\n                \n                const existingCartItem = cartUuid?cart.lookupItem(cartUuid):null;\n    \n                if (existingCartItem) {\n                    if (totalQuantity>0) {\n                        if (existingCartItem.quantity!==totalQuantity) {\n                            ret.updateItemQuantity(cartUuid,totalQuantity.toString());\n                        }                        \n                    }\n                    else {\n                        ret.removeItem(cartUuid);\n                        delete fpDefinition.cartUuid;\n                    }\n                }\n                else {\n                    if (totalQuantity>0) {\n                        const cartItem: CartItem = {\n                            activatedOptionsMap: {},\n                            optionValues: {},\n                            productId: productVariant.productId,\n                            quantity: totalQuantity,\n                            quantityDisplay: totalQuantity.toString(),\n                            uuid: misc.genUUID(),\n                            version: 1,\n                            freeProduct: true,\n                            freeComponentName: componentName\n                        };\n                        productVariant.variant.signature.forEach(({id,value}) => {\n                            cartItem.optionValues[id] = {\n                                type: \"buttons\",\n                                id: value\n                            };\n                        });\n                        fpDefinition.cartUuid = cartItem.uuid;\n                        cart.addItem(cartItem,true);\n                    }\n                }\n            });\n        },    \n        minusItemQuantity(id: string) {\n            if (cart.minusItemQuantity(id)) {\n                refresh();\n            }\n        },\n        plusItemQuantity(id: string) {      \n            if (cart.plusItemQuantity(id)) {\n                refresh();\n            }\n        },\n        itemQuantityBlur(id: string) {            \n            if (cart.itemQuantityBlur(id)) {\n                refresh();\n            }\n        },\n        removeItem(id: string){\n            cart.removeItem(id);\n            refresh();\n        },\n        clearCart(){\n            cart.clearCart();\n            refresh();\n        },\n        getItemCount() {\n            return ret.items.reduce((acc,{quantity,deleted}) => acc+(deleted?0:quantity),0);\n        },\n        getNonDeletedRealItemCount() {\n            return ret.items.filter(({deleted}) => !deleted).length;\n        },\n        getSubtotal() {\n            const discountBreakdown: DiscountBreakdown = {};\n            ret.items.forEach(({discountBreakdown: db}) => {\n                Object.keys(db).forEach((componentName) => {\n                    const { discount,fromQuantity } = db[componentName];\n                    discountBreakdown[componentName] = discountBreakdown[componentName] || { discount: 0,fromQuantity: 0 };\n                    discountBreakdown[componentName].discount+= discount;\n                    discountBreakdown[componentName].fromQuantity+= fromQuantity;\n                });\n            });            \n\n            return {\n                subTotal: ret.items.reduce((acc,{price,salePrice,deleted}) => acc+(deleted?0:((typeof salePrice===\"number\")?salePrice:price)),0),\n                discountBreakdown\n            };\n            // console.log(\"ret.items\",ret.items);\n            // let subtotal = ret.items.reduce((acc,{price,salePrice,deleted}) => acc+(deleted?0:((typeof salePrice===\"number\")?salePrice:price)),0);\n            // const usedVariants: {[variantId: string]: true} = {};\n            // prebuildData.quantityDiscountDefinitions.forEach(({ discount: { apply,per,percentage },variantHash }) => {\n            //     const saleUsedVariants: {[variantId: string]: true} = {};\n            //     const saleContribution = { price: 0,fromQuantity: 0};\n            //     ret.items.forEach(({productId,variantPriceContribution,notQuantityEditable}) => {\n            //         if (notQuantityEditable) return;\n            //         Object.keys(variantPriceContribution).forEach((variantId) => {\n            //             if ((variantHash[variantId]) && (!usedVariants[variantId])) {\n            //                 const { fromQuantity,price } = variantPriceContribution[variantId];\n            //                 saleContribution.fromQuantity+= fromQuantity;\n            //                 saleContribution.price+= price;\n            //                 saleUsedVariants[variantId] = true;\n            //             }\n            //         });\n            //     });\n            //     Object.keys(saleUsedVariants).forEach((variantId) => {\n            //         usedVariants[variantId] = true;\n            //     });\n            //     if ((saleContribution.price>0) && (percentage>0)) {\n            //         const totalRound = per+apply;\n            //         const remainder = saleContribution.fromQuantity%totalRound;\n            //         const roundCount = Math.round((saleContribution.fromQuantity-remainder)/totalRound);\n            //         const remainderPerComponent = Math.min(per,remainder);\n            //         const perComponent = (roundCount*per)+remainderPerComponent;\n            //         const applyComponent = saleContribution.fromQuantity-perComponent;\n            //         let toDiscount = Math.round((applyComponent/saleContribution.fromQuantity)*(percentage/100)*saleContribution.price);\n            //         toDiscount = Math.min(Math.round(toDiscount/50)*50,subtotal);\n            //         // console.log(\"toDiscount\",toDiscount);\n            //         // console.log(\"saleContribution\",saleContribution);                    \n            //         // subtotal-= toDiscount;\n            //     }\n            // });\n            // return subtotal;\n        },\n        getUndiscountedSubtotal() {\n            return ret.items.reduce((acc,{price,salePrice,deleted}) => acc+(deleted?0:price),0);\n        },\n        updateNote(newValue: string) {\n            if (cart.updateNote(newValue)) {\n                refresh();\n                return true;    \n            }\n            return false;\n        },\n        //ignoreFreeProducts = false\n        getCheckoutData() {\n            const optionsCompiler = prebuildData.getOptionsCompiler();\n\n            const subtotal = ret.getSubtotal().subTotal;\n            let variantLinksHash = cart.getVariantLinks();\n            \n            // console.log(\"i was here\",prebuildData.isVariantsDisabled());\n            // if (!prebuildData.isVariantsDisabled()) {\n                // variantLinksHash = cart.getVariantLinksNew();\n            // }\n            // else {\n            //     variantLinksHash = cart.getVariantLinks();\n            // }\n\n            const infoAttributes: InfoAttributes = {\n                cartUrl: misc.addQueryParamToUrl(window.location.href,\"from-checkout\",\"true\"),\n                items: items.map(({originalImageSrc: thumbSrc,price,salePrice,quantity,title,properties},index) => {\n                    const { collectionId,collectionName } = prebuildData.getProductToCollectionById(cart.items[index].productId);                    \n                    const result: InfoAttributesItem = {\n                        thumbSrc,\n                        price: (typeof salePrice===\"number\")?salePrice:price,\n                        quantity,\n                        title,\n                        properties,\n                        productId: cart.items[index].productId,\n                        options: cart.items[index].optionValues,\n                        collection: {\n                            id: collectionId,\n                            name: collectionName\n                        },\n                        freeProduct: !!cart.items[index].freeProduct\n                    };\n                    return result;\n                })\n            };            \n\n            const result: CheckoutData = {\n                subtotal,\n                infoAttributes,\n                variantLinksQuantityHash: variantLinksHash,\n                snapshotId: prebuildData.getSnapshotId()\n            };\n            return result;\n        },\n        async checkout() {\n            const { subtotal,infoAttributes,variantLinksQuantityHash,snapshotId } = ret.getCheckoutData();\n            // console.log(\"infoAttributes.items\",infoAttributes.items);\n            // return;\n            const centVariantId = prebuildData.getCentVariantId();\n            const display = infoAttributesToDisplayString(infoAttributes);\n            // const ps = genPackslipAttributeString(cart.items);\n            const ps = \"\";\n            const snpsid = snapshotId;\n\n            // const subtotal = ret.getSubtotal().subTotal;\n            // const centVariantId = prebuildData.getCentVariantId();\n            // const infoVariantId = prebuildData.getInfoVariantId();            \n            // const variantLinksHash: {[variantId: string]: number} = {};\n\n            // const isVariantsDisabled = prebuildData.isVariantsDisabled();\n            \n            // if (!isVariantsDisabled) {\n            //     cart.items.forEach((item) => {\n            //         const { activatedOptionsMap } = item;                \n            //         const productOptions = optionsCompiler.getProductOptions(item.productId);\n            //         if (productOptions) {              \n            //             const addVariantLink = (id: string,quantity = 1) => {                        \n            //                 if ((prebuildData.variantExists(id)) && (!prebuildData.isVariantCustom(id))) {\n            //                     variantLinksHash[id] = variantLinksHash[id] || 0;\n            //                     variantLinksHash[id]+= quantity*item.quantity;    \n            //                 }\n            //             };\n            //             const processLink = (link: string,param: any = {},quantity = 1) => {\n            //                 const fn = prebuildData.evalInContext(link);\n            //                 const variants = [fn(param)].flat().map((link) => link?._variants?.[0]).filter((variant) => !!variant);\n            //                 variants.forEach(({id}) => {\n            //                     addVariantLink(id,quantity);\n            //                 });\n            //             };\n            //             if (productOptions.link) {\n            //                 processLink(productOptions.link);\n            //             }\n            //             const optionsStub: {[id: string]: {itemId: string}} = {};\n            //             const itemProductStub = prebuildData.getProductStub(item.productId);                    \n            //             let pnt = itemProductStub;\n            //             if (!pnt) return;\n            //             productOptions.options.forEach((option) => {\n            //                 const optionValue = item.optionValues[option.id];\n            //                 if ((option.type===\"buttons\") && (optionValue.type===\"buttons\")) {\n            //                     optionsStub[option.id] = {itemId: optionValue.id};\n            //                     if (option.track) {\n            //                         if ((pnt) && (pnt[option.id]?.[optionValue.id])) {\n            //                             pnt = pnt[option.id][optionValue.id];                                \n            //                         }\n            //                         else {\n            //                             pnt = null;\n            //                         }    \n            //                     }\n            //                 }\n            //             });\n            //             if ((pnt) && (pnt!==itemProductStub)) {\n            //                 if (pnt._variants[0]?.id) {\n            //                     addVariantLink(pnt._variants[0].id);\n            //                 }\n            //             }\n            //             else if (productOptions.vars.track) {\n            //                 if (itemProductStub._variants[0]?.id) {\n            //                     addVariantLink(itemProductStub._variants[0].id);\n            //                 }                        \n            //             }\n            //             productOptions.options.forEach((option) => {\n            //                 const optionValue = item.optionValues[option.id];\n            //                 if (option.type===\"buttons\") {\n            //                     if (optionValue.type===\"buttons\") {\n            //                         const { id,link } = option;\n            //                         if ((activatedOptionsMap[id]) && (link)) {                                       \n            //                             processLink(link,{options: optionsStub,option: {itemId: optionValue.id}},option.quantity?(optionValue.quantity || 1):1);\n            //                         }    \n            //                     }\n            //                 }\n            //                 else if (option.type===\"checkbox\") {\n            //                     const { id,link } = option;\n            //                     if ((activatedOptionsMap[id]) && (link)) {\n            //                         processLink(link);\n            //                     }\n            //                 }\n            //                 else if (option.type===\"checkbox-group\") {\n            //                     const { id,link } = option;\n            //                     if ((activatedOptionsMap[id]) && (link)) {\n            //                         processLink(link);\n            //                     }\n            //                 }\n            //                 else if (option.type===\"select\") {\n            //                     const { id,link } = option;\n            //                     if ((activatedOptionsMap[id]) && (link)) {\n            //                         processLink(link);\n            //                     }\n            //                 }\n            //                 else if (option.type===\"variant-select\") {                            \n            //                     if (optionValue?.type===\"variant-select\") {\n            //                         if (optionValue.id) {                        \n            //                             addVariantLink(optionValue.id,((option.multiple) && (typeof optionValue.quantity===\"number\") && (optionValue.quantity>1))?optionValue.quantity:1);\n            //                         }\n            //                     }\n            //                 }\n            //                 else if (option.type===\"product-select\") {\n            //                     if (optionValue.type===\"product-select\") {\n            //                         const fn = prebuildData.evalInContext(option.selectVariant);\n            //                         optionValue.ids.forEach((productId) => {\n            //                             const productStub = prebuildData.getProductStub(productId);\n            //                             if (productStub) {\n            //                                 const param = {product: productStub,options: optionsStub};\n            //                                 const variants = [fn(param)].flat().map((link) => link?._variants?.[0]).filter((variant) => !!variant);\n            //                                 variants.forEach(({id}) => {\n            //                                     addVariantLink(id);\n            //                                 });                                                        \n            //                             }\n            //                         });\n            //                     }\n            //                 }\n            //             });\n            //         }\n            //     });                            \n            // }\n            // const infoAttributes = {\n            //     cartUrl: misc.addQueryParamToUrl(window.location.href,\"from-checkout\",\"true\"),\n            //     items: items.map(({originalImageSrc: thumbSrc,price,quantity,title,properties},index) => {\n            //         const { collectionId,collectionName } = prebuildData.getProductToCollectionById(cart.items[index].productId);                    \n            //         return {\n            //             thumbSrc,\n            //             price,\n            //             quantity,\n            //             title,\n            //             properties,\n            //             productId: cart.items[index].productId,\n            //             options: cart.items[index].optionValues,\n            //             collection: {\n            //                 id: collectionId,\n            //                 name: collectionName\n            //             }\n            //         };\n            //     })\n            // };\n\n            const cartUrl = misc.addQueryParamToUrl(window.location.href,\"from-checkout\",\"true\");\n\n            const centLineItem: LineItem = {\n                attributes: [],\n                quantity: subtotal,\n                variantId: centVariantId\n            };\n            \n            // const infoLineItems: LineItem[] = [];\n            // const infoKeys = Object.keys(infoAttributesHash);\n            // const bufferKeys: string[] = [];\n\n            // const maxAttributesPerItem = 250;\n            \n\n            // while(infoKeys.length>0) {\n            //     while((infoKeys.length>0) && (bufferKeys.length<maxAttributesPerItem)) bufferKeys.push(infoKeys.shift()!);\n            //     infoLineItems.push({\n            //         attributes: bufferKeys.map((key) => ({key,value: infoAttributesHash[key]})),\n            //         quantity: 1,\n            //         variantId: infoVariantId\n            //     });\n            //     bufferKeys.length = 0;\n            // }\n\n            // console.log(\"variantLinksQuantityHash\",variantLinksQuantityHash);\n\n            const linkedLineItems = Object.keys(variantLinksQuantityHash).map((variantId) => {\n                return Object.keys(variantLinksQuantityHash[variantId]).map((attrJson) => {\n                    const properties: {[name: string]: string} = JSON.parse(attrJson);\n                    const ret: LineItem = {\n                        attributes: Object.keys(properties).map((key) => ({key,value: properties[key].toString()})),\n                        quantity: variantLinksQuantityHash[variantId][attrJson],\n                        variantId\n                    };\n                    return ret;\n                });                \n            }).flat();\n\n            // console.log(\"linkedLineItems\",linkedLineItems);\n\n            // return \"www\";\n\n            const res = await createCheckout({cartUrl,/* items: JSON.stringify(infoAttributes),display, */ps,snpsid},[/*centLineItem,*/...linkedLineItems],cart.note);\n            if (res?.data?.checkoutCreate?.checkout) {\n                let { id: checkoutId,webUrl } = res.data.checkoutCreate.checkout as { id: string; webUrl: string; };\n                const { checkoutDomain } = prebuildData.getStorefront();\n                if (checkoutDomain) {\n                    const regexRes = /^https:\\/\\/([^\\/]+)\\//.exec(webUrl);\n                    if (regexRes) {\n                        webUrl = webUrl.split(regexRes[1]).join(checkoutDomain);\n                    }    \n                }\n                // for(let i=0;i<infoLineItems.length;i++) {\n                //     const infoLineItem = infoLineItems[i];\n                //     const liaRes = await checkoutLineItemsAdd(checkoutId,infoLineItem);\n                //     if (!liaRes?.data?.checkoutLineItemsAdd?.checkout) return null;\n                // }\n                return webUrl;\n            }\n            else {\n                // console.log(\"res\",res);\n                return null;\n            }\n        }\n    };    \n\n    if (isFirstCall.current) {\n        isFirstCall.current = false;\n        ret.subscribeBeforeRefresh(() => {\n            ret.processFreeProducts();\n        });\n    }\n\n    return ret;\n};","export type SimpleObject = {[key: string]: any};\n\nclass MiscShared {\n    isSimpleObject(value: any): value is SimpleObject {\n        return (typeof value === \"object\") && (!Array.isArray(value)) && (value!==null);\n    }    \n\n    cloneSimpleData<T>(value: T): T {\n        if (this.isSimpleObject(value)) {\n            const ret: any = {};\n            for (let key in value) {\n                ret[key] = this.cloneSimpleData(value[key]);\n            }\n            return ret as unknown as T;\n        }\n        else if (Array.isArray(value)) {\n            return (value as any[]).map(this.cloneSimpleData.bind(this)) as unknown as T;\n        }\n        else if (value===null) {\n            return null as unknown as T;\n        }\n        else if (value===undefined) {\n            return undefined as unknown as T;\n        }\n        else if ([\"number\",\"string\",\"boolean\"].includes(typeof value)) {\n            return value as unknown as T;\n        }\n        else {\n            throw new Error(\"cannot clone: unrecognized data type encountered\");\n        }\n    }\n\n    convertSplitPhoneNumberToPlusPhoneNumber(value: string) {\n        const parts = (value.includes(\"/\")?value:`/${value}`).split(\"/\");\n        return \"+\"+parts[0]+parts.slice(1).join(\"/\");\n    }\n}\n\nexport const miscShared = new MiscShared();","import { cloneSimpleData } from \"./misc\";\nimport { OptionsDefinitionDefinition, OptionsDefinitionWithExtends, OptionsDefinitionWithInherits, OptionsDefinitionWithOptions } from \"../types\";\nimport { OptionSnapshot } from \"./types\";\n\nexport class OptionsCompiler {\n    private cache: { \n        productOptions: { [productId: string]: OptionsDefinitionWithOptions };\n        collectionOptions: { [collectionId: string]: { withoutLoad?: OptionsDefinitionWithOptions; withLoad: { [id: string]: OptionsDefinitionWithOptions } } };\n    } = { productOptions: {}, collectionOptions: {} };\n    private productToParentCollection: {[productId: string]: string} = {};\n    private extensionStack: {collectionId: string;load?: string}[] = [];\n\n    constructor(private snapshot: OptionSnapshot) {\n        for(let collectionId in snapshot.collections) {\n            this.cache.collectionOptions[collectionId] = { withLoad: {} };\n            snapshot.collections[collectionId].productIds.forEach((productId) => {\n                this.productToParentCollection[productId] = collectionId;\n            });\n        }\n    }\n\n    private createEmptyDefinitionWithOptions() {\n        const ret: OptionsDefinitionWithOptions = {\n            type: \"options\",\n            options: [],\n            price: {},\n            vars: {},\n            display: []\n        };\n        return ret;\n    }\n\n    private loadDefinitionDefinition(definition: OptionsDefinitionDefinition) {\n        if (definition.type===\"options\") {\n            return definition;\n        }\n        else {                        \n            return this.getCollectionOptionsAsExtension(definition.extends.collection,definition.load,definition);\n        }  \n    }\n\n    getCollectionOptions(collectionId: string,load?: string) {\n        if (!this.snapshot.collections[collectionId]) throw new Error(`Attempting to extend an inexistant collection '${collectionId}'`);\n\n        const process = () => {\n            const { definition } = this.snapshot.collections[collectionId];\n            if (load) {\n                if (definition.type===\"definitions\") {\n                    if (!definition.definitions[load]) throw new Error(`Attemping to load inexistant definition '${load}' on collection '${collectionId}'`);\n                    return this.loadDefinitionDefinition(definition.definitions[load]);\n                }\n                else {\n                    throw new Error(`Attempting to load definition '${load}' from a collection without definitions (collection: '${collectionId}')`);\n                }\n            }\n            else {\n                if (definition.type===\"definitions\") {\n                    if (definition.load) {\n                        if (!definition.definitions[definition.load]) throw new Error(`Attemping to load inexistant definition '${definition.load}' on collection '${collectionId}'`);\n                        return this.loadDefinitionDefinition(definition.definitions[definition.load]);    \n                    }\n                    else {\n                        return this.createEmptyDefinitionWithOptions();\n                    }\n                }\n                else if (definition.type===\"extends\") {\n                    return this.getCollectionOptionsAsExtension(definition.extends.collection,definition.load,definition);\n                }\n                else {\n                    return definition;\n                }\n            }\n        };\n\n        if (load) {\n            return this.cache.collectionOptions[collectionId].withLoad[load] = this.cache.collectionOptions[collectionId].withLoad[load] || process();\n        }\n        else {\n            return this.cache.collectionOptions[collectionId].withoutLoad = this.cache.collectionOptions[collectionId].withoutLoad || process();\n        }        \n    }    \n\n    private getCollectionOptionsAsExtension(collectionId: string,load: string | undefined,mergeDefinition: OptionsDefinitionWithExtends | OptionsDefinitionWithInherits) {\n        if (this.extensionStack.filter((item) => (item.collectionId===collectionId) && (item.load===load)).length>0) {\n            throw new Error(`circular collection extension reference encountered (collectionId: ${collectionId},load: ${load})`);\n        }\n        this.extensionStack.push({collectionId,load});                \n        const ret = this.mergeDefinitionWithCustomization(cloneSimpleData(this.getCollectionOptions(collectionId,load)),mergeDefinition);\n        this.extensionStack.pop();\n        return ret;\n    }\n\n    private mergeDefinitionWithCustomization(definition: OptionsDefinitionWithOptions,customization: OptionsDefinitionWithExtends | OptionsDefinitionWithInherits) {\n        definition.price = {...definition.price,...customization.price};\n        definition.vars = {...definition.vars,...customization.vars};\n        definition.display = [...((customization.display.length>0)?customization.display:definition.display)];\n        return definition;\n    }\n\n    getProductOptions(productId: number | string) {2\n        productId = productId.toString();\n        const { products } = this.snapshot;\n        if (!products[productId]) throw new Error(`trying to get product options for an inexistant product (id: ${productId})`);\n\n        const process = () => {                        \n            const { definition } = products[productId];\n            if (definition.type===\"options\") {                \n                return definition;\n            }\n            else  {\n                const collectionId = (definition.type===\"extends\")?definition.extends.collection:this.productToParentCollection[productId];\n                return this.getCollectionOptionsAsExtension(collectionId,definition.load,definition);\n            }\n        };\n\n        const removeNegativeConditionalOptions = (definition: OptionsDefinitionWithOptions) => {\n            definition.options = definition.options.filter(({conditional}) => {\n                if (conditional) {\n                    const conditionalFn = eval(conditional);                    \n                    return !!conditionalFn({vars: definition.vars});\n                }\n                else {\n                    return true;\n                }\n            });\n            definition.options.forEach((option) => {\n                if (option.type===\"checkbox-group\") {\n                    option.items = option.items.filter(({conditional}) => {\n                        if (conditional) {\n                            const conditionalFn = eval(conditional);\n                            return !!conditionalFn({vars: definition.vars});\n                        }\n                        else {\n                            return true;\n                        }\n                    });\n                }\n            });\n            return definition;\n        };\n\n        return this.cache.productOptions[productId] = this.cache.productOptions[productId] || removeNegativeConditionalOptions(process());\n    }\n}","export type SimpleObject = {[key: string]: any};\n\nexport const isSimpleObject = (value: any): value is SimpleObject => \n    (typeof value === \"object\") && (!Array.isArray(value)) && (value!==null);\n\nexport const cloneSimpleData = <T>(value: T): T => {\n    if (isSimpleObject(value)) {\n        const ret: any = {};\n        for (let key in value) {\n            ret[key] = cloneSimpleData(value[key]);\n        }\n        return ret as unknown as T;\n    }\n    else if (Array.isArray(value)) {\n        return (value as any[]).map(cloneSimpleData) as unknown as T;\n    }\n    else if (value===null) {\n        return null as unknown as T;\n    }\n    else if (value===undefined) {\n        return undefined as unknown as T;\n    }\n    else if ([\"number\",\"string\",\"boolean\"].includes(typeof value)) {\n        return value as unknown as T;\n    }\n    else {\n        throw new Error(\"cannot clone: unrecognized data type encountered\");\n    }\n};","export type DeltaDirection = \"None\" | \"Vertical\" | \"Horizontal\";\n\nexport const trackTouchMoveDelta = (elem: HTMLDivElement,onDelta: (delta: {x: number;y: number;wx: number;wy: number}) => void,{\n        onStart = () => {},\n        onEnd = () => {},\n        onFirstDelta = () => {},\n        deltaDirection = \"None\",\n        preventDefaultOnDelta = false\n    }: {\n        onStart?: () => void;\n        onEnd?: (delta: {wx: number;wy: number}) => void;\n        onFirstDelta?: () => void;\n        deltaDirection?: DeltaDirection;\n        preventDefaultOnDelta?: boolean;\n    } = {}) => {    \n    let tsHandler: (e: TouchEvent) => void;\n    let tmHandler: (e: TouchEvent) => void;\n    let teHandler: (e: TouchEvent) => void;\n\n    const activeTouches: {[identifier: string]: true} = {};\n    let startPoint: {x: number,y: number} = null;\n    let lastPoint: {x: number,y: number} = null;\n    let isFirstDelta = true;\n    let inDeadZone = false;\n    let blocked = false;\n    let deltaIsActive = false;\n\n    const clearTouchDown = () => \n    {        \n        if (startPoint) onEnd({wx: lastPoint.x-startPoint.x,wy: lastPoint.y-startPoint.y});\n        deltaIsActive = false;\n        startPoint = null;\n        lastPoint = null;\n        isFirstDelta = true;\n    };\n\n    const enterDeadZone = () => \n    {\n        if ((Object.keys(activeTouches).length>0) && (!inDeadZone))\n        {\n            clearTouchDown();\n            inDeadZone = true;\n        }\n    };\n\n    elem.addEventListener(\"touchstart\",tsHandler=(event) => {\n        for(let i=0;i<event.changedTouches.length;i++)\n        {\n            const touch = event.changedTouches[i];\n            const beforeTouchCount = Object.keys(activeTouches).length;\n            activeTouches[touch.identifier.toString()] = true;\n            const afterTouchCount = Object.keys(activeTouches).length;\n            if ((beforeTouchCount===0) && (afterTouchCount===1))\n            {\n                blocked = false;\n                deltaIsActive = false;\n                startPoint = {\n                    x: touch.screenX,\n                    y: touch.screenY\n                };\n                lastPoint = {\n                    x: touch.screenX,\n                    y: touch.screenY\n                };\n                onStart();\n            }\n            else if (afterTouchCount>1)\n            {\n                enterDeadZone();\n            }\n        }\n    });\n    elem.addEventListener(\"touchmove\",tmHandler=(event) => {\n        if ((preventDefaultOnDelta) && (deltaIsActive)) event.preventDefault();\n        for(let i=0;i<event.changedTouches.length;i++)\n        {\n            const touch = event.changedTouches[i];            \n            if ((Object.keys(activeTouches).length==1) && activeTouches[touch.identifier.toString()] && (!inDeadZone))\n            {\n                const x = touch.screenX-lastPoint.x;\n                const y = touch.screenY-lastPoint.y;\n                lastPoint.x = touch.screenX;\n                lastPoint.y = touch.screenY;\n                const wx = touch.screenX-startPoint.x;\n                const wy = touch.screenY-startPoint.y;\n                if ((isFirstDelta) && (deltaDirection!==\"None\")) {\n                    if (((deltaDirection===\"Vertical\") && (Math.abs(wx)>Math.abs(wy))) || ((deltaDirection===\"Horizontal\") && (Math.abs(wy)>Math.abs(wx)))) {\n                        blocked = true;\n                    }\n                }\n                if (!blocked) {\n                    deltaIsActive = true;\n                    onDelta({x,y,wx,wy});\n                }\n                if (isFirstDelta) {\n                    isFirstDelta = false;\n                    onFirstDelta();\n                }\n            }\n        }\n    });\n    elem.addEventListener(\"touchend\",teHandler=(event) => {\n        for(let i=0;i<event.changedTouches.length;i++)\n        {\n            const touch = event.changedTouches[i];\n            const beforeTouchCount = Object.keys(activeTouches).length;\n            delete activeTouches[touch.identifier.toString()];\n            const afterTouchCount = Object.keys(activeTouches).length;\n            if ((beforeTouchCount===1) && (afterTouchCount===0))\n            {\n                clearTouchDown();\n                inDeadZone = false;\n            }\n        }\n    });\n    return () => {\n        elem.removeEventListener(\"touchstart\",tsHandler);\n        elem.removeEventListener(\"touchmove\",tmHandler);\n        elem.removeEventListener(\"touchend\",teHandler);\n    };\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = Image;\nvar _extends = require(\"@swc/helpers/lib/_extends.js\").default;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _interop_require_wildcard = require(\"@swc/helpers/lib/_interop_require_wildcard.js\").default;\nvar _object_without_properties_loose = require(\"@swc/helpers/lib/_object_without_properties_loose.js\").default;\nvar _react = _interop_require_wildcard(require(\"react\"));\nvar _head = _interop_require_default(require(\"../shared/lib/head\"));\nvar _imageConfig = require(\"../shared/lib/image-config\");\nvar _useIntersection = require(\"./use-intersection\");\nvar _imageConfigContext = require(\"../shared/lib/image-config-context\");\nvar _utils = require(\"../shared/lib/utils\");\nvar _normalizeTrailingSlash = require(\"./normalize-trailing-slash\");\nfunction Image(_param) {\n    var { src , sizes , unoptimized =false , priority =false , loading , lazyRoot =null , lazyBoundary , className , quality , width , height , style , objectFit , objectPosition , onLoadingComplete , placeholder ='empty' , blurDataURL  } = _param, all = _object_without_properties_loose(_param, [\n        \"src\",\n        \"sizes\",\n        \"unoptimized\",\n        \"priority\",\n        \"loading\",\n        \"lazyRoot\",\n        \"lazyBoundary\",\n        \"className\",\n        \"quality\",\n        \"width\",\n        \"height\",\n        \"style\",\n        \"objectFit\",\n        \"objectPosition\",\n        \"onLoadingComplete\",\n        \"placeholder\",\n        \"blurDataURL\"\n    ]);\n    const configContext = (0, _react).useContext(_imageConfigContext.ImageConfigContext);\n    const config = (0, _react).useMemo(()=>{\n        const c = configEnv || configContext || _imageConfig.imageConfigDefault;\n        const allSizes = [\n            ...c.deviceSizes,\n            ...c.imageSizes\n        ].sort((a, b)=>a - b);\n        const deviceSizes = c.deviceSizes.sort((a, b)=>a - b);\n        return _extends({}, c, {\n            allSizes,\n            deviceSizes\n        });\n    }, [\n        configContext\n    ]);\n    let rest = all;\n    let layout = sizes ? 'responsive' : 'intrinsic';\n    if ('layout' in rest) {\n        // Override default layout if the user specified one:\n        if (rest.layout) layout = rest.layout;\n        // Remove property so it's not spread on <img>:\n        delete rest.layout;\n    }\n    let loader = defaultImageLoader;\n    if ('loader' in rest) {\n        if (rest.loader) {\n            const customImageLoader = rest.loader;\n            var _tmp;\n            _tmp = (obj)=>{\n                const { config: _  } = obj, opts = _object_without_properties_loose(obj, [\n                    \"config\"\n                ]);\n                // The config object is internal only so we must\n                // not pass it to the user-defined loader()\n                return customImageLoader(opts);\n            }, loader = _tmp, _tmp;\n        }\n        // Remove property so it's not spread on <img>\n        delete rest.loader;\n    }\n    let staticSrc = '';\n    if (isStaticImport(src)) {\n        const staticImageData = isStaticRequire(src) ? src.default : src;\n        if (!staticImageData.src) {\n            throw new Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(staticImageData)}`);\n        }\n        blurDataURL = blurDataURL || staticImageData.blurDataURL;\n        staticSrc = staticImageData.src;\n        if (!layout || layout !== 'fill') {\n            height = height || staticImageData.height;\n            width = width || staticImageData.width;\n            if (!staticImageData.height || !staticImageData.width) {\n                throw new Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(staticImageData)}`);\n            }\n        }\n    }\n    src = typeof src === 'string' ? src : staticSrc;\n    let isLazy = !priority && (loading === 'lazy' || typeof loading === 'undefined');\n    if (src.startsWith('data:') || src.startsWith('blob:')) {\n        // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\n        unoptimized = true;\n        isLazy = false;\n    }\n    if (typeof window !== 'undefined' && loadedImageURLs.has(src)) {\n        isLazy = false;\n    }\n    if (experimentalUnoptimized) {\n        unoptimized = true;\n    }\n    const [blurComplete, setBlurComplete] = (0, _react).useState(false);\n    const [setIntersection, isIntersected, resetIntersected] = (0, _useIntersection).useIntersection({\n        rootRef: lazyRoot,\n        rootMargin: lazyBoundary || '200px',\n        disabled: !isLazy\n    });\n    const isVisible = !isLazy || isIntersected;\n    const wrapperStyle = {\n        boxSizing: 'border-box',\n        display: 'block',\n        overflow: 'hidden',\n        width: 'initial',\n        height: 'initial',\n        background: 'none',\n        opacity: 1,\n        border: 0,\n        margin: 0,\n        padding: 0\n    };\n    const sizerStyle = {\n        boxSizing: 'border-box',\n        display: 'block',\n        width: 'initial',\n        height: 'initial',\n        background: 'none',\n        opacity: 1,\n        border: 0,\n        margin: 0,\n        padding: 0\n    };\n    let hasSizer = false;\n    let sizerSvgUrl;\n    const layoutStyle = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        boxSizing: 'border-box',\n        padding: 0,\n        border: 'none',\n        margin: 'auto',\n        display: 'block',\n        width: 0,\n        height: 0,\n        minWidth: '100%',\n        maxWidth: '100%',\n        minHeight: '100%',\n        maxHeight: '100%',\n        objectFit,\n        objectPosition\n    };\n    let widthInt = getInt(width);\n    let heightInt = getInt(height);\n    const qualityInt = getInt(quality);\n    if (process.env.NODE_ENV !== 'production') {\n        if (!src) {\n            // React doesn't show the stack trace and there's\n            // no `src` to help identify which image, so we\n            // instead console.error(ref) during mount.\n            widthInt = widthInt || 1;\n            heightInt = heightInt || 1;\n            unoptimized = true;\n        } else {\n            if (!VALID_LAYOUT_VALUES.includes(layout)) {\n                if (layout === 'raw') {\n                    throw new Error(`The layout=\"raw\" experiment has been moved to a new module. Please import \\`next/future/image\\` instead.`);\n                }\n                throw new Error(`Image with src \"${src}\" has invalid \"layout\" property. Provided \"${layout}\" should be one of ${VALID_LAYOUT_VALUES.map(String).join(',')}.`);\n            }\n            if (typeof widthInt !== 'undefined' && isNaN(widthInt) || typeof heightInt !== 'undefined' && isNaN(heightInt)) {\n                throw new Error(`Image with src \"${src}\" has invalid \"width\" or \"height\" property. These should be numeric values.`);\n            }\n            if (layout === 'fill' && (width || height)) {\n                (0, _utils).warnOnce(`Image with src \"${src}\" and \"layout='fill'\" has unused properties assigned. Please remove \"width\" and \"height\".`);\n            }\n            if (!VALID_LOADING_VALUES.includes(loading)) {\n                throw new Error(`Image with src \"${src}\" has invalid \"loading\" property. Provided \"${loading}\" should be one of ${VALID_LOADING_VALUES.map(String).join(',')}.`);\n            }\n            if (priority && loading === 'lazy') {\n                throw new Error(`Image with src \"${src}\" has both \"priority\" and \"loading='lazy'\" properties. Only one should be used.`);\n            }\n            if (sizes && layout !== 'fill' && layout !== 'responsive') {\n                (0, _utils).warnOnce(`Image with src \"${src}\" has \"sizes\" property but it will be ignored. Only use \"sizes\" with \"layout='fill'\" or \"layout='responsive'\"`);\n            }\n            if (placeholder === 'blur') {\n                if (layout !== 'fill' && (widthInt || 0) * (heightInt || 0) < 1600) {\n                    (0, _utils).warnOnce(`Image with src \"${src}\" is smaller than 40x40. Consider removing the \"placeholder='blur'\" property to improve performance.`);\n                }\n                if (!blurDataURL) {\n                    const VALID_BLUR_EXT = [\n                        'jpeg',\n                        'png',\n                        'webp',\n                        'avif'\n                    ] // should match next-image-loader\n                    ;\n                    throw new Error(`Image with src \"${src}\" has \"placeholder='blur'\" property but is missing the \"blurDataURL\" property.\n          Possible solutions:\n            - Add a \"blurDataURL\" property, the contents should be a small Data URL to represent the image\n            - Change the \"src\" property to a static import with one of the supported file types: ${VALID_BLUR_EXT.join(',')}\n            - Remove the \"placeholder\" property, effectively no blur effect\n          Read more: https://nextjs.org/docs/messages/placeholder-blur-data-url`);\n                }\n            }\n            if ('ref' in rest) {\n                (0, _utils).warnOnce(`Image with src \"${src}\" is using unsupported \"ref\" property. Consider using the \"onLoadingComplete\" property instead.`);\n            }\n            if (!unoptimized && loader !== defaultImageLoader) {\n                const urlStr = loader({\n                    config,\n                    src,\n                    width: widthInt || 400,\n                    quality: qualityInt || 75\n                });\n                let url;\n                try {\n                    url = new URL(urlStr);\n                } catch (err) {}\n                if (urlStr === src || url && url.pathname === src && !url.search) {\n                    (0, _utils).warnOnce(`Image with src \"${src}\" has a \"loader\" property that does not implement width. Please implement it or use the \"unoptimized\" property instead.` + `\\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader-width`);\n                }\n            }\n            if (style) {\n                let overwrittenStyles = Object.keys(style).filter((key)=>key in layoutStyle);\n                if (overwrittenStyles.length) {\n                    (0, _utils).warnOnce(`Image with src ${src} is assigned the following styles, which are overwritten by automatically-generated styles: ${overwrittenStyles.join(', ')}`);\n                }\n            }\n            if (typeof window !== 'undefined' && !perfObserver && window.PerformanceObserver) {\n                perfObserver = new PerformanceObserver((entryList)=>{\n                    for (const entry of entryList.getEntries()){\n                        var ref;\n                        // @ts-ignore - missing \"LargestContentfulPaint\" class with \"element\" prop\n                        const imgSrc = (entry == null ? void 0 : (ref = entry.element) == null ? void 0 : ref.src) || '';\n                        const lcpImage = allImgs.get(imgSrc);\n                        if (lcpImage && !lcpImage.priority && lcpImage.placeholder !== 'blur' && !lcpImage.src.startsWith('data:') && !lcpImage.src.startsWith('blob:')) {\n                            // https://web.dev/lcp/#measure-lcp-in-javascript\n                            (0, _utils).warnOnce(`Image with src \"${lcpImage.src}\" was detected as the Largest Contentful Paint (LCP). Please add the \"priority\" property if this image is above the fold.` + `\\nRead more: https://nextjs.org/docs/api-reference/next/image#priority`);\n                        }\n                    }\n                });\n                try {\n                    perfObserver.observe({\n                        type: 'largest-contentful-paint',\n                        buffered: true\n                    });\n                } catch (err) {\n                    // Log error but don't crash the app\n                    console.error(err);\n                }\n            }\n        }\n    }\n    const imgStyle = Object.assign({}, style, layoutStyle);\n    const blurStyle = placeholder === 'blur' && !blurComplete ? {\n        backgroundSize: objectFit || 'cover',\n        backgroundPosition: objectPosition || '0% 0%',\n        filter: 'blur(20px)',\n        backgroundImage: `url(\"${blurDataURL}\")`\n    } : {};\n    if (layout === 'fill') {\n        // <Image src=\"i.png\" layout=\"fill\" />\n        wrapperStyle.display = 'block';\n        wrapperStyle.position = 'absolute';\n        wrapperStyle.top = 0;\n        wrapperStyle.left = 0;\n        wrapperStyle.bottom = 0;\n        wrapperStyle.right = 0;\n    } else if (typeof widthInt !== 'undefined' && typeof heightInt !== 'undefined') {\n        // <Image src=\"i.png\" width=\"100\" height=\"100\" />\n        const quotient = heightInt / widthInt;\n        const paddingTop = isNaN(quotient) ? '100%' : `${quotient * 100}%`;\n        if (layout === 'responsive') {\n            // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"responsive\" />\n            wrapperStyle.display = 'block';\n            wrapperStyle.position = 'relative';\n            hasSizer = true;\n            sizerStyle.paddingTop = paddingTop;\n        } else if (layout === 'intrinsic') {\n            // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"intrinsic\" />\n            wrapperStyle.display = 'inline-block';\n            wrapperStyle.position = 'relative';\n            wrapperStyle.maxWidth = '100%';\n            hasSizer = true;\n            sizerStyle.maxWidth = '100%';\n            sizerSvgUrl = `data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27${widthInt}%27%20height=%27${heightInt}%27/%3e`;\n        } else if (layout === 'fixed') {\n            // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"fixed\" />\n            wrapperStyle.display = 'inline-block';\n            wrapperStyle.position = 'relative';\n            wrapperStyle.width = widthInt;\n            wrapperStyle.height = heightInt;\n        }\n    } else {\n        // <Image src=\"i.png\" />\n        if (process.env.NODE_ENV !== 'production') {\n            throw new Error(`Image with src \"${src}\" must use \"width\" and \"height\" properties or \"layout='fill'\" property.`);\n        }\n    }\n    let imgAttributes = {\n        src: emptyDataURL,\n        srcSet: undefined,\n        sizes: undefined\n    };\n    if (isVisible) {\n        imgAttributes = generateImgAttrs({\n            config,\n            src,\n            unoptimized,\n            layout,\n            width: widthInt,\n            quality: qualityInt,\n            sizes,\n            loader\n        });\n    }\n    let srcString = src;\n    if (process.env.NODE_ENV !== 'production') {\n        if (typeof window !== 'undefined') {\n            let fullUrl;\n            try {\n                fullUrl = new URL(imgAttributes.src);\n            } catch (e) {\n                fullUrl = new URL(imgAttributes.src, window.location.href);\n            }\n            allImgs.set(fullUrl.href, {\n                src,\n                priority,\n                placeholder\n            });\n        }\n    }\n    let imageSrcSetPropName = 'imagesrcset';\n    let imageSizesPropName = 'imagesizes';\n    if (process.env.__NEXT_REACT_ROOT) {\n        imageSrcSetPropName = 'imageSrcSet';\n        imageSizesPropName = 'imageSizes';\n    }\n    const linkProps = {\n        // Note: imagesrcset and imagesizes are not in the link element type with react 17.\n        [imageSrcSetPropName]: imgAttributes.srcSet,\n        [imageSizesPropName]: imgAttributes.sizes\n    };\n    const useLayoutEffect = typeof window === 'undefined' ? _react.default.useEffect : _react.default.useLayoutEffect;\n    const onLoadingCompleteRef = (0, _react).useRef(onLoadingComplete);\n    const previousImageSrc = (0, _react).useRef(src);\n    (0, _react).useEffect(()=>{\n        onLoadingCompleteRef.current = onLoadingComplete;\n    }, [\n        onLoadingComplete\n    ]);\n    useLayoutEffect(()=>{\n        if (previousImageSrc.current !== src) {\n            resetIntersected();\n            previousImageSrc.current = src;\n        }\n    }, [\n        resetIntersected,\n        src\n    ]);\n    const imgElementArgs = _extends({\n        isLazy,\n        imgAttributes,\n        heightInt,\n        widthInt,\n        qualityInt,\n        layout,\n        className,\n        imgStyle,\n        blurStyle,\n        loading,\n        config,\n        unoptimized,\n        placeholder,\n        loader,\n        srcString,\n        onLoadingCompleteRef,\n        setBlurComplete,\n        setIntersection,\n        isVisible,\n        noscriptSizes: sizes\n    }, rest);\n    return /*#__PURE__*/ _react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/ _react.default.createElement(\"span\", {\n        style: wrapperStyle\n    }, hasSizer ? /*#__PURE__*/ _react.default.createElement(\"span\", {\n        style: sizerStyle\n    }, sizerSvgUrl ? /*#__PURE__*/ _react.default.createElement(\"img\", {\n        style: {\n            display: 'block',\n            maxWidth: '100%',\n            width: 'initial',\n            height: 'initial',\n            background: 'none',\n            opacity: 1,\n            border: 0,\n            margin: 0,\n            padding: 0\n        },\n        alt: \"\",\n        \"aria-hidden\": true,\n        src: sizerSvgUrl\n    }) : null) : null, /*#__PURE__*/ _react.default.createElement(ImageElement, Object.assign({}, imgElementArgs))), priority ? // Note how we omit the `href` attribute, as it would only be relevant\n    // for browsers that do not support `imagesrcset`, and in those cases\n    // it would likely cause the incorrect image to be preloaded.\n    //\n    // https://html.spec.whatwg.org/multipage/semantics.html#attr-link-imagesrcset\n    /*#__PURE__*/ _react.default.createElement(_head.default, null, /*#__PURE__*/ _react.default.createElement(\"link\", Object.assign({\n        key: '__nimg-' + imgAttributes.src + imgAttributes.srcSet + imgAttributes.sizes,\n        rel: \"preload\",\n        as: \"image\",\n        href: imgAttributes.srcSet ? undefined : imgAttributes.src\n    }, linkProps))) : null);\n}\nconst { experimentalRemotePatterns =[] , experimentalUnoptimized  } = process.env.__NEXT_IMAGE_OPTS || {};\nconst configEnv = process.env.__NEXT_IMAGE_OPTS;\nconst loadedImageURLs = new Set();\nconst allImgs = new Map();\nlet perfObserver;\nconst emptyDataURL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nif (typeof window === 'undefined') {\n    global.__NEXT_IMAGE_IMPORTED = true;\n}\nconst VALID_LOADING_VALUES = [\n    'lazy',\n    'eager',\n    undefined\n];\nconst loaders = new Map([\n    [\n        'default',\n        defaultLoader\n    ],\n    [\n        'imgix',\n        imgixLoader\n    ],\n    [\n        'cloudinary',\n        cloudinaryLoader\n    ],\n    [\n        'akamai',\n        akamaiLoader\n    ],\n    [\n        'custom',\n        customLoader\n    ], \n]);\nconst VALID_LAYOUT_VALUES = [\n    'fill',\n    'fixed',\n    'intrinsic',\n    'responsive',\n    undefined, \n];\nfunction isStaticRequire(src) {\n    return src.default !== undefined;\n}\nfunction isStaticImageData(src) {\n    return src.src !== undefined;\n}\nfunction isStaticImport(src) {\n    return typeof src === 'object' && (isStaticRequire(src) || isStaticImageData(src));\n}\nfunction getWidths({ deviceSizes , allSizes  }, width, layout, sizes) {\n    if (sizes && (layout === 'fill' || layout === 'responsive')) {\n        // Find all the \"vw\" percent sizes used in the sizes prop\n        const viewportWidthRe = /(^|\\s)(1?\\d?\\d)vw/g;\n        const percentSizes = [];\n        for(let match; match = viewportWidthRe.exec(sizes); match){\n            percentSizes.push(parseInt(match[2]));\n        }\n        if (percentSizes.length) {\n            const smallestRatio = Math.min(...percentSizes) * 0.01;\n            return {\n                widths: allSizes.filter((s)=>s >= deviceSizes[0] * smallestRatio),\n                kind: 'w'\n            };\n        }\n        return {\n            widths: allSizes,\n            kind: 'w'\n        };\n    }\n    if (typeof width !== 'number' || layout === 'fill' || layout === 'responsive') {\n        return {\n            widths: deviceSizes,\n            kind: 'w'\n        };\n    }\n    const widths = [\n        ...new Set(// > This means that most OLED screens that say they are 3x resolution,\n        // > are actually 3x in the green color, but only 1.5x in the red and\n        // > blue colors. Showing a 3x resolution image in the app vs a 2x\n        // > resolution image will be visually the same, though the 3x image\n        // > takes significantly more data. Even true 3x resolution screens are\n        // > wasteful as the human eye cannot see that level of detail without\n        // > something like a magnifying glass.\n        // https://blog.twitter.com/engineering/en_us/topics/infrastructure/2019/capping-image-fidelity-on-ultra-high-resolution-devices.html\n        [\n            width,\n            width * 2 /*, width * 3*/ \n        ].map((w)=>allSizes.find((p)=>p >= w) || allSizes[allSizes.length - 1])), \n    ];\n    return {\n        widths,\n        kind: 'x'\n    };\n}\nfunction generateImgAttrs({ config , src , unoptimized , layout , width , quality , sizes , loader  }) {\n    if (unoptimized) {\n        return {\n            src,\n            srcSet: undefined,\n            sizes: undefined\n        };\n    }\n    const { widths , kind  } = getWidths(config, width, layout, sizes);\n    const last = widths.length - 1;\n    return {\n        sizes: !sizes && kind === 'w' ? '100vw' : sizes,\n        srcSet: widths.map((w, i)=>`${loader({\n                config,\n                src,\n                quality,\n                width: w\n            })} ${kind === 'w' ? w : i + 1}${kind}`).join(', '),\n        // It's intended to keep `src` the last attribute because React updates\n        // attributes in order. If we keep `src` the first one, Safari will\n        // immediately start to fetch `src`, before `sizes` and `srcSet` are even\n        // updated by React. That causes multiple unnecessary requests if `srcSet`\n        // and `sizes` are defined.\n        // This bug cannot be reproduced in Chrome or Firefox.\n        src: loader({\n            config,\n            src,\n            quality,\n            width: widths[last]\n        })\n    };\n}\nfunction getInt(x) {\n    if (typeof x === 'number') {\n        return x;\n    }\n    if (typeof x === 'string') {\n        return parseInt(x, 10);\n    }\n    return undefined;\n}\nfunction defaultImageLoader(loaderProps) {\n    var ref;\n    const loaderKey = ((ref = loaderProps.config) == null ? void 0 : ref.loader) || 'default';\n    const load = loaders.get(loaderKey);\n    if (load) {\n        return load(loaderProps);\n    }\n    throw new Error(`Unknown \"loader\" found in \"next.config.js\". Expected: ${_imageConfig.VALID_LOADERS.join(', ')}. Received: ${loaderKey}`);\n}\n// See https://stackoverflow.com/q/39777833/266535 for why we use this ref\n// handler instead of the img's onLoad attribute.\nfunction handleLoading(img, src, layout, placeholder, onLoadingCompleteRef, setBlurComplete) {\n    if (!img || img.src === emptyDataURL || img['data-loaded-src'] === src) {\n        return;\n    }\n    img['data-loaded-src'] = src;\n    const p = 'decode' in img ? img.decode() : Promise.resolve();\n    p.catch(()=>{}).then(()=>{\n        if (!img.parentNode) {\n            // Exit early in case of race condition:\n            // - onload() is called\n            // - decode() is called but incomplete\n            // - unmount is called\n            // - decode() completes\n            return;\n        }\n        loadedImageURLs.add(src);\n        if (placeholder === 'blur') {\n            setBlurComplete(true);\n        }\n        if (onLoadingCompleteRef == null ? void 0 : onLoadingCompleteRef.current) {\n            const { naturalWidth , naturalHeight  } = img;\n            // Pass back read-only primitive values but not the\n            // underlying DOM element because it could be misused.\n            onLoadingCompleteRef.current({\n                naturalWidth,\n                naturalHeight\n            });\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            var ref;\n            if ((ref = img.parentElement) == null ? void 0 : ref.parentElement) {\n                const parent = getComputedStyle(img.parentElement.parentElement);\n                if (!parent.position) {\n                // The parent has not been rendered to the dom yet and therefore it has no position. Skip the warnings for such cases.\n                } else if (layout === 'responsive' && parent.display === 'flex') {\n                    (0, _utils).warnOnce(`Image with src \"${src}\" may not render properly as a child of a flex container. Consider wrapping the image with a div to configure the width.`);\n                } else if (layout === 'fill' && parent.position !== 'relative' && parent.position !== 'fixed' && parent.position !== 'absolute') {\n                    (0, _utils).warnOnce(`Image with src \"${src}\" may not render properly with a parent using position:\"${parent.position}\". Consider changing the parent style to position:\"relative\" with a width and height.`);\n                }\n            }\n        }\n    });\n}\nconst ImageElement = (_param)=>{\n    var { imgAttributes , heightInt , widthInt , qualityInt , layout , className , imgStyle , blurStyle , isLazy , placeholder , loading , srcString , config , unoptimized , loader , onLoadingCompleteRef , setBlurComplete , setIntersection , onLoad , onError , isVisible , noscriptSizes  } = _param, rest = _object_without_properties_loose(_param, [\n        \"imgAttributes\",\n        \"heightInt\",\n        \"widthInt\",\n        \"qualityInt\",\n        \"layout\",\n        \"className\",\n        \"imgStyle\",\n        \"blurStyle\",\n        \"isLazy\",\n        \"placeholder\",\n        \"loading\",\n        \"srcString\",\n        \"config\",\n        \"unoptimized\",\n        \"loader\",\n        \"onLoadingCompleteRef\",\n        \"setBlurComplete\",\n        \"setIntersection\",\n        \"onLoad\",\n        \"onError\",\n        \"isVisible\",\n        \"noscriptSizes\"\n    ]);\n    loading = isLazy ? 'lazy' : loading;\n    return /*#__PURE__*/ _react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/ _react.default.createElement(\"img\", Object.assign({}, rest, imgAttributes, {\n        decoding: \"async\",\n        \"data-nimg\": layout,\n        className: className,\n        style: _extends({}, imgStyle, blurStyle),\n        ref: (0, _react).useCallback((img)=>{\n            if (process.env.NODE_ENV !== 'production') {\n                if (img && !srcString) {\n                    console.error(`Image is missing required \"src\" property:`, img);\n                }\n            }\n            setIntersection(img);\n            if (img == null ? void 0 : img.complete) {\n                handleLoading(img, srcString, layout, placeholder, onLoadingCompleteRef, setBlurComplete);\n            }\n        }, [\n            setIntersection,\n            srcString,\n            layout,\n            placeholder,\n            onLoadingCompleteRef,\n            setBlurComplete, \n        ]),\n        onLoad: (event)=>{\n            const img = event.currentTarget;\n            handleLoading(img, srcString, layout, placeholder, onLoadingCompleteRef, setBlurComplete);\n            if (onLoad) {\n                onLoad(event);\n            }\n        },\n        onError: (event)=>{\n            if (placeholder === 'blur') {\n                // If the real image fails to load, this will still remove the placeholder.\n                setBlurComplete(true);\n            }\n            if (onError) {\n                onError(event);\n            }\n        }\n    })), (isLazy || placeholder === 'blur') && /*#__PURE__*/ _react.default.createElement(\"noscript\", null, /*#__PURE__*/ _react.default.createElement(\"img\", Object.assign({}, rest, generateImgAttrs({\n        config,\n        src: srcString,\n        unoptimized,\n        layout,\n        width: widthInt,\n        quality: qualityInt,\n        sizes: noscriptSizes,\n        loader\n    }), {\n        decoding: \"async\",\n        \"data-nimg\": layout,\n        style: imgStyle,\n        className: className,\n        // @ts-ignore - TODO: upgrade to `@types/react@17`\n        loading: loading\n    }))));\n};\nfunction normalizeSrc(src) {\n    return src[0] === '/' ? src.slice(1) : src;\n}\nfunction imgixLoader({ config , src , width , quality  }) {\n    // Demo: https://static.imgix.net/daisy.png?auto=format&fit=max&w=300\n    const url = new URL(`${config.path}${normalizeSrc(src)}`);\n    const params = url.searchParams;\n    // auto params can be combined with comma separation, or reiteration\n    params.set('auto', params.getAll('auto').join(',') || 'format');\n    params.set('fit', params.get('fit') || 'max');\n    params.set('w', params.get('w') || width.toString());\n    if (quality) {\n        params.set('q', quality.toString());\n    }\n    return url.href;\n}\nfunction akamaiLoader({ config , src , width  }) {\n    return `${config.path}${normalizeSrc(src)}?imwidth=${width}`;\n}\nfunction cloudinaryLoader({ config , src , width , quality  }) {\n    // Demo: https://res.cloudinary.com/demo/image/upload/w_300,c_limit,q_auto/turtles.jpg\n    const params = [\n        'f_auto',\n        'c_limit',\n        'w_' + width,\n        'q_' + (quality || 'auto')\n    ];\n    const paramsString = params.join(',') + '/';\n    return `${config.path}${paramsString}${normalizeSrc(src)}`;\n}\nfunction customLoader({ src  }) {\n    throw new Error(`Image with src \"${src}\" is missing \"loader\" prop.` + `\\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader`);\n}\nfunction defaultLoader({ config , src , width , quality  }) {\n    if (process.env.NODE_ENV !== 'production') {\n        const missingValues = [];\n        // these should always be provided but make sure they are\n        if (!src) missingValues.push('src');\n        if (!width) missingValues.push('width');\n        if (missingValues.length > 0) {\n            throw new Error(`Next Image Optimization requires ${missingValues.join(', ')} to be provided. Make sure you pass them as props to the \\`next/image\\` component. Received: ${JSON.stringify({\n                src,\n                width,\n                quality\n            })}`);\n        }\n        if (src.startsWith('//')) {\n            throw new Error(`Failed to parse src \"${src}\" on \\`next/image\\`, protocol-relative URL (//) must be changed to an absolute URL (http:// or https://)`);\n        }\n        if (!src.startsWith('/') && (config.domains || experimentalRemotePatterns)) {\n            let parsedSrc;\n            try {\n                parsedSrc = new URL(src);\n            } catch (err) {\n                console.error(err);\n                throw new Error(`Failed to parse src \"${src}\" on \\`next/image\\`, if using relative image it must start with a leading slash \"/\" or be an absolute URL (http:// or https://)`);\n            }\n            if (process.env.NODE_ENV !== 'test') {\n                // We use dynamic require because this should only error in development\n                const { hasMatch  } = require('../shared/lib/match-remote-pattern');\n                if (!hasMatch(config.domains, experimentalRemotePatterns, parsedSrc)) {\n                    throw new Error(`Invalid src prop (${src}) on \\`next/image\\`, hostname \"${parsedSrc.hostname}\" is not configured under images in your \\`next.config.js\\`\\n` + `See more info: https://nextjs.org/docs/messages/next-image-unconfigured-host`);\n                }\n            }\n        }\n    }\n    if (src.endsWith('.svg') && !config.dangerouslyAllowSVG) {\n        // Special case to make svg serve as-is to avoid proxying\n        // through the built-in Image Optimization API.\n        return src;\n    }\n    return `${(0, _normalizeTrailingSlash).normalizePathTrailingSlash(config.path)}?url=${encodeURIComponent(src)}&w=${width}&q=${quality || 75}`;\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=image.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.useIntersection = useIntersection;\nvar _react = require(\"react\");\nvar _requestIdleCallback = require(\"./request-idle-callback\");\nconst hasIntersectionObserver = typeof IntersectionObserver === 'function';\nfunction useIntersection({ rootRef , rootMargin , disabled  }) {\n    const isDisabled = disabled || !hasIntersectionObserver;\n    const unobserve = (0, _react).useRef();\n    const [visible, setVisible] = (0, _react).useState(false);\n    const [element, setElement] = (0, _react).useState(null);\n    (0, _react).useEffect(()=>{\n        if (hasIntersectionObserver) {\n            if (unobserve.current) {\n                unobserve.current();\n                unobserve.current = undefined;\n            }\n            if (isDisabled || visible) return;\n            if (element && element.tagName) {\n                unobserve.current = observe(element, (isVisible)=>isVisible && setVisible(isVisible), {\n                    root: rootRef == null ? void 0 : rootRef.current,\n                    rootMargin\n                });\n            }\n            return ()=>{\n                unobserve.current == null ? void 0 : unobserve.current();\n                unobserve.current = undefined;\n            };\n        } else {\n            if (!visible) {\n                const idleCallback = (0, _requestIdleCallback).requestIdleCallback(()=>setVisible(true));\n                return ()=>(0, _requestIdleCallback).cancelIdleCallback(idleCallback);\n            }\n        }\n    }, [\n        element,\n        isDisabled,\n        rootMargin,\n        rootRef,\n        visible\n    ]);\n    const resetVisible = (0, _react).useCallback(()=>{\n        setVisible(false);\n    }, []);\n    return [\n        setElement,\n        visible,\n        resetVisible\n    ];\n}\nconst observers = new Map();\nconst idList = [];\nfunction observe(element, callback, options) {\n    const { id , observer , elements  } = createObserver(options);\n    elements.set(element, callback);\n    observer.observe(element);\n    return function unobserve() {\n        elements.delete(element);\n        observer.unobserve(element);\n        // Destroy observer when there's nothing left to watch:\n        if (elements.size === 0) {\n            observer.disconnect();\n            observers.delete(id);\n            const index = idList.findIndex((obj)=>obj.root === id.root && obj.margin === id.margin);\n            if (index > -1) {\n                idList.splice(index, 1);\n            }\n        }\n    };\n}\nfunction createObserver(options) {\n    const id = {\n        root: options.root || null,\n        margin: options.rootMargin || ''\n    };\n    const existing = idList.find((obj)=>obj.root === id.root && obj.margin === id.margin);\n    let instance;\n    if (existing) {\n        instance = observers.get(existing);\n        if (instance) {\n            return instance;\n        }\n    }\n    const elements = new Map();\n    const observer = new IntersectionObserver((entries)=>{\n        entries.forEach((entry)=>{\n            const callback = elements.get(entry.target);\n            const isVisible = entry.isIntersecting || entry.intersectionRatio > 0;\n            if (callback && isVisible) {\n                callback(isVisible);\n            }\n        });\n    }, options);\n    instance = {\n        id,\n        observer,\n        elements\n    };\n    idList.push(id);\n    observers.set(id, instance);\n    return instance;\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=use-intersection.js.map","import App from \"next/app\";\nimport { useRouter } from 'next/router'\nimport { withRouter } from 'next/router';\nimport type { AppProps, AppContext } from 'next/app'\nimport Layout from \"../components/layout\"\n// import \"../public/static/local/fonts/vector-font/vector-font.css\"\nimport \"../public/static/local/fonts/vectors/fontcustom/fontcustom.css\"\nimport { GlobalStateContext } from \"../contexts/global_state\"\nimport { useEffect, useState } from 'react'\nimport { getWindowSize, WindowSizeContext } from '../contexts/window_size'\nimport serverRefs from \"../server-refs.json\";\nimport { misc } from \"../lib/misc\";\n\nif (typeof window !== \"undefined\") {\n    const pid = misc.getParameterByName(\"pid\");\n    if (pid) {\n        document.body.style.display = \"none\";\n        const { pathname,search } = document.location;        \n        document.location.href = `/landing/preview?preview_id=${pid}&loc=${encodeURIComponent(pathname+search)}`;\n    }\n}\n\nfunction MyApp({ Component, pageProps }: AppProps) \n{\n    const [windowSize,setWindowSize] = useState(getWindowSize());\n    const { asPath } = useRouter();\n    \n    const globalState = {\n        session: /* pageProps.__query[\"session\"]!==\"none\" */ true,\n        animation: /* pageProps.__query[\"animation\"]!==\"none\" */ true\n    };\n\n    useEffect(() => \n    {\n        window.addEventListener(\"resize\",() => \n        {\n            setWindowSize(getWindowSize());\n        });\n    },[]);    \n\n    return (\n        <WindowSizeContext.Provider value={windowSize}>\n            <GlobalStateContext.Provider value={globalState}>\n                <Layout windowSize={windowSize}>\n                    <Component {...pageProps} />\n                </Layout>\n            </GlobalStateContext.Provider>\n        </WindowSizeContext.Provider>\n    )\n}\n\n// Only uncomment this method if you have blocking data requirements for\n// every single page in your application. This disables the ability to\n// perform automatic static optimization, causing every page in your app to\n// be server-side rendered.\n\nMyApp.getInitialProps = async (appContext: AppContext) => {\n  // calls page's `getInitialProps` and fills `appProps.pageProps`\n  const appProps = await App.getInitialProps(appContext);\n\n  appProps.pageProps[\"__query\"] = appContext.ctx.query;\n\n  return { ...appProps }\n}\n\nexport default MyApp;\n","/******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 583:\n/***/ (function(module) {\n\n\n\nfunction hash(str) {\n  var hash = 5381,\n      i    = str.length;\n\n  while(i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i);\n  }\n\n  /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */\n  return hash >>> 0;\n}\n\nmodule.exports = hash;\n\n\n/***/ }),\n\n/***/ 590:\n/***/ (function(__unused_webpack_module, exports, __nccwpck_require__) {\n\n\n\nexports.__esModule = true;\nexports.computeId = computeId;\nexports.computeSelector = computeSelector;\n\nvar _stringHash = _interopRequireDefault(__nccwpck_require__(583));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar sanitize = function sanitize(rule) {\n  return rule.replace(/\\/style/gi, '\\\\/style');\n};\n\nvar cache = {};\n/**\n * computeId\n *\n * Compute and memoize a jsx id from a basedId and optionally props.\n */\n\nfunction computeId(baseId, props) {\n  if (!props) {\n    return \"jsx-\" + baseId;\n  }\n\n  var propsToString = String(props);\n  var key = baseId + propsToString;\n\n  if (!cache[key]) {\n    cache[key] = \"jsx-\" + (0, _stringHash[\"default\"])(baseId + \"-\" + propsToString);\n  }\n\n  return cache[key];\n}\n/**\n * computeSelector\n *\n * Compute and memoize dynamic selectors.\n */\n\n\nfunction computeSelector(id, css) {\n  var selectoPlaceholderRegexp = /__jsx-style-dynamic-selector/g; // Sanitize SSR-ed CSS.\n  // Client side code doesn't need to be sanitized since we use\n  // document.createTextNode (dev) and the CSSOM api sheet.insertRule (prod).\n\n  if (typeof window === 'undefined') {\n    css = sanitize(css);\n  }\n\n  var idcss = id + css;\n\n  if (!cache[idcss]) {\n    cache[idcss] = css.replace(selectoPlaceholderRegexp, id);\n  }\n\n  return cache[idcss];\n}\n\n/***/ }),\n\n/***/ 503:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/*\nBased on Glamor's sheet\nhttps://github.com/threepointone/glamor/blob/667b480d31b3721a905021b26e1290ce92ca2879/src/sheet.js\n*/\nvar isProd = typeof process !== 'undefined' && process.env && process.env.NODE_ENV === 'production';\n\nvar isString = function isString(o) {\n  return Object.prototype.toString.call(o) === '[object String]';\n};\n\nvar StyleSheet = /*#__PURE__*/function () {\n  function StyleSheet(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$name = _ref.name,\n        name = _ref$name === void 0 ? 'stylesheet' : _ref$name,\n        _ref$optimizeForSpeed = _ref.optimizeForSpeed,\n        optimizeForSpeed = _ref$optimizeForSpeed === void 0 ? isProd : _ref$optimizeForSpeed,\n        _ref$isBrowser = _ref.isBrowser,\n        isBrowser = _ref$isBrowser === void 0 ? typeof window !== 'undefined' : _ref$isBrowser;\n\n    invariant(isString(name), '`name` must be a string');\n    this._name = name;\n    this._deletedRulePlaceholder = \"#\" + name + \"-deleted-rule____{}\";\n    invariant(typeof optimizeForSpeed === 'boolean', '`optimizeForSpeed` must be a boolean');\n    this._optimizeForSpeed = optimizeForSpeed;\n    this._isBrowser = isBrowser;\n    this._serverSheet = undefined;\n    this._tags = [];\n    this._injected = false;\n    this._rulesCount = 0;\n    var node = this._isBrowser && document.querySelector('meta[property=\"csp-nonce\"]');\n    this._nonce = node ? node.getAttribute('content') : null;\n  }\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.setOptimizeForSpeed = function setOptimizeForSpeed(bool) {\n    invariant(typeof bool === 'boolean', '`setOptimizeForSpeed` accepts a boolean');\n    invariant(this._rulesCount === 0, 'optimizeForSpeed cannot be when rules have already been inserted');\n    this.flush();\n    this._optimizeForSpeed = bool;\n    this.inject();\n  };\n\n  _proto.isOptimizeForSpeed = function isOptimizeForSpeed() {\n    return this._optimizeForSpeed;\n  };\n\n  _proto.inject = function inject() {\n    var _this = this;\n\n    invariant(!this._injected, 'sheet already injected');\n    this._injected = true;\n\n    if (this._isBrowser && this._optimizeForSpeed) {\n      this._tags[0] = this.makeStyleTag(this._name);\n      this._optimizeForSpeed = 'insertRule' in this.getSheet();\n\n      if (!this._optimizeForSpeed) {\n        if (!isProd) {\n          console.warn('StyleSheet: optimizeForSpeed mode not supported falling back to standard mode.');\n        }\n\n        this.flush();\n        this._injected = true;\n      }\n\n      return;\n    }\n\n    this._serverSheet = {\n      cssRules: [],\n      insertRule: function insertRule(rule, index) {\n        if (typeof index === 'number') {\n          _this._serverSheet.cssRules[index] = {\n            cssText: rule\n          };\n        } else {\n          _this._serverSheet.cssRules.push({\n            cssText: rule\n          });\n        }\n\n        return index;\n      },\n      deleteRule: function deleteRule(index) {\n        _this._serverSheet.cssRules[index] = null;\n      }\n    };\n  };\n\n  _proto.getSheetForTag = function getSheetForTag(tag) {\n    if (tag.sheet) {\n      return tag.sheet;\n    } // this weirdness brought to you by firefox\n\n\n    for (var i = 0; i < document.styleSheets.length; i++) {\n      if (document.styleSheets[i].ownerNode === tag) {\n        return document.styleSheets[i];\n      }\n    }\n  };\n\n  _proto.getSheet = function getSheet() {\n    return this.getSheetForTag(this._tags[this._tags.length - 1]);\n  };\n\n  _proto.insertRule = function insertRule(rule, index) {\n    invariant(isString(rule), '`insertRule` accepts only strings');\n\n    if (!this._isBrowser) {\n      if (typeof index !== 'number') {\n        index = this._serverSheet.cssRules.length;\n      }\n\n      this._serverSheet.insertRule(rule, index);\n\n      return this._rulesCount++;\n    }\n\n    if (this._optimizeForSpeed) {\n      var sheet = this.getSheet();\n\n      if (typeof index !== 'number') {\n        index = sheet.cssRules.length;\n      } // this weirdness for perf, and chrome's weird bug\n      // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n\n\n      try {\n        sheet.insertRule(rule, index);\n      } catch (error) {\n        if (!isProd) {\n          console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n        }\n\n        return -1;\n      }\n    } else {\n      var insertionPoint = this._tags[index];\n\n      this._tags.push(this.makeStyleTag(this._name, rule, insertionPoint));\n    }\n\n    return this._rulesCount++;\n  };\n\n  _proto.replaceRule = function replaceRule(index, rule) {\n    if (this._optimizeForSpeed || !this._isBrowser) {\n      var sheet = this._isBrowser ? this.getSheet() : this._serverSheet;\n\n      if (!rule.trim()) {\n        rule = this._deletedRulePlaceholder;\n      }\n\n      if (!sheet.cssRules[index]) {\n        // @TBD Should we throw an error?\n        return index;\n      }\n\n      sheet.deleteRule(index);\n\n      try {\n        sheet.insertRule(rule, index);\n      } catch (error) {\n        if (!isProd) {\n          console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n        } // In order to preserve the indices we insert a deleteRulePlaceholder\n\n\n        sheet.insertRule(this._deletedRulePlaceholder, index);\n      }\n    } else {\n      var tag = this._tags[index];\n      invariant(tag, \"old rule at index `\" + index + \"` not found\");\n      tag.textContent = rule;\n    }\n\n    return index;\n  };\n\n  _proto.deleteRule = function deleteRule(index) {\n    if (!this._isBrowser) {\n      this._serverSheet.deleteRule(index);\n\n      return;\n    }\n\n    if (this._optimizeForSpeed) {\n      this.replaceRule(index, '');\n    } else {\n      var tag = this._tags[index];\n      invariant(tag, \"rule at index `\" + index + \"` not found\");\n      tag.parentNode.removeChild(tag);\n      this._tags[index] = null;\n    }\n  };\n\n  _proto.flush = function flush() {\n    this._injected = false;\n    this._rulesCount = 0;\n\n    if (this._isBrowser) {\n      this._tags.forEach(function (tag) {\n        return tag && tag.parentNode.removeChild(tag);\n      });\n\n      this._tags = [];\n    } else {\n      // simpler on server\n      this._serverSheet.cssRules = [];\n    }\n  };\n\n  _proto.cssRules = function cssRules() {\n    var _this2 = this;\n\n    if (!this._isBrowser) {\n      return this._serverSheet.cssRules;\n    }\n\n    return this._tags.reduce(function (rules, tag) {\n      if (tag) {\n        rules = rules.concat(Array.prototype.map.call(_this2.getSheetForTag(tag).cssRules, function (rule) {\n          return rule.cssText === _this2._deletedRulePlaceholder ? null : rule;\n        }));\n      } else {\n        rules.push(null);\n      }\n\n      return rules;\n    }, []);\n  };\n\n  _proto.makeStyleTag = function makeStyleTag(name, cssString, relativeToTag) {\n    if (cssString) {\n      invariant(isString(cssString), 'makeStyleTag accepts only strings as second parameter');\n    }\n\n    var tag = document.createElement('style');\n    if (this._nonce) tag.setAttribute('nonce', this._nonce);\n    tag.type = 'text/css';\n    tag.setAttribute(\"data-\" + name, '');\n\n    if (cssString) {\n      tag.appendChild(document.createTextNode(cssString));\n    }\n\n    var head = document.head || document.getElementsByTagName('head')[0];\n\n    if (relativeToTag) {\n      head.insertBefore(tag, relativeToTag);\n    } else {\n      head.appendChild(tag);\n    }\n\n    return tag;\n  };\n\n  _createClass(StyleSheet, [{\n    key: \"length\",\n    get: function get() {\n      return this._rulesCount;\n    }\n  }]);\n\n  return StyleSheet;\n}();\n\nexports[\"default\"] = StyleSheet;\n\nfunction invariant(condition, message) {\n  if (!condition) {\n    throw new Error(\"StyleSheet: \" + message + \".\");\n  }\n}\n\n/***/ }),\n\n/***/ 449:\n/***/ (function(__unused_webpack_module, exports, __nccwpck_require__) {\n\n\n\nexports.__esModule = true;\nexports[\"default\"] = JSXStyle;\n\nvar _react = _interopRequireDefault(__nccwpck_require__(522));\n\nvar _stylesheetRegistry = __nccwpck_require__(147);\n\nvar _hash = __nccwpck_require__(590);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// Opt-into the new `useInsertionEffect` API in React 18, fallback to `useLayoutEffect`.\n// https://github.com/reactwg/react-18/discussions/110\nvar useInsertionEffect = _react[\"default\"].useInsertionEffect || _react[\"default\"].useLayoutEffect;\nvar defaultRegistry = typeof window !== 'undefined' ? (0, _stylesheetRegistry.createStyleRegistry)() : undefined;\n\nfunction JSXStyle(props) {\n  var registry = defaultRegistry ? defaultRegistry : (0, _stylesheetRegistry.useStyleRegistry)(); // If `registry` does not exist, we do nothing here.\n\n  if (!registry) {\n    return null;\n  }\n\n  if (typeof window === 'undefined') {\n    registry.add(props);\n    return null;\n  }\n\n  useInsertionEffect(function () {\n    registry.add(props);\n    return function () {\n      registry.remove(props);\n    }; // props.children can be string[], will be striped since id is identical\n  }, [props.id, String(props.dynamic)]);\n  return null;\n}\n\nJSXStyle.dynamic = function (info) {\n  return info.map(function (tagInfo) {\n    var baseId = tagInfo[0];\n    var props = tagInfo[1];\n    return (0, _hash.computeId)(baseId, props);\n  }).join(' ');\n};\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(__unused_webpack_module, exports, __nccwpck_require__) {\n\n\n\nexports.__esModule = true;\nexports.createStyleRegistry = createStyleRegistry;\nexports.StyleRegistry = StyleRegistry;\nexports.useStyleRegistry = useStyleRegistry;\nexports.StyleSheetContext = exports.StyleSheetRegistry = void 0;\n\nvar _react = _interopRequireWildcard(__nccwpck_require__(522));\n\nvar _stylesheet = _interopRequireDefault(__nccwpck_require__(503));\n\nvar _hash = __nccwpck_require__(590);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction mapRulesToStyle(cssRules, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return cssRules.map(function (args) {\n    var id = args[0];\n    var css = args[1];\n    return _react[\"default\"].createElement('style', {\n      id: \"__\" + id,\n      // Avoid warnings upon render with a key\n      key: \"__\" + id,\n      nonce: options.nonce ? options.nonce : undefined,\n      dangerouslySetInnerHTML: {\n        __html: css\n      }\n    });\n  });\n}\n\nvar StyleSheetRegistry = /*#__PURE__*/function () {\n  function StyleSheetRegistry(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$styleSheet = _ref.styleSheet,\n        styleSheet = _ref$styleSheet === void 0 ? null : _ref$styleSheet,\n        _ref$optimizeForSpeed = _ref.optimizeForSpeed,\n        optimizeForSpeed = _ref$optimizeForSpeed === void 0 ? false : _ref$optimizeForSpeed,\n        _ref$isBrowser = _ref.isBrowser,\n        isBrowser = _ref$isBrowser === void 0 ? typeof window !== 'undefined' : _ref$isBrowser;\n\n    this._sheet = styleSheet || new _stylesheet[\"default\"]({\n      name: 'styled-jsx',\n      optimizeForSpeed: optimizeForSpeed\n    });\n\n    this._sheet.inject();\n\n    if (styleSheet && typeof optimizeForSpeed === 'boolean') {\n      this._sheet.setOptimizeForSpeed(optimizeForSpeed);\n\n      this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n    }\n\n    this._isBrowser = isBrowser;\n    this._fromServer = undefined;\n    this._indices = {};\n    this._instancesCounts = {};\n  }\n\n  var _proto = StyleSheetRegistry.prototype;\n\n  _proto.add = function add(props) {\n    var _this = this;\n\n    if (undefined === this._optimizeForSpeed) {\n      this._optimizeForSpeed = Array.isArray(props.children);\n\n      this._sheet.setOptimizeForSpeed(this._optimizeForSpeed);\n\n      this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n    }\n\n    if (this._isBrowser && !this._fromServer) {\n      this._fromServer = this.selectFromServer();\n      this._instancesCounts = Object.keys(this._fromServer).reduce(function (acc, tagName) {\n        acc[tagName] = 0;\n        return acc;\n      }, {});\n    }\n\n    var _this$getIdAndRules = this.getIdAndRules(props),\n        styleId = _this$getIdAndRules.styleId,\n        rules = _this$getIdAndRules.rules; // Deduping: just increase the instances count.\n\n\n    if (styleId in this._instancesCounts) {\n      this._instancesCounts[styleId] += 1;\n      return;\n    }\n\n    var indices = rules.map(function (rule) {\n      return _this._sheet.insertRule(rule);\n    }) // Filter out invalid rules\n    .filter(function (index) {\n      return index !== -1;\n    });\n    this._indices[styleId] = indices;\n    this._instancesCounts[styleId] = 1;\n  };\n\n  _proto.remove = function remove(props) {\n    var _this2 = this;\n\n    var _this$getIdAndRules2 = this.getIdAndRules(props),\n        styleId = _this$getIdAndRules2.styleId;\n\n    invariant(styleId in this._instancesCounts, \"styleId: `\" + styleId + \"` not found\");\n    this._instancesCounts[styleId] -= 1;\n\n    if (this._instancesCounts[styleId] < 1) {\n      var tagFromServer = this._fromServer && this._fromServer[styleId];\n\n      if (tagFromServer) {\n        tagFromServer.parentNode.removeChild(tagFromServer);\n        delete this._fromServer[styleId];\n      } else {\n        this._indices[styleId].forEach(function (index) {\n          return _this2._sheet.deleteRule(index);\n        });\n\n        delete this._indices[styleId];\n      }\n\n      delete this._instancesCounts[styleId];\n    }\n  };\n\n  _proto.update = function update(props, nextProps) {\n    this.add(nextProps);\n    this.remove(props);\n  };\n\n  _proto.flush = function flush() {\n    this._sheet.flush();\n\n    this._sheet.inject();\n\n    this._fromServer = undefined;\n    this._indices = {};\n    this._instancesCounts = {};\n  };\n\n  _proto.cssRules = function cssRules() {\n    var _this3 = this;\n\n    var fromServer = this._fromServer ? Object.keys(this._fromServer).map(function (styleId) {\n      return [styleId, _this3._fromServer[styleId]];\n    }) : [];\n\n    var cssRules = this._sheet.cssRules();\n\n    return fromServer.concat(Object.keys(this._indices).map(function (styleId) {\n      return [styleId, _this3._indices[styleId].map(function (index) {\n        return cssRules[index].cssText;\n      }).join(_this3._optimizeForSpeed ? '' : '\\n')];\n    }) // filter out empty rules\n    .filter(function (rule) {\n      return Boolean(rule[1]);\n    }));\n  };\n\n  _proto.styles = function styles(options) {\n    return mapRulesToStyle(this.cssRules(), options);\n  };\n\n  _proto.getIdAndRules = function getIdAndRules(props) {\n    var css = props.children,\n        dynamic = props.dynamic,\n        id = props.id;\n\n    if (dynamic) {\n      var styleId = (0, _hash.computeId)(id, dynamic);\n      return {\n        styleId: styleId,\n        rules: Array.isArray(css) ? css.map(function (rule) {\n          return (0, _hash.computeSelector)(styleId, rule);\n        }) : [(0, _hash.computeSelector)(styleId, css)]\n      };\n    }\n\n    return {\n      styleId: (0, _hash.computeId)(id),\n      rules: Array.isArray(css) ? css : [css]\n    };\n  }\n  /**\n   * selectFromServer\n   *\n   * Collects style tags from the document with id __jsx-XXX\n   */\n  ;\n\n  _proto.selectFromServer = function selectFromServer() {\n    var elements = Array.prototype.slice.call(document.querySelectorAll('[id^=\"__jsx-\"]'));\n    return elements.reduce(function (acc, element) {\n      var id = element.id.slice(2);\n      acc[id] = element;\n      return acc;\n    }, {});\n  };\n\n  return StyleSheetRegistry;\n}();\n\nexports.StyleSheetRegistry = StyleSheetRegistry;\n\nfunction invariant(condition, message) {\n  if (!condition) {\n    throw new Error(\"StyleSheetRegistry: \" + message + \".\");\n  }\n}\n\nvar StyleSheetContext = (0, _react.createContext)(null);\nexports.StyleSheetContext = StyleSheetContext;\n\nfunction createStyleRegistry() {\n  return new StyleSheetRegistry();\n}\n\nfunction StyleRegistry(_ref2) {\n  var configuredRegistry = _ref2.registry,\n      children = _ref2.children;\n  var rootRegistry = (0, _react.useContext)(StyleSheetContext);\n\n  var _useState = (0, _react.useState)(function () {\n    return rootRegistry || configuredRegistry || createStyleRegistry();\n  }),\n      registry = _useState[0];\n\n  return _react[\"default\"].createElement(StyleSheetContext.Provider, {\n    value: registry\n  }, children);\n}\n\nfunction useStyleRegistry() {\n  return (0, _react.useContext)(StyleSheetContext);\n}\n\n/***/ }),\n\n/***/ 522:\n/***/ (function(module) {\n\nmodule.exports = require(\"react\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __nccwpck_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\tvar threw = true;\n/******/ \t\ttry {\n/******/ \t\t\t__webpack_modules__[moduleId](module, module.exports, __nccwpck_require__);\n/******/ \t\t\tthrew = false;\n/******/ \t\t} finally {\n/******/ \t\t\tif(threw) delete __webpack_module_cache__[moduleId];\n/******/ \t\t}\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat */\n/******/ \t\n/******/ \tif (typeof __nccwpck_require__ !== 'undefined') __nccwpck_require__.ab = __dirname + \"/\";\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n!function() {\nvar exports = __webpack_exports__;\n\n\nexports.__esModule = true;\nexports.style = exports.useStyleRegistry = exports.createStyleRegistry = exports.StyleRegistry = void 0;\n\nvar _stylesheetRegistry = __nccwpck_require__(147);\n\nexports.StyleRegistry = _stylesheetRegistry.StyleRegistry;\nexports.createStyleRegistry = _stylesheetRegistry.createStyleRegistry;\nexports.useStyleRegistry = _stylesheetRegistry.useStyleRegistry;\n\nvar _style = _interopRequireDefault(__nccwpck_require__(449));\n\nexports.style = _style[\"default\"];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n}();\nmodule.exports = __webpack_exports__;\n/******/ })()\n;","module.exports = require('./dist/index').style\n","module.exports = require('./dist/shared/lib/head')\n","module.exports = require('./dist/client/image')\n","module.exports = require('./dist/client/router')\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import defineProperty from './_define_property.mjs';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\n\nexport default function _objectSpreadProps(target, source) {\n  source = source != null ? source : {}\n  if (Object.getOwnPropertyDescriptors) {\n    Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n  } else {\n    ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(\n        target,\n        key,\n        Object.getOwnPropertyDescriptor(source, key)\n      );\n    });\n  }\n\n  return target;\n}","import arrayWithHoles from './_array_with_holes.mjs';\nimport iterableToArrayLimit from './_iterable_to_array.mjs';\nimport nonIterableRest from './_non_iterable_rest.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","export default function _throw(e) {\n    throw e;\n}","import arrayWithoutHoles from './_array_without_holes.mjs';\nimport iterableToArray from './_iterable_to_array.mjs';\nimport nonIterableSpread from './_non_iterable_spread.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","export default function _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n"],"names":["exports","obj","key","value","Object","defineProperty","enumerable","configurable","writable","module","window","__NEXT_P","push","Button","styledButton","display","fontSize","padding","AccountBarMobileDropDown","email","onSignoutClick","useContext","LayoutStateContext","scalePixelToRem","cssStateManager","useCssStateManager","isOpen","useState","innerRef","useRef","dropdownStyles","height","current","offsetHeight","div","getClassNames","style","ref","EventPane","onClick","parentElemRef","caption","width","parentNavStack","accountBarUpdateCounter","useAccountBarParentNav","path","entryRef","send","usePubSubSender","useEffect","sendCounterUpdate","misc","AccountBar","reactRouter","useRouter","router","useCustomRouter","beforeQuery","asPath","split","isOnAccountPage","test","currentlySigningOut","useSmartState","usePubSubReceiver","breadcrumbTable","orders","parentCaption","parentPath","breadcrumbId","account","consumeAccount","handleSignoutClick","user","startsWith","potentialId","substring","length","genHandleBreadcrumbParentClick","location","href","Desktop","TextButton","overlapVert","overlapHori","Mobile","BackToTop","position","bottom","right","handleScrollToTop","show","containerRef","useProperty","scrollToTopSvg","Image","src","prebuildData","styles","disabledStyles","hoverOpacity","backgroundColorCssVarName","colorCssVarName","disabled","fixedWidth","redirectToPath","backgroundColor","color","internalStyles","undefined","hoverOnTouchDown","InlineButton","CenteredSpinner","scale","usePixels","size","img","children","widthCutoff","mobileDetect","mobileCutoff","PriceDisplay","price","plus","strike","Math","abs","dollar","cents","rsize","props","scaleFactor","changedProps","NextImage","StarRating","rating","hoverSmartState","min","max","round","stars","Array","from","map","general","starsColor","starsHoverColor","span","type","index","i","fontWeight","TextButtonLight","opacity","zIndex","touchHoldTimeoutMilliseconds","touchRadius","onStartHover","onEndHover","onTouchOrMouseDown","touchDownOnMouseDown","paneClassNames","hint","subscribe","overlapLeft","overlapRight","overlapTop","overlapBottom","seoLinkUrl","externalLink","paneDivRef","paneAnchorRef","_onClick","getParentElem","parentElement","activeTouches","inDeadZone","timeoutId","startPoint","addTouchDown","parentElem","classList","add","clearTouchDown","remove","removeTouchDown","clearTimeout","enterDeadZone","keys","className","join","left","top","onMouseDown","env","onMouseUp","onMouseEnter","onMouseLeave","onTouchStart","event","changedTouches","touch","beforeTouchCount","identifier","toString","afterTouchCount","x","screenX","y","screenY","setTimeout","onTouchMove","dx","dy","sqrt","onTouchEnd","title","a","target","e","preventDefault","iconWaiter","IconWaiter","ready","pending","running","start","this","next","toDelete","name","iTag","cb","clientHeight","globalThis","document","forEach","waitFor","createElement","visibility","body","appendChild","IconsLoadedTracker","onReady","registerCount","loadedCount","register","loaded","IconsLoadedContext","React","IconsLoadedWrapper","fadeInDuration","setShow","transition","Provider","tracker","Icon","shiftTop","shiftLeft","startRouterHandler","stopRouterHandler","startCounter","routerTransition","stop","run","working","onCleanComplete","dontChangeWorkingOnSuccess","onInterrupted","savedCounter","errorMessage","err","message","RouterTransition","transitionDuration","accelerateFactor","setRunning","showing","setShowing","canceled","setCanceled","runningRef","showingRef","percentage","setPercentage","percentagePermRef","wrapperRef","counterRef","stopCounterRef","stopCounterSaved","wrapperTransitionCompleteHandler","containerTransitionCompleteHandler","addEventListener","ev","propertyName","removeEventListener","transform","SquareImage","fadeIn","layout","onLoad","Text","font","useIconButton","iconColor","textColor","wholeShift","iconShift","iconText","iconTextShift","widthPlaceholder","verticalPadding","imageStyles","textStyles","SpacerRow","Logo","shift","centered","paddingLeft","paddingRight","paddingTop","paddingBottom","scaleRemToPixel","logoLoadEffect","fadeDuration","wrapperStyles","imageLoadHandler","useImageLoadEffect","pixelSize","logo","logoSrc","alt","PromoLine","aspectRatio","iconName","text","url","iconParams","iconShiftX","iconShiftY","iconScale","iconStyles","navbar","promoIconColor","promoTextColor","PromoSpace","SearchBarComm","blurDelayed","endBlurDelayTimeoutHandler","blurWasBlocked","isBlurDelayed","openBlurDelay","endBlurDelay","declareBlurWasBlocked","notifyMeOnBlurDelayEnd","blur","notifyMeOnBlurRequest","notifyMeOnArrowUpPressed","notifyMeOnArrowDownPressed","notifyMeOnEnterPressed","notifyMeOnPlaceholderAnimationStart","notifyMeOnPlaceholderAnimationEnd","PromoLeft","inputRef","windowSize","WindowSizeContext","searchBarOffsetLeft","searchBarCommRef","searchInputTextPointer","searchOpen","sideCartOpenRef","openSearch","PromoRight","useCurrentCollection","res","exec","handle","id","VerticalCenter","frameStyle","MenuItem","selected","mobileSmallScreenCutoff","routeRef","route","collectionMenuBar","menuHighlightTextColor","menuTextColor","mobileSmallWidthCutoff","Menu","menuItems","scrolling","setScrolling","scrollLeft","setScrollLeft","scrollLeftRef","scrollerRef","itemsRef","showLeftScroller","setShowLeftScroller","showRightScroller","setShowRightScroller","updateScrollerVisibility","scroller","items","scrollMargin","offsetWidth","listener","ensureDesktopScrollerLimits","bottomBorderColor","newScrollLeft","alignItems","selectedCollectionHandle","Navbar","cartClickHandler","cartItemCount","globalState","GlobalStateContext","sideMenu","searchOpenType","navbarHeaderRef","openSmileIframe","collectionItems","logoSize","isCollectionType","buttonVerticalPadding","DimensionsStateContext","navbarHeight","refNavbarOnResize","useResizeObserver","set","blockSearchClickRef","blockSearchClickTimeoutHandle","promo","headerRef","topNicotineNotice","announcementBar","IconButton","buttonsIconColor","buttonsTextColor","headerStyle","topNicotineNoticeBackgroundColor","topNicotineNoticeTextColor","showTopNicotineNotice","fixedIconButtonWidth","sidePaddingSpacerSize","buttonSpacerSize","session","alert","icon","logoScale","searchClickHandler","Footer","hide","dealsCompact","openBugReporter","columnContactsRef","columnContactsElem","quickLinks","handler","newsLinks","policyLinks","linkClickHandler","hash","year","Date","getFullYear","footer","boldTextColor","buttonBackgroundColor","buttonTextColor","lightTextColor","linkHoverColor","socialIconColor","socialIconHoverColor","bind","form","action","method","input","placeholder","br","page","miniNavbar","MiniNavBar","up","setUp","pageScrollbarWidth","pageMinWidth","miniNavbarHeight","addScrollEventListener","sendMiniNavbarDown","logoPadding","desktopIconButtonScale","refOnResize","scrollToTopWithCallback","backdropFilter","onTransitionEnd","flex","SideMenuItem","actionsIconColor","actionsTextColor","SideMenuSeparator","SideMenuSectionTitle","SideMenuCollectionsMenuItem","SideMenuCollectionsMenu","openId","useDesktopScrollbar","injectedStyles","scrollerElem","scrollTop","scrollerStyles","scrollerInjectedStyles","scrollerClassName","SideMenu","showRef","openedRef","awaitingSearchRef","topBackgroundColor","topIconColor","topTextColor","apiSalesSignature","ApiSalesSignature","getSignature","baseUrl","jsonRes","serverRefs","fetch","headers","json","Error","signature","verifySignature","splitSignature","clientSignature","serverSignature","clientSnapshotId","serverSnapshotId","serverSaleName","snapshotId","saleName","Spacer","ClearCart","onClear","setConfirm","confirm","binSvg","SideCartItem","item","hidden","flashit","deleted","onMobile","updateQuantity","minusQuantity","plusQuantity","quantityBlur","closeSideCartHandler","productPageLoadCounter","salePrice","salesNotice","thumbSalesNotice","quantitySalesNotice","quantity","quantityDisplay","properties","imageSrc","notEditable","notQuantityEditable","productId","isFreeProduct","onsale","hasSalesNotice","hasThumbSalesNotice","hasQuantitySalesNotice","cart","hiddenState","thumbLoaded","flashing","flash","fadeOut","flashCountRef","containerHeight","elem","animateDeletion","pageRoute","useCachedValue","clickHandler","itemTitleColor","itemTitleHoverColor","itemPropertiesGroupTitleColor","onLoadingComplete","onChange","onBlur","currentRoute","cloneSimpleData","spDollar","spCents","lines","line","ComponentEntry","fromQuantity","discount","isLast","SalesBreakdown","discountBreakdown","open","onClose","refOuter","innerElem","sales","salesComponents","activeSale","filter","components","SideCart","closeHandler","cartController","creatingCheckoutOpen","highlightIds","flashIds","creatingCheckoutCaptionRef","openSalesNotice","emptyCartSvg","editNoteSvg","orderType","salesInfoOpen","saveDisabled","showSubtotalToast","timedMilliseconds","showNoteSavedToast","forceHideToasts","showScrollToTop","isCheckoutSticky","noteOpened","mobileHideScrollbar","confirmClearCart","clearSalesInfo","clearConfirmClearCart","clearConfirmClearCartAndSalesInfo","mobileCloseMechanism","openTopGap","closedtopGap","initialVisibleTopGap","closeThreshold","version","note","updateItemQuantity","minusItemQuantity","plusItemQuantity","removeItem","itemQuantityBlur","getItemCount","clearCart","getNonDeletedRealItemCount","getSubtotal","getUndiscountedSubtotal","updateNote","checkout","getCheckoutData","itemsWrapperHeight","clearingCartRef","clearingCart","finalizeClearCartAnimation","editPriceDifference","editNotifyCustomer","subTotal","itemCount","nonDeletedRealItemCount","subTotalRes","undiscountedSubTotal","lastKnownSubTotalRef","sliderRef","checkoutWrapperRef","noteBoxRealOpenedRef","mobileTopGapRef","checkoutClickHandler","timestamp","signatureState","timespan","ending","messageTable","backIsReadyRef","getTime","console","log","isTouchAvailable","navigator","maxTouchPoints","msMaxTouchPoints","checkoutDisabled","getScrollTop","setScrollTop","mobileTopGapOpenedRef","mobileScrollbarJumpingRef","openMobileTopGap","mobileTopGap","scrollTopBefore","closeMobileTopGap","hideAllToasts","flashId","itemElem","querySelector","isFirst","delta","offsetTop","globalCart","trackTouchMoveDelta","onStart","onEnd","limit","IntersectionObserver","observer","intersectionRatio","root","threshold","observe","disconnect","noteSaveSwitch","noteTextAreaRef","setSelectionRange","setNoteText","noteText","alsoBoughtExists","alsoBoughtShows","lastNonDeletedRealItemCountCountRef","backClickHandler","backRef","editSaveClickHandler","centVariantId","checkoutData","ps","infoAttributesToDisplayString","infoAttributes","genPackslipAttributeString","apiEditOrder","frequentlyBoughtTogetherProductIds","consumeBoughtTogetherClient","lineColor","checkoutButtonColor","checkoutButtonTextColor","checkoutButtonDisabledColor","isEmptyTextColor","itemBackgroundColor","infoToastColor","infoToastTextColor","editNoteButtonTextIconColor","editNoteButtonTextIconHoverColor","noteTextInjectedStyles","sliderInnerInjectedStyles","onScroll","onWheel","deltaY","sliderInnerStyles","sliderInnerClassName","PriceSavedDisplay","priceDiff","checked","focus","textarea","noteTextStyles","noteTextClassName","includes","scrollTo","behavior","startClearCartAnimation","AlsoBought","onHidden","productIds","CreatingCheckout","KeyPress","entries","eventRegistered","matchesEntry","entry","controlKeys","ctrl","ctrlKey","altKey","shiftKey","registerEvent","called","onKey","_entry","keypress","NoProductFound","SearchResultItem","result","htmlCaption","collectionHtmlCaption","smallImages","consumeReviewsHeader","reviewsCount","starRating","productPageRoute","dangerouslySetInnerHTML","__html","searchBarComm","Search","searchCollectionId","_searchRouter","isActive","isSmallScreen","miniWidthCutoff","searchResults","searchInputTextRef","lastResultSignatureRef","maxRows","overflows","disableKeyboard","selectedIndex","overlayTop","inputTop","resultsTop","mobileNavbarCoverTop","hasTouchEvents","placeholderText","isMobile","resultsRef","availableSpace","potAns","floor","headerTop","headerHeight","overlayStyles","rightOpen","widthOpen","animationStyles","inputWrapperStyles","resultsMarginRight","resultsMarginLeft","resultsStyles","mobileNavbarCoverStyles","scrollIntoView","viewportHeight","viewportStart","viewportEnd","itemStart","itemEnd","diff","showInputText","inputWrapperRef","searchInputRef","handleSearchInputBlur","newValue","singleCharSearchTimeoutHandleRef","searchInputText","handleSearchInputChange","results","libSearch","signatureChanged","tmp","inputBackAnimationRef","resultsInjectedStyles","onKeyDown","code","resultsClassName","trim","libWindowMessages","WindowMessages","initialized","subscriptions","initialize","onmessage","types","indexOf","data","subObj","sub","Smile","smileState","smileAccessToken","urlPath","iframeVisible","iframe","frameBorder","encodeURIComponent","allowTransparency","EditBottomBar","editOrder","customer","centerText","displayName","ErrorSlideShow","inlineRef","inlineElem","apiBugReporter","ApiBugReporter","submitBugReport","description","JSON","stringify","DialogSingleButton","horiVertiCentered","Dialog","buttonCaption","SuccessDialog","BugReporter","showForm","resetBugReporter","errorSlideShow","actions","messageText","close","component","useErrorSlideShow","submitClickHandler","emailValue","nameValue","descriptionValue","showSuccessDialog","emailInputElem","transitionEndHandler","SalesStartEndNotice","fromCheckout","reload","LinearTopWorkingIndicator","phases","speed","phaseIndex","leftSize","leftSpeed","leftStyles","rightSize","rightSpeed","rightStyles","refLeft","getInjectableHeaderTags","meta","content","link","rel","property","Layout","isFirstRender","sideMenuOpenIdRef","showSideMenu","setShowSideMenu","fontReady","setFontReady","importOpenSans","setImportOpenSans","hideOverlayScrollbar","innerPageLock","setInnerPageLock","pageEventHandlersRef","routingTransitionIsOpenRef","salesNoticeMessageRef","salesNoticeFromCheckoutRef","salesNoticeOpen","loginPreloadedEmail","loginPreloadedType","registerError","urlSearchParams","URLSearchParams","search","params","fromEntries","setSideCartOpen","pathname","highlightIdsRef","flashIdsRef","screenRatio","mobileWidthCutoff","mobileActive","mobileActiveLiveCheck","getWindowSize","mobileSmallScreen","mobileSmallScreenLiveCheck","mobileMiniScreen","mobileMiniScreenLiveCheck","smallDesktopScreen","smallDesktopScreenLiveCheck","calcScaleFactor","screen","reviewsHeader","useReviewsHeader","boughtTogetherClient","useBoughtTogetherClient","collectionSearchBarOpen","searchCollectionIdRef","sideCartOpen","configuredBannerHeightRef","isMobileActiveRef","isMobileSmallScreenRef","isMiniScreenRef","isSmallDesktopScreenRef","bugReporterOpen","bugReporterCounter","smileAccessTokenRef","accessToken","useAccount","linearTopWorkingIndicatorRunning","layoutStateContextValue","routerIsLocked","clearLoginPreloaded","pageRef","collectionId","configuredBannerHeight","widthCutoffStyleSection","smallWidthCutoff","smallDesktopWidthCutoff","isMiniScreen","isSmallDesktopScreen","mobileDetectUseEffect","listenToChanges","callbackRef","selectListenValue","liveCheck","scaleFactorDetectUseEffect","scaleFactorValue","pixelValue","remValue","pageElem","topMax","scrollHeight","leftMax","scrollWidth","clientWidth","pageHideOverlayScrollbar","showOverlayScrollbar","animateScrollTop","durationMilliseconds","startedAt","startScrollTop","elapsed","t","ratio","requestAnimationFrame","animateScrollTopManaged","durationMs","direction","TManagedScrollTopAnimationDuration","duration","scrollTopMax","scrollLeftMax","options","scrollBarWidth","lockScroll","unlockScroll","isScrollLocked","on","eventName","pageEventHandlers","h","off","setReady","filterBarItemClassNameIdentifier","sideCart","apiLocation","routeChangeCompleteHandler","Router","dimensionsStateContextValue","useSettableValue","bannerHeight","collectionGridHeight","filterBarControlsHeight","scrollBottomPadding","isSwitching","processFilterBarAction","sortOrder","fromValue","toValue","refreshSwitch","sort","collectionFilterStateContentValue","fontFamily","hideLayout","cartOpenHandler","cartCloseHandler","useCart","bodyBackgroundColor","serverTimeScript","script","Head","pageHoriInjectedStyles","charSet","CollectionFilterStateContext","pageHoriRef","pageHoriStyles","pageHoriClassName","pageStyles","pageClassName","overflow","main","PriceUpdate","priceUpdateRef","queuedRef","isQueuedRef","sign","priceUpdate","timeoutHandleRef","stateRef","goIntoHiding","goIntoShowing","queueValue","lastPriceRef","lastPriceSetRef","ret","unqueueValue","GridRow","onProductPage","titleHeight","knownCount","firstItem","GridItem","secondItem","pid","rows","rowCount","ceil","columns","titleCaption","alsoBoughtWith","titleColor","row","Fragment","imageHoverSrc","Square","titleRef","reviewText","ratingCount","itemReviewCountColor","itemReviewCountHoverColor","priority","initialValue","onBeforeSet","setValue","refPerm","animation","Up","Down","Either","innerWidth","documentElement","innerHeight","lstoreKey","lstorelastLoginEmailKey","getLastLoginEmail","lstore","onSet","isReadyRef","boughtTogether","libMockReviews","cachedRef","digest","usedHash","weightedHash","table","weight","_a","_b","b","pnt","popular","candidate","process","template","templateRef","permanentClassNames","entriesRef","controllerRef","refTimeout","controller","useStringState","additionalClassNames","beforePushSubscriptions","routerLocked","processBeforePushSubscriptions","Promise","resolve","counting","waitCount","subscriptionCb","reactRouterRef","runLocked","withLinearTopWorkingIndicator","force","beforePushSubscribe","_cb","_cache_analyzeScrollbarCapabilities","scrollbarWidth","overlaySupported","isStyleable","_is_analyzeScrollbarCapabilities","stylesRef","classNameRef","overlayClassName","hideOverlayClassName","normalClassName","overlayScrollbarWidth","normalScrollbarWidth","analyzeScrollbarCapabilities","divChild","targetScrollbarWidth","css","styleSheet","cssText","createTextNode","getElementsByTagName","removeChild","subscribers","topic","equate","splice","ro","ResizeObserver","_entries","_target","initialCall","getBoundingClientRect","unobserve","rawReviewsHeaderProductToReal","totalRating","totalReviews","header","products","consumeAllReviewsHeader","useIsMounted","isMountedRef","isMounted","useCallback","subscriptionsRef","interfaceRef","EditOrderApi","editSecureKey","getOrder","editOrderId","response","cartItems","priceCents","orderReturnUrl","infiniteFetch","saveOrder","newCheckout","notifyCustomer","staffNote","ApiLocation","countryCode","country_code","DummyReviewGen","reviews","generateRandomName","random","SeededRandomByProductId","choice","getRandom","good","getByTypeAndIndex","ApiReview","cachedDummyReviewGen","getDummyReviewGens","getHighlight","dummyReviewGen","getReviews","order","lastSortKey","byRating","apiReview","sendStorefrontQuery","query","variables","storefront","graphqlUrl","token","ok","error","createCheckout","cartId","cartCreate","checkoutUrl","customAttributes","lineItems","attributes","variantId","checkoutId","Env","matchMedia","matches","isDesktop","init","localStorage","setItem","get","parse","getItem","_isFontAvailable","Misc","getServerTime","TBDLServerTimeDiff","setLongTimeout","longTimeout","eventAt","currentTime","remaining","integerSplit","total","count","part","integerSplitByRatio","ratios","ratiosTotal","reduce","acc","take","limitCeiling","ceiling","limitFloor","getTextWidth","letterSpacing","canvas","ctx","getContext","textBaseline","fillStyle","measureText","getTextAspectRatio","removeDuplicates","values","isFontAvailable","container","innerHTML","getWidth","monoWidth","serifWidth","sansWidth","awaitFont","timeoutMilliseconds","sleep","milliseconds","promiseGenRetrierGen","promiseGen","retries","sleepBetweenMs","lastError","removeAllCaps","parts","words","word","ch","toLowerCase","toUpperCase","trimEnd","getParameterByName","replace","regex","RegExp","decodeURIComponent","parseQuerySearchString","keyValue","queryParamsToQuerySearchString","getQueryParams","addQueryParamToUrl","paramName","paramValue","overwrite","hashTag","r","queryParams","hasOwnProperty","removeQueryParamsFromUrl","paramNames","querySearchString","splitPriceForDisplay","pricePre","parseInt","createImageDimensions","aspectRatioWidth","aspectRatioHeight","combinations","indexes","pop","genUUID","now","lookupArray","arr","lookupCb","getOffsetRelativeToParent","parentQuery","offsetParent","offsetLeft","parent","waitForStyleValue","element","interval","waitForCondition","getComputedStyle","check","sha1Hash","sourceBytes","resultParts","TextEncoder","encode","crypto","subtle","Uint8Array","padStart","focusInputElement","focusSelectElement","getInputElementValue","getInputElementChecked","getInputElementSelectionStart","selectionStart","getSelectElementValue","setInputElementValue","setInputElementChecked","setSelectElementValue","setSelectElementSelectedIndex","isValidEmail","removeItemsFromArray","newArr","arrayToHash","isExternalPath","seed","m","fromLength","betweenInclusive","to","trueFrom","trueTo","shuffleArray","j","randomRing","ProductMockReviewCollection","reviewHeaders","ratingsHeader","views","mostRecent","highestRated","lowestRated","perRating","ringShuffleMap","genReviewsHeaderRaw","ratingsRatio","ratingsTotal","totals","tmpTotal","ratingsOrder","pntTimestamp","typeIndex","bad","typeIndexPerRating","ratingString","reviewIndex","ringIndex","ringIndexToDummyIndex","createRandomRing","arrayToExcludeConditions","startCond","endCond","found","slice","flat","mockReviewViewItemToProductReview","dummyReviewGens","getProductReviewSummary","ratings","view","pntIndex","MockReviews","cachedReviewsHeaderRaw","productTable","genBoughtTogetherClient","getRandomProductId","excluding","currentReviewCollection","collectionsConfig","productsConfig","globalConfig","storefrontConfig","_optionsSnapshot","util","wordCase","replaceAll","charAt","QuantityDiscountCounter","use","apply","per","roundTotal","reset","PrebuildData","_previewProductsCache","_productsCache","_productHandleToIdCache","_evalInContextCache","_variantsDisabled","_productDiscountTable","_snapshotAlreadyLoaded","freeProductDefinitions","quantityDiscountDefinitions","_activeThemeCached","loadPreview","preview","getSnapshotId","snapshotIdConfig","getSalesSignature","salesName","loadSnapshot","snapshot","defaultSnapshotConfig","collections","globalSettings","optionSnapshot","getCacheBuster","cacheBusterConfig","bustCache","isVariantsDisabled","variantsDisabled","getCollectionTable","_collectionTable","collectionTable","getCollectionTableById","collection","seo","_collectionTableById","bannerImageUrl","prefix","forEachProduct","getProductTable","registerOpenSalesNotice","_openSalesNotice","getDefaultTheme","colors","collectionBanner","subtitleColor","collectionFilterControls","hoverColor","highlightColor","mobileCollectionPopupMenu","productOptions","buttonBorderColor","buttonUnselectedTextColor","buttonSelectedBackgroundColor","buttonSelectedTextColor","buttonSelectedBorderColor","sliderNoColor","sliderNoTextColor","sliderYesColor","sliderYesTextColor","addonsPriceUnselectedTextColor","addonsPriceSelectedTextColor","colorPickerChoiceTextColor","colorPickerHoverTextColor","addonsDescriptionColor","addonsIncludedDescriptionColor","collectionItem","titleHoverColor","priceColor","priceHoverColor","reviewCountColor","reviewCountHoverColor","nicotineWarningBox","borderColor","productBreadcrumbs","linkColor","productPriceTitleBadge","optionsReadyBorderColor","priceTextColor","separatorLineColor","reviewBodyTextColor","readMoreTextColor","readMoreHoverTextColor","buttonColor","productDescriptionTabs","hoverTextColor","selectedColor","productDescription","linkTextColor","tableBackgroundColor","tableAltBackgroundColor","tableBorderColor","productTitlePriceTopSlider","borderBottomColor","mobileborderBottomColor","productReviews","lighterTextColor","ratingFilterBadgeColor","ratingFilterBadgeHoverColor","ratingFilterBadgeBorderColor","ratingFilterBadgeTextColor","ratingFilterBadgeCrossColor","loadMoreButtonColor","loadMoreButtonHoverColor","loadMoreButtonTextColor","noReviewsTextColor","noReviewsIconColor","reviewItemTextColor","reviewItemDateTextColor","reviewItemAvatarBackgroundColor","reviewStarsBarHoverTextColor","reviewStarsBarHighlighterColor","reviewStarsBarBorderColor","reviewStarsBarPercentageBarColor","reviewStarsBarPercentageBarHoverColor","reviewStarsBarPercentageBarBorderColor","reviewStarsBarPercentageBarHoverBorderColor","reviewStarsBarPercentageBarSelectedColor","homeAnnouncementBoard","lineHeight","getActiveTheme","getGlobalConfig","mergeObjectIntoThemeObject","themeObj","layerObj","field","isSimpleObject","_activeThemeLayers","baseTheme","theme","themes","salesThemeName","activeTheme","_activeTheme","themeLayer","getThemeBaseUrl","processColors","themeName","processSales","activeSales","periodDateToTimestamp","period","p","pad","len","currentServerTime","month","day","hours","minutes","timezone","analyzePeriod","status","startsAt","endsAt","setupStartOrEndOfSale","processSale","sale","_name","salesComponentsHash","salesComponent","componentName","filters","includeTags","excludeTags","tags","tag","isFiltered","isExcludeFiltered","matched","productTags","getProductTags","productVariantFn","variantHash","getVariantHash","evalInContext","productVariant","productVariantMakeup","_variants","fpDefinition","conditions","variants","variantIdHash","variantsFn","isArray","quantityDiscountVariantHash","variant","counter","soonestStartsAt","getProductDiscountTable","getProductDiscount","getCollectionById","_productTable","getProductById","getCollectionByHandle","getCollectionItems","omitSupport","getOptionsSnapshot","_variantHash","getFilteredProductList","collectionFilters","includeTaggedFilters","excludeTaggedFilters","collectionFilter","tagsMatch","fromTags","product","taggedFilter","getProductStubTable","_productStubTable","getProductDescriptionHtmlTable","_productDescriptionHtmlTable","descriptionHtml","getProductDescriptionHtml","getProductStub","getProductAliasStubTable","_productAliasStubTable","productStubTable","alias","getProductAliasStub","getVariantStubTable","_variantStubTable","optionsSnapshot","custom","getVariantStub","getVariantAndProductStub","variantExists","isVariantCustom","fnCode","productAliasStubTable","globalVars","vars","Function","fnFactory","allVariants","stub","firstVariant","getProductSmallImageSlideShowMatch","slideshowMatch","originalSrc","extractVariantsFromLink","optionValues","optionId","getOptionsCompiler","getProductOptions","optionsStub","option","optionValue","itemId","fn","getStorefront","getCentVariantId","getInfoVariantId","infoVariantId","getProductPriceTable","optionsCompiler","_productPriceTable","processPriceComponent","priceDef","param","globalPriceObj","_param","priceComponent","base","optionStub","multiSelect","required","selectedCount","getProductPrice","asInteger","productPriceTable","applyDiscountsToPrice","discounts","freeProduct","freeComponentName","totalPercentage","totalDiscount","remainingDiscount","getProductPageRouteTable","_productPageRouteTable","collectionHandle","productHandle","getProductPageDiscountedPrice","getProductPageRoute","getProductCollectionByHandlesTable","_productCollectionByHandlesTable","getProductCollectionByHandles","getProductToCollectionTable","_productToCollectionTable","collectionsTable","collectionName","getProductToCollectionById","getHomePageGridImages","_homePageGridImages","ids","visProducts","first","last","image","largeImages","imageHover","getCollectionProductsHashTable","_collectionProductsHashTable","collectionHasProduct","hashTable","getProductPageParamsTable","_productPageParamsTable","product_id","getProductPageParams","_optionsCompiler","OptionsCompiler","loadOnlineSnapshot","isPreview","addOriginalSrcToImages","images","tableBuilt","breakIntoWords","buildTable","ptcTable","fragment","productHash","valueWords","wordCountHash","captionToHtmlCaption","lcCaption","harr","_generateCartItemPropertiesCache","dollarPriceToCentPrice","thumbSrc","titleSep","packingSlipTitlePartToString","packingSlipTitleToString","packingSlipPartToString","dodgerLines","blueLines","blackLines","packingSlipPartsToString","itemParts","getBlackLinesFromAddons","addonsOption","extraFlavoringOption","extraCoolOption","sour","cool","sweet","aliasedProductIds","whiteDeviceColorId","agentCoolQuantity","sweetenerQuantity","usbCableQuantity","salts","pods","devices","addSimpleItem","thumbImage","addNonCustomSalt","nicotineId","addReplacementPod","resistanceId","extractReplacementPods","replacementPodsOption","podQuantity","extractUsbCable","usbCCableOption","extractColorInfo","colorOption","colorOptionRef","colorItemRef","colorId","colorCaption","colorSlideshowMatch","colorCode","mg15","mg30","mg50","extractNicotineInfo","nicotineOption","titlePart","customLine","extractAddonProducts","agentCoolOption","sweetenerOption","customTitlePart","sepTitlePart","endsWith","sizeOption","nicotineInfo","sizeValue","infoMap","vgOption","vgValue","resistanceOption","dealOption","variantStub","colorInfo","isCaliburnBundle","flavorsOption","extractFlavorBlackLines","mysteryFlavorVariantCaption","isStarterPack","podPacksInfo","podPackOptionRef","podPackOption","podPackId","podPackQuantity","podPackCaption","extractPodPacksInfo","flavorPackInfo","flavorPackOptionRef","flavorPackOption","flavorPackId","flavorPackItemRef","flavors","flavorPackCaption","extractFlavorPackInfo","nicotineTitlePart","nicotineCustomLine","extractBonusInfo","bonusFlavorOption","bonusFlavorCaption","extractBonusFlavor","deviceCaption","whiteDeviceCaption","generateCartItemInitialOptionValues","preSelected","defaultSet","included","getSimpleOptionPrice","cartLink","priceFunctionCode","fnPrice","generateCartItemPriceProperties","enforceLimitOnePerOrder","hasMoreThanOneItem","ignoreUuid","uuid","activatedOptionsMap","itemProduct","indexHash","determinePrice","fnParam","multi","tryParentIfNoChild","limitOnePerOrder","priceAddedHash","priceBeyondFirst","added","_fnParam","combinedPriceAddedHash","variantPriceContribution","variantPriceContributionBeyondFirst","breakdown","getVariantLinkBreakdownForItem","ignoreActivatedOptionsMap","ignoreQuantity","breakdownNew","getVariantLinkBreakdownForItemNew","transferBreakdownToSingleContribution","contribution","quantityPricingOverOne","vb","variantIds","splitCount","partPrice","variantQuantity","transferBreakdownToContribution","addToPrice","addDeterminePriceResult","activatePriceUsedMap","optionItem","displayFn","displayNullId","activatePrice","quantityValue","pricingOverOne","displayId","optionItems","hasDealAlready","itemCaption","itemCaptionFn","productStub","multiple","propertyEntry","digestKeys","digestKey","cartItemToCartDisplay","realPrice","discountedPrice","applyDiscountToVariantPriceContribution","originalImageSrc","editMode","editItems","Cart","lsKey","loadedFromLocalStorage","editOrderIsCreate","beforeLoadedCbs","subscriptionCbs","deletionSubscriptionCbs","accountShopifyIntegrationStore","accountValue","accountData","convertPhone","phone","miscShared","firstName","lastName","addresses","address","loadEditOrder","addEditOrderItem","fireSubscriptions","updateCartItem","editedItem","lookupItem","genDigest","saveToLocalStorage","loadFromLocalStorage","copyCbs","runWhenLoaded","deleteItem","foundDigest","fireDeletionSubscriptions","applyQuantityDiscounts","usedVariants","reversedItems","reverse","itemQuantityDiscounts","saleUsedVariants","itemIndex","itemSalePrice","itemSaleContribution","percentageDiscount","quantityDiscounts","componentNames","newSalePrice","realDiscount","realDiscountPart","genDisplayItems","deletionSubscribe","_id","normalizeValue","optionValueArray","digestObj","addItem","willProvideUuid","newId","newItem","getItemIdByDigest","existingItem","linkOptions","linkOption","track","trackFn","eval","checkedValue","uncheckedValue","linkItem","currentQuantity","newQuantity","oldValue","genItemsToEditOrderDigest","genEditOrderDigest","itemsDifferFromEditOrder","debug","variantLinksHash","itemProductStub","addVariantLink","itemQuantity","processLink","optionParam","getProperties","lineItemProperties","selectVariant","attrJson","getVariantSelectOptionStub","itemIds","getVariantLinks","ignoreFreeProducts","setItems","isFirstCall","isFirstRefresh","beforeRefreshSubscriptionsRef","refresh","subscribeBeforeRefresh","subsciptions","newState","processFreeProducts","cartUuid","variantQuantityHash","totalQuantity","existingCartItem","cartItem","db","subtotal","cartUrl","variantLinksQuantityHash","snpsid","linkedLineItems","webUrl","checkoutDomain","regexRes","checkoutCreate","MiscShared","convertSplitPhoneNumberToPlusPhoneNumber","cache","collectionOptions","withLoad","productToParentCollection","extensionStack","createEmptyDefinitionWithOptions","loadDefinitionDefinition","definition","getCollectionOptionsAsExtension","extends","load","getCollectionOptions","definitions","withoutLoad","mergeDefinition","mergeDefinitionWithCustomization","customization","removeNegativeConditionalOptions","conditional","conditionalFn","onDelta","tsHandler","tmHandler","teHandler","onFirstDelta","deltaDirection","preventDefaultOnDelta","lastPoint","isFirstDelta","blocked","deltaIsActive","wx","wy","sizes","unoptimized","loading","lazyRoot","lazyBoundary","quality","objectFit","objectPosition","blurDataURL","all","_object_without_properties_loose","configContext","_react","_imageConfigContext","ImageConfigContext","config","useMemo","c","configEnv","_imageConfig","imageConfigDefault","allSizes","deviceSizes","imageSizes","_extends","rest","loader","defaultImageLoader","customImageLoader","opts","staticSrc","isStaticRequire","isStaticImageData","isStaticImport","staticImageData","default","isLazy","loadedImageURLs","has","experimentalUnoptimized","sizerSvgUrl","blurComplete","setBlurComplete","_useIntersection","useIntersection","rootRef","rootMargin","setIntersection","isIntersected","resetIntersected","isVisible","wrapperStyle","boxSizing","background","border","margin","sizerStyle","hasSizer","layoutStyle","minWidth","maxWidth","minHeight","maxHeight","widthInt","getInt","heightInt","qualityInt","imgStyle","assign","blurStyle","backgroundSize","backgroundPosition","backgroundImage","quotient","isNaN","imgAttributes","emptyDataURL","srcSet","generateImgAttrs","srcString","linkProps","useLayoutEffect","onLoadingCompleteRef","previousImageSrc","imgElementArgs","noscriptSizes","ImageElement","_head","as","require","_interop_require_default","_interop_require_wildcard","_normalizeTrailingSlash","Set","Map","loaders","dangerouslyAllowSVG","normalizePathTrailingSlash","URL","normalizeSrc","searchParams","getAll","paramsString","getWidths","match","viewportWidthRe","percentSizes","smallestRatio","widths","s","kind","w","find","loaderProps","loaderKey","VALID_LOADERS","handleLoading","decode","catch","then","parentNode","naturalWidth","naturalHeight","onError","decoding","complete","currentTarget","__esModule","isDisabled","hasIntersectionObserver","visible","setVisible","setElement","tagName","callback","createObserver","instance","existing","idList","observers","elements","isIntersecting","delete","findIndex","idleCallback","_requestIdleCallback","requestIdleCallback","cancelIdleCallback","resetVisible","MyApp","Component","pageProps","setWindowSize","getInitialProps","appContext","appProps","App","__webpack_modules__","str","charCodeAt","__unused_webpack_module","__nccwpck_require__","computeId","baseId","propsToString","String","_stringHash","computeSelector","idcss","_defineProperties","descriptor","isProd","isString","o","prototype","call","StyleSheet","_temp","_ref","_ref$name","_ref$optimizeForSpeed","optimizeForSpeed","_ref$isBrowser","isBrowser","invariant","_deletedRulePlaceholder","_optimizeForSpeed","_isBrowser","_serverSheet","_tags","_injected","_rulesCount","node","_nonce","getAttribute","Constructor","protoProps","staticProps","_proto","setOptimizeForSpeed","bool","flush","inject","isOptimizeForSpeed","_this","makeStyleTag","getSheet","warn","cssRules","insertRule","rule","deleteRule","getSheetForTag","sheet","styleSheets","ownerNode","insertionPoint","replaceRule","textContent","_this2","rules","concat","cssString","relativeToTag","setAttribute","head","insertBefore","condition","JSXStyle","_stylesheetRegistry","_hash","useInsertionEffect","defaultRegistry","createStyleRegistry","registry","useStyleRegistry","dynamic","info","tagInfo","StyleRegistry","_ref2","configuredRegistry","rootRegistry","StyleSheetContext","StyleSheetRegistry","_getRequireWildcardCache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_interopRequireWildcard","_stylesheet","WeakMap","_ref$styleSheet","_sheet","_fromServer","_indices","_instancesCounts","selectFromServer","_this$getIdAndRules","getIdAndRules","styleId","indices","tagFromServer","update","nextProps","_this3","fromServer","Boolean","args","nonce","mapRulesToStyle","querySelectorAll","createContext","__webpack_module_cache__","moduleId","cachedModule","threw","ab","__dirname","__webpack_exports__","_style","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","Item","array","noop","nextTick","arguments","browser","argv","versions","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","_arrayLikeToArray","arr2","asyncGeneratorStep","gen","reject","_next","_throw","arg","done","_asyncToGenerator","self","_classCallCheck","TypeError","_iterableToArray","iter","Symbol","iterator","_defineProperty","_objectSpread","source","ownKeys","getOwnPropertySymbols","sym","_objectSpreadProps","getOwnPropertyDescriptors","defineProperties","object","enumerableOnly","symbols","_slicedToArray","_toConsumableArray","_typeof","constructor","_unsupportedIterableToArray","minLen","n"],"sourceRoot":""}