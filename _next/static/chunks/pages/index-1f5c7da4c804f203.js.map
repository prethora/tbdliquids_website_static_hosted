{"version":3,"file":"static/chunks/pages/index-1f5c7da4c804f203.js","mappings":"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","sources":["webpack://_N_E/","webpack://_N_E/./components/collection_grid_item.tsx","webpack://_N_E/./pages/index.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return require(\"private-next-pages/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/\"])\n      });\n    }\n  ","import { useContext, useState } from \"react\";\nimport { LayoutStateContext } from \"../contexts/layout_state\";\nimport { useCustomRouter } from \"../hooks/use_custom_router\";\nimport { Image } from \"./common/scaled-next-image\";\nimport { EventPane } from \"./core/event_pane\";\n\nexport type CollectionGridItemProps = {\n    imageSrc: string;\n    hoverImageSrc?: string;\n    route: string;\n    caption: string;\n};\n\nexport function CollectionGridItem({imageSrc,hoverImageSrc,route,caption}:CollectionGridItemProps)\n{\n    const [showImage,setShowImage] = useState(false);\n\n    const { mobileDetect: { widthCutoff: mobileCutoff } } = useContext(LayoutStateContext);\n\n    const router = useCustomRouter();\n\n    const clickHandler = () => {\n        router.push(route);\n    };\n\n    return (\n        <>\n            <div className={\"container\"+(showImage?\" show\":\"\")}>\n                <Image src={imageSrc} layout=\"fill\" onLoadingComplete={() => setShowImage(true)} />\n                {hoverImageSrc?(\n                    <div className=\"overlay\">\n                        <div className=\"inner\">\n                            <Image src={hoverImageSrc} layout=\"fill\" />\n                        </div>\n                    </div>\n                ):null}\n                <div className=\"caption\">{caption}</div>\n                <div className=\"mobile-overlay\"></div>\n                <EventPane onClick={clickHandler} />\n            </div>\n            <div className=\"mobile-caption\">\n                {caption}\n            </div>\n            <style jsx>{`\n            .container {\n                width: 100%;\n                padding: 50%;\n                cursor: pointer;\n                position: relative;\n                --duration: 0.7s;\n                visibility: hidden;\n                opacity: 0;\n                border: 1rem solid #e6e6e6;\n            }\n\n            .caption {\n                position: absolute;\n                left: 17rem;\n                top: 17rem;\n                --color: #999;\n                color: var(--color);\n                /* background-color: #aaa; */\n                padding: 3rem 12rem;\n                border-radius: 20rem;\n                font-size: 12rem;\n                border: 1rem solid var(--color);\n                font-weight: 600;\n            }\n\n            .container.hover .caption {\n                background-color: #444;\n                color: #FFF;\n            }\n\n            .container.hover {\n                border: 1rem solid #ccc;\n            }\n\n            .container.show {\n                transition: visibility var(--duration),opacity var(--duration);\n                visibility: visible;\n                opacity: 1;\n            }\n\n            .overlay {\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;\n                opacity: 0;\n            }\n\n            .overlay .inner {\n                position: relative;\n                width: 100%;\n                height: 100%;\n            }\n\n            .mobile-overlay {\n                position: absolute;\n                left: 0rem;\n                top: 0rem;\n                width: 100%;\n                height: 100%;\n                background-color: rgba(0,0,0,0.075);\n                visibility: hidden;\n                opacity: 0;\n                --duration: var(--touch-duration);\n                transition: opacity var(--duration),visibility var(--duration);\n            }\n\n            .container.hover .overlay {\n                opacity: 1;\n                transition: opacity 0.3s ease-in-out;\n            }\n\n            .container.touchdown .mobile-overlay {\n                visibility: visible;\n                opacity: 1;\n            }\n\n            .mobile-caption {\n                text-align: center;\n                font-size: 11rem;\n                padding: 4rem 0rem;\n                color: #444;\n                display: none;\n            }\n\n            @media screen and (max-width: ${mobileCutoff}px) {\n                .container {\n                    border: 1rem solid #eee;\n                }\n\n                .mobile-caption {\n                    display: block;\n                }\n\n                .caption {\n                    display: none;\n                }\n            }\n            `}</style>\n        </>\n    );\n}","import Head from 'next/head'\nimport { useContext, useEffect, useRef, useState } from 'react'\nimport Banner, { TBannerLayout } from '../components/banner';\nimport { CollectionGridItem } from '../components/collection_grid_item';\nimport { ScrollAnimation } from '../components/core/scroll_animation';\nimport { Grid } from '../components/core/grid';\nimport { WindowSizeContext } from '../contexts/window_size'\nimport { LayoutStateContext } from '../contexts/layout_state';\nimport { prebuildData } from '../lib/prebuild-data';\nimport { useCustomRouter } from '../hooks/use_custom_router';\nimport { getInjectableHeaderTags } from '../components/layout';\nimport { useCssStateManager } from '../hooks/use_css_state_manager';\nimport { GlobalTheme } from \"../lib/shared/options/types\";\nimport { useSmartState } from '../hooks/use_smart_state';\n//aspectRatio={1.382882883} \n\ntype HomeAnnouncementBoardProps = {\n    data: GlobalTheme[\"homeAnnouncementBoard\"];\n};\n\nfunction HomeAnnouncementBoard({data}: HomeAnnouncementBoardProps) {\n    const cssStateManager = useCssStateManager([\"home-announcement-board\"])\n\n    if (data.lines.length===0) return null;\n\n    const { lines,fontSize,lineHeight,textColor,verticalPadding } = data;\n\n    return (\n        <>\n            <div className={cssStateManager.getClassNames()}>\n                {lines.map((line,index) => (\n                    <div key={index} dangerouslySetInnerHTML={{__html: line}}></div>\n                ))}\n            </div>\n            <style jsx>{`\n            .home-announcement-board {\n                color: ${textColor};\n                text-align: center;\n                font-size: ${fontSize}rem;\n                padding: ${verticalPadding}rem 0rem;\n                line-height: ${lineHeight}rem;\n            }\n            `}</style>\n        </>\n    );\n}\n\n\nexport default function Home() \n{\n    const router = useCustomRouter();\n    const shiftLeft = -2;\n    const windowSize = useContext(WindowSizeContext);\n    const windowSizeWidthRef = useRef(windowSize.width);\n    windowSizeWidthRef.current = windowSize.width;\n    const { page,scalePixelToRem,scaleFactorDetectUseEffect } = useContext(LayoutStateContext);\n    const [columns,setColumns] = useState(3);\n    const bannerHeight = useSmartState(444);\n\n    useEffect(() => \n    {\n        const columnsCount = (windowSize.width<=750)?2:3;\n        setColumns(columnsCount);\n        // bannerHeight.value = (scalePixelToRem(windowSize.width)/columnsCount)*0.97;\n    },[`${windowSize.height}-${windowSize.width}`]);\n\n    scaleFactorDetectUseEffect((scalePixelToRem) => {\n      const columnsCount = (windowSizeWidthRef.current<=750)?2:3;\n      bannerHeight.value = (scalePixelToRem(windowSizeWidthRef.current)/columnsCount)*0.97;\n    },[]);\n\n\n    const bannerClickHandler = () => {\n        const pageRoute = prebuildData.getProductPageRoute(prebuildData.getProductAliasStub(\"caliburnA2StarterBundle\").id);        \n        router.push(pageRoute);\n    };\n\n    const gridImages = prebuildData.getHomePageGridImages();\n\n    useEffect(() => {\n      return router.beforePushSubscribe((cb) => {\n          page.scrollToTopWithCallback(cb);\n          return true;\n      });\n    },[]);\n\n    const { indexMeta } = prebuildData.getGlobalConfig();\n    const { homeAnnouncementBoard } = prebuildData.getActiveTheme();\n\n    return (\n      <>\n        <Head>\n          {getInjectableHeaderTags(indexMeta.title,indexMeta.description,\"\")}\n        </Head>\n        <div className=\"container\">\n          <HomeAnnouncementBoard data={homeAnnouncementBoard} />\n          <Banner \n              src={prebuildData.bustCache(\"/images/banner2.jpg\")} \n              aspectRatio={825/444}\n              height={bannerHeight.value /* 444 */} \n              texts={[\n                  {\n                      color: \"#000000\",\n                      family: \"Open Sans\",\n                      left: 63+shiftLeft,\n                      top: 10,\n                      size: 8,\n                      weight: 600,\n                      text: \"Always Satisfying.\"\n                  },{\n                      color: \"#000000\",\n                      family: \"Open Sans\",\n                      left: 66+shiftLeft,\n                      top: 22,\n                      size: 6,\n                      weight: 500,\n                      text: \"Never compromising.\"\n                  },{\n                        color: \"#4049ff\",\n                      family: \"Open Sans\",\n                      left: 77+shiftLeft,\n                      top: 32,\n                      size: 5,\n                      weight: 500,\n                      text: \"Learn more >\",\n                      url: \"https://www.tbdliquids.com\"\n                  }\n              ]}\n              layout={TBannerLayout.Center}\n              onClick={bannerClickHandler}\n          />\n          <div className=\"under-banner-spacer\"></div>\n          <div className=\"grid-frame\">\n            <Grid square={false} columns={columns} horizontalCellSpacing={10} verticalCellSpacing={10} scrollAnimation scrollAnimationThreshold={0.55}>\n              {gridImages.map(({route,caption,image,imageHover},index) => <CollectionGridItem key={route} route={route} caption={caption} imageSrc={prebuildData.bustCache(image)} hoverImageSrc={prebuildData.bustCache(imageHover)} />)}\n            </Grid>\n          </div>\n        </div>\n        <style jsx>{`\n        .under-banner-spacer {\n          height: 18rem;\n        }\n        .grid-frame {\n          padding: 0rem 10rem;\n          margin-bottom: 50rem;\n        }\n        `}</style>\n      </>\n    )\n}\n"],"names":["window","__NEXT_P","push","CollectionGridItem","imageSrc","hoverImageSrc","route","caption","useState","showImage","setShowImage","widthCutoff","useContext","LayoutStateContext","mobileDetect","router","useCustomRouter","div","mobileCutoff","Image","src","layout","onLoadingComplete","EventPane","onClick","HomeAnnouncementBoard","data","cssStateManager","useCssStateManager","lines","length","fontSize","lineHeight","textColor","verticalPadding","getClassNames","map","line","index","dangerouslySetInnerHTML","__html","Home","windowSize","WindowSizeContext","windowSizeWidthRef","useRef","width","current","page","scaleFactorDetectUseEffect","scalePixelToRem","columns","setColumns","bannerHeight","useSmartState","useEffect","columnsCount","height","value","gridImages","prebuildData","beforePushSubscribe","cb","scrollToTopWithCallback","indexMeta","homeAnnouncementBoard","Head","getInjectableHeaderTags","title","description","Banner","aspectRatio","texts","color","family","left","top","size","weight","text","url","TBannerLayout","pageRoute","id","Grid","square","horizontalCellSpacing","verticalCellSpacing","scrollAnimation","scrollAnimationThreshold","image","imageHover"],"sourceRoot":""}